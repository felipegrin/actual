var backend;(()=>{var __webpack_modules__={9298:(t,e,r)=>{var n="/";t=r.nmd(t);var o=r(4155),a=r(8764).Buffer,s=void 0,u=function(e){return s||(s=new Promise(function(s,u){var l,c,f,d,p,h,y,g,m=void 0!==e?e:{},_=m.onAbort;m.onAbort=function(t){u(Error(t)),_&&_(t)},m.postRun=m.postRun||[],m.postRun.push(function(){s(m)}),t=void 0,m||(m=void 0!==m?m:{}),m.onRuntimeInitialized=function(){function t(t,e){this.Qa=t,this.db=e,this.Pa=1,this.wb=[]}function e(t,e){if(this.db=e,e=X(t)+1,this.hb=t0(e),null===this.hb)throw Error("Unable to allocate memory for the SQL string");J(t,tn,this.hb,e),this.sb=this.hb,this.eb=this.Mb=null}function r(t,{filename:e=!1}={}){!1===e?(this.filename="dbfile_"+(4294967295*Math.random()>>>0),this.Xc=!0,null!=t&&tH.zb("/",this.filename,t,!0,!0)):this.filename=t,this.handleError(a(this.filename,n)),this.db=B(n,"i32"),Q(this.db),this.nb={},this.Xa={}}var n=t5(4),o=m.cwrap,a=o("sqlite3_open","number",["string","number"]),s=o("sqlite3_close_v2","number",["number"]),u=o("sqlite3_exec","number",["number","string","number","number","number"]),l=o("sqlite3_changes","number",["number"]),c=o("sqlite3_prepare_v2","number",["number","string","number","number","number"]),f=o("sqlite3_sql","string",["number"]),d=o("sqlite3_normalized_sql","string",["number"]),p=o("sqlite3_prepare_v2","number",["number","number","number","number","number"]),h=o("sqlite3_bind_text","number",["number","number","number","number","number"]),y=o("sqlite3_bind_blob","number",["number","number","number","number","number"]),g=o("sqlite3_bind_double","number",["number","number","number"]),_=o("sqlite3_bind_int","number",["number","number","number"]),b=o("sqlite3_bind_parameter_index","number",["number","string"]),w=o("sqlite3_step","number",["number"]),E=o("sqlite3_errmsg","string",["number"]),v=o("sqlite3_column_count","number",["number"]),S=o("sqlite3_data_count","number",["number"]),T=o("sqlite3_column_double","number",["number","number"]),O=o("sqlite3_column_text","string",["number","number"]),A=o("sqlite3_column_blob","number",["number","number"]),I=o("sqlite3_column_bytes","number",["number","number"]),N=o("sqlite3_column_type","number",["number","number"]),D=o("sqlite3_column_name","string",["number","number"]),R=o("sqlite3_reset","number",["number"]),C=o("sqlite3_clear_bindings","number",["number"]),M=o("sqlite3_finalize","number",["number"]),x=o("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),k=o("sqlite3_value_type","number",["number"]),U=o("sqlite3_value_bytes","number",["number"]),j=o("sqlite3_value_text","string",["number"]),W=o("sqlite3_value_blob","number",["number"]),H=o("sqlite3_value_double","number",["number"]),z=o("sqlite3_result_double","",["number","number"]),V=o("sqlite3_result_null","",["number"]),$=o("sqlite3_result_text","",["number","string","number","number"]),q=o("sqlite3_result_blob","",["number","number","number","number"]),Y=o("sqlite3_result_int","",["number","number"]),K=o("sqlite3_result_error","",["number","string","number"]),Q=o("RegisterExtensionFunctions","number",["number"]);t.prototype.bind=function(t){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(t)?this.vc(t):null==t||"object"!=typeof t||this.wc(t)},t.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Pa=1;var t=w(this.Qa);switch(t){case 100:return!0;case 101:return!1;default:throw this.db.handleError(t)}},t.prototype.Pc=function(t){return null==t&&(t=this.Pa,this.Pa+=1),T(this.Qa,t)},t.prototype.Qc=function(t){return null==t&&(t=this.Pa,this.Pa+=1),O(this.Qa,t)},t.prototype.getBlob=function(t){null==t&&(t=this.Pa,this.Pa+=1);var e=I(this.Qa,t);t=A(this.Qa,t);for(var r=new Uint8Array(e),n=0;n<e;n+=1)r[n]=tr[t+n];return r},t.prototype.get=function(t){null!=t&&this.bind(t)&&this.step(),t=[];for(var e=S(this.Qa),r=0;r<e;r+=1)switch(N(this.Qa,r)){case 1:case 2:t.push(this.Pc(r));break;case 3:t.push(this.Qc(r));break;case 4:t.push(this.getBlob(r));break;default:t.push(null)}return t},t.prototype.getColumnNames=function(){for(var t=[],e=v(this.Qa),r=0;r<e;r+=1)t.push(D(this.Qa,r));return t},t.prototype.getAsObject=function(t){t=this.get(t);for(var e=this.getColumnNames(),r={},n=0;n<e.length;n+=1)r[e[n]]=t[n];return r},t.prototype.getSQL=function(){return f(this.Qa)},t.prototype.getNormalizedSQL=function(){return d(this.Qa)},t.prototype.run=function(t){return null!=t&&this.bind(t),this.step(),this.reset()},t.prototype.zc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1);var r=G(t=tJ(t));this.wb.push(r),this.db.handleError(h(this.Qa,e,r,t.length-1,0))},t.prototype.uc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1);var r=G(t);this.wb.push(r),this.db.handleError(y(this.Qa,e,r,t.length,0))},t.prototype.yc=function(t,e){null==e&&(e=this.Pa,this.Pa+=1),this.db.handleError((t===(0|t)?_:g)(this.Qa,e,t))},t.prototype.xc=function(t){null==t&&(t=this.Pa,this.Pa+=1),y(this.Qa,t,0,0,0)},t.prototype.Tb=function(t,e){switch(null==e&&(e=this.Pa,this.Pa+=1),typeof t){case"string":this.zc(t,e);return;case"number":case"boolean":this.yc(t+0,e);return;case"object":if(null===t){this.xc(e);return}if(null!=t.length){this.uc(t,e);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+t+")."},t.prototype.wc=function(t){var e=this;return Object.keys(t).forEach(function(r){var n=b(e.Qa,r);0!==n&&e.Tb(t[r],n)}),!0},t.prototype.vc=function(t){for(var e=0;e<t.length;e+=1)this.Tb(t[e],e+1);return!0},t.prototype.reset=function(){return 0===C(this.Qa)&&0===R(this.Qa)},t.prototype.freemem=function(){for(var t;void 0!==(t=this.wb.pop());)t1(t)},t.prototype.free=function(){var t=0===M(this.Qa);return delete this.db.nb[this.Qa],this.Qa=0,t},e.prototype.next=function(){if(null===this.hb)return{done:!0};if(null!==this.eb&&(this.eb.free(),this.eb=null),!this.db.db)throw this.Bb(),Error("Database closed");var e=t3(),r=t5(4);P(n),P(r);try{this.db.handleError(p(this.db.db,this.sb,-1,n,r)),this.sb=B(r,"i32");var o=B(n,"i32");if(0===o)return this.Bb(),{done:!0};return this.eb=new t(o,this.db),this.db.nb[o]=this.eb,{value:this.eb,done:!1}}catch(t){throw this.Mb=Z(this.sb),this.Bb(),t}finally{t8(e)}},e.prototype.Bb=function(){t1(this.hb),this.hb=null},e.prototype.getRemainingSQL=function(){return null!==this.Mb?this.Mb:Z(this.sb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(e.prototype[Symbol.iterator]=function(){return this}),r.prototype.run=function(t,e){if(!this.db)throw"Database closed";if(e){t=this.prepare(t,e);try{t.step()}finally{t.free()}}else this.handleError(u(this.db,t,0,0,n));return this},r.prototype.exec=function(e,r){if(!this.db)throw"Database closed";var o=t3(),a=null;try{var s=X(e)+1,u=t5(s);J(e,tr,u,s);var l=u,c=t5(4);for(e=[];0!==B(l,"i8");){P(n),P(c),this.handleError(p(this.db,l,-1,n,c));var f=B(n,"i32");if(l=B(c,"i32"),0!==f){for(s=null,a=new t(f,this),null!=r&&a.bind(r);a.step();)null===s&&(s={columns:a.getColumnNames(),values:[]},e.push(s)),s.values.push(a.get());a.free()}}return e}catch(t){throw a&&a.free(),t}finally{t8(o)}},r.prototype.each=function(t,e,r,n){"function"==typeof e&&(n=r,r=e,e=void 0),t=this.prepare(t,e);try{for(;t.step();)r(t.getAsObject())}finally{t.free()}if("function"==typeof n)return n()},r.prototype.prepare=function(e,r){if(P(n),this.handleError(c(this.db,e,-1,n,0)),0===(e=B(n,"i32")))throw"Nothing to prepare";var o=new t(e,this);return null!=r&&o.bind(r),this.nb[e]=o},r.prototype.iterateStatements=function(t){return new e(t,this)},r.prototype.export=function(){Object.values(this.nb).forEach(function(t){t.free()}),Object.values(this.Xa).forEach(L),this.Xa={},this.handleError(s(this.db));var t=tH.readFile(this.filename,{encoding:"binary"});return this.handleError(a(this.filename,n)),this.db=B(n,"i32"),t},r.prototype.close=function(){null!==this.db&&(Object.values(this.nb).forEach(function(t){t.free()}),Object.values(this.Xa).forEach(L),this.Xa={},this.handleError(s(this.db)),this.Xc&&tH.unlink("/"+this.filename),this.db=null)},r.prototype.handleError=function(t){if(0===t)return null;throw Error(t=E(this.db))},r.prototype.getRowsModified=function(){return l(this.db)},r.prototype.create_function=function(t,e){Object.prototype.hasOwnProperty.call(this.Xa,t)&&(L(this.Xa[t]),delete this.Xa[t]);var r=F(function(t,r,n){for(var o,a=[],s=0;s<r;s+=1){var u=B(n+4*s,"i32"),l=k(u);if(1===l||2===l)u=H(u);else if(3===l)u=j(u);else if(4===l){u=U(l=u),l=W(l);for(var c=new Uint8Array(u),f=0;f<u;f+=1)c[f]=tr[l+f];u=c}else u=null;a.push(u)}try{o=e.apply(null,a)}catch(e){K(t,e,-1);return}switch(typeof o){case"boolean":Y(t,o?1:0);break;case"number":z(t,o);break;case"string":$(t,o,-1,-1);break;case"object":null===o?V(t):null!=o.length?(q(t,r=G(o),o.length,-1),t1(r)):K(t,"Wrong API use : tried to return a value of an unknown type ("+o+").",-1);break;default:V(t)}},"viii");return this.Xa[t]=r,this.handleError(x(this.db,t,e.length,1,0,r,0,0,0)),this},m.Database=r;var tt=new Map;m.register_for_idb=t=>{let e=F(function(e,r){return e=tt.get(e),t.lock(e,r)?0:5},"iii"),r=F(function(e,r){return e=tt.get(e),t.unlock(e,r),0},"iii"),n=F(function(t,e){t=Z(t),tt.set(e,t)},"vii");m._register_for_idb(e,r,n)},m.cleanup_file=t=>{let e=[...tt.entries()].find(e=>e[1]===t);tt.delete(e[0])},m.reset_filesystem=()=>{tH.root=null,tH.lc()}};var m,b,w={};for(b in m)m.hasOwnProperty(b)&&(w[b]=m[b]);var E,v,S,T,O,A="./this.program",I="object"==typeof window,N="function"==typeof importScripts,D="object"==typeof o&&"object"==typeof o.versions&&"string"==typeof o.versions.node,R="";D?(R=N?r(6470).dirname(R)+"/":n+"/",E=function(t,e){return T||(T=r(6551)),O||(O=r(6470)),t=O.normalize(t),T.readFileSync(t,e?null:"utf8")},S=function(t){return(t=E(t,!0)).buffer||(t=new Uint8Array(t)),H(t.buffer),t},v=function(t,e,n){T||(T=r(6551)),O||(O=r(6470)),t=O.normalize(t),T.readFile(t,function(t,r){t?n(t):e(r.buffer)})},1<o.argv.length&&(A=o.argv[1].replace(/\\/g,"/")),o.argv.slice(2),t.exports=m,m.inspect=function(){return"[Emscripten Module object]"}):(I||N)&&(N?R=self.location.href:"undefined"!=typeof document&&document.currentScript&&(R=document.currentScript.src),R=0!==R.indexOf("blob:")?R.substr(0,R.lastIndexOf("/")+1):"",E=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},N&&(S=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),v=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var C=m.print||console.log.bind(console),M=m.printErr||console.warn.bind(console);for(b in w)w.hasOwnProperty(b)&&(m[b]=w[b]);w=null,m.thisProgram&&(A=m.thisProgram);var x,k=[];function L(t){x.delete(tu.get(t)),k.push(t)}function F(t,e){if(!x){x=new WeakMap;for(var r=0;r<tu.length;r++){var n=tu.get(r);n&&x.set(n,r)}}if(x.has(t))t=x.get(t);else{if(k.length)r=k.pop();else{try{tu.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}r=tu.length-1}try{tu.set(r,t)}catch(u){if(!(u instanceof TypeError))throw u;if("function"==typeof WebAssembly.Function){var o={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:"v"==e[0]?[]:[o[e[0]]]};for(n=1;n<e.length;++n)a.parameters.push(o[e[n]]);e=new WebAssembly.Function(a,t)}else{o=[1,0,1,96],a=e.slice(0,1),e=e.slice(1);var s={i:127,j:126,f:125,d:124};for(o.push(e.length),n=0;n<e.length;++n)o.push(s[e[n]]);"v"==a?o.push(0):o=o.concat([1,s[a]]),o[1]=o.length-2,e=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),e=new WebAssembly.Module(e),e=new WebAssembly.Instance(e,{e:{f:t}}).exports.f}tu.set(r,e)}x.set(t,r),t=r}return t}function P(t){var e="i32";switch("*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":tr[t>>0]=0;break;case"i16":ti[t>>1]=0;break;case"i32":to[t>>2]=0;break;case"i64":f=[0,1<=+Math.abs(c=0)?0<c?(0|Math.min(+Math.floor(c/4294967296),4294967295))>>>0:~~+Math.ceil((c-+(~~c>>>0))/4294967296)>>>0:0],to[t>>2]=f[0],to[t+4>>2]=f[1];break;case"float":ta[t>>2]=0;break;case"double":ts[t>>3]=0;break;default:t_("invalid type for setValue: "+e)}}function B(t,e){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return tr[t>>0];case"i16":return ti[t>>1];case"i32":case"i64":return to[t>>2];case"float":return ta[t>>2];case"double":return ts[t>>3];default:t_("invalid type for getValue: "+e)}return null}m.wasmBinary&&(U=m.wasmBinary),m.noExitRuntime,"object"!=typeof WebAssembly&&t_("no native wasm support detected");var U,j,W=!1;function H(t,e){t||t_("Assertion failed: "+e)}function z(t){var e=m["_"+t];return H(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function V(t,e,r,n){var o={string:function(t){var e=0;if(null!=t&&0!==t){var r=(t.length<<2)+1;e=t5(r),J(t,tn,e,r)}return e},array:function(t){var e=t5(t.length);return tr.set(t,e),e}},a=z(t),s=[];if(t=0,n)for(var u=0;u<n.length;u++){var l=o[r[u]];l?(0===t&&(t=t3()),s[u]=l(n[u])):s[u]=n[u]}return r=function(t){return"string"===e?Z(t):"boolean"===e?!!t:t}(r=a.apply(null,s)),0!==t&&t8(t),r}var $=0,q=1;function G(t){var e=$==q?t5(t.length):t0(t.length);return t.subarray||t.slice?tn.set(t,e):tn.set(new Uint8Array(t),e),e}var Y="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function K(t,e,r){var n=e+r;for(r=e;t[r]&&!(r>=n);)++r;if(16<r-e&&t.subarray&&Y)return Y.decode(t.subarray(e,r));for(n="";e<r;){var o=t[e++];if(128&o){var a=63&t[e++];if(192==(224&o))n+=String.fromCharCode((31&o)<<6|a);else{var s=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|a<<6|s:(7&o)<<18|a<<12|s<<6|63&t[e++])?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else n+=String.fromCharCode(o)}return n}function Z(t,e){return t?K(tn,t,e):""}function J(t,e,r,n){if(!(0<n))return 0;var o=r;n=r+n-1;for(var a=0;a<t.length;++a){var s=t.charCodeAt(a);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),127>=s){if(r>=n)break;e[r++]=s}else{if(2047>=s){if(r+1>=n)break;e[r++]=192|s>>6}else{if(65535>=s){if(r+2>=n)break;e[r++]=224|s>>12}else{if(r+3>=n)break;e[r++]=240|s>>18,e[r++]=128|s>>12&63}e[r++]=128|s>>6&63}e[r++]=128|63&s}}return e[r]=0,r-o}function X(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++r)),127>=n?++e:e=2047>=n?e+2:65535>=n?e+3:e+4}return e}function Q(t){var e=X(t)+1,r=t0(e);return r&&J(t,tr,r,e),r}function tt(){var t=j.buffer;te=t,m.HEAP8=tr=new Int8Array(t),m.HEAP16=ti=new Int16Array(t),m.HEAP32=to=new Int32Array(t),m.HEAPU8=tn=new Uint8Array(t),m.HEAPU16=new Uint16Array(t),m.HEAPU32=new Uint32Array(t),m.HEAPF32=ta=new Float32Array(t),m.HEAPF64=ts=new Float64Array(t)}var te,tr,tn,ti,to,ta,ts,tu,tl=[],tc=[],tf=[];function td(){var t=m.preRun.shift();tl.unshift(t)}var tp=0,th=null,ty=null;function tg(){tp++,m.monitorRunDependencies&&m.monitorRunDependencies(tp)}function tm(){if(tp--,m.monitorRunDependencies&&m.monitorRunDependencies(tp),0==tp&&(null!==th&&(clearInterval(th),th=null),ty)){var t=ty;ty=null,t()}}function t_(t){throw m.onAbort&&m.onAbort(t),M(t),W=!0,new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}function tb(){return l.startsWith("data:application/octet-stream;base64,")}if(m.preloadedImages={},m.preloadedAudios={},l="sql-wasm.wasm",!tb()){var tw=l;l=m.locateFile?m.locateFile(tw,R):R+tw}function tE(){var t=l;try{if(t==l&&U)return new Uint8Array(U);if(S)return S(t);throw"both async and sync fetching of the wasm failed"}catch(t){t_(t)}}function tv(){if(!U&&(I||N)){if("function"==typeof fetch&&!l.startsWith("file://"))return fetch(l,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+l+"'";return t.arrayBuffer()}).catch(function(){return tE()});if(v)return new Promise(function(t,e){v(l,function(e){t(new Uint8Array(e))},e)})}return Promise.resolve().then(function(){return tE()})}function tS(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e(m);else{var r=e.pd;"number"==typeof r?void 0===e.yb?tu.get(r)():tu.get(r)(e.yb):r(void 0===e.yb?null:e.yb)}}}function tT(t){return t.replace(/\b_Z[\w\d_]+/g,function(t){return t==t?t:t+" ["+t+"]"})}function tO(){function t(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}if(!d){d=!0;var e=(new Date).getFullYear(),r=new Date(e,0,1),n=new Date(e,6,1);e=r.getTimezoneOffset();var o=n.getTimezoneOffset(),a=Math.max(e,o);to[t4()>>2]=60*a,to[t6()>>2]=Number(e!=o),r=t(r),n=t(n),r=Q(r),n=Q(n),o<e?(to[t2()>>2]=r,to[t2()+4>>2]=n):(to[t2()>>2]=n,to[t2()+4>>2]=r)}}function tA(t,e){for(var r=0,n=t.length-1;0<=n;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r;r--)t.unshift("..");return t}function tI(t){var e="/"===t.charAt(0),r="/"===t.substr(-1);return(t=tA(t.split("/").filter(function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function tN(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1);return(t=e[0],e=e[1],t||e)?(e&&(e=e.substr(0,e.length-1)),t+e):"."}function tD(t){if("/"===t)return"/";var e=(t=(t=tI(t)).replace(/\/$/,"")).lastIndexOf("/");return -1===e?t:t.substr(e+1)}function tR(t,e){return tI(t+"/"+e)}function tC(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return function(){return crypto.getRandomValues(t),t[0]}}if(D)try{var e=r(2074);return function(){return e.randomBytes(1)[0]}}catch(t){}return function(){t_("randomDevice")}}function tM(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){if(e=0<=r?arguments[r]:tH.cwd(),"string"!=typeof e)throw TypeError("Arguments to path.resolve must be strings");if(!e)return"";t=e+"/"+t,e="/"===e.charAt(0)}return t=tA(t.split("/").filter(function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."}function tx(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=tM(t).substr(1),e=tM(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),o=n,a=0;a<n;a++)if(t[a]!==e[a]){o=a;break}for(n=[],a=o;a<t.length;a++)n.push("..");return(n=n.concat(e.slice(o))).join("/")}var tk=[];function tL(t,e){tk[t]={input:[],output:[],gb:e},tH.Qb(t,tF)}var tF={open:function(t){var e=tk[t.node.rdev];if(!e)throw new tH.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.gb.flush(t.tty)},flush:function(t){t.tty.gb.flush(t.tty)},read:function(t,e,r,n){if(!t.tty||!t.tty.gb.cc)throw new tH.ErrnoError(60);for(var o=0,a=0;a<n;a++){try{var s=t.tty.gb.cc(t.tty)}catch(t){throw new tH.ErrnoError(29)}if(void 0===s&&0===o)throw new tH.ErrnoError(6);if(null==s)break;o++,e[r+a]=s}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,r,n){if(!t.tty||!t.tty.gb.Nb)throw new tH.ErrnoError(60);try{for(var o=0;o<n;o++)t.tty.gb.Nb(t.tty,e[r+o])}catch(t){throw new tH.ErrnoError(29)}return n&&(t.node.timestamp=Date.now()),o}},tP={cc:function(t){if(!t.input.length){var e=null;if(D){var r=a.alloc(256),n=0;try{n=T.readSync(o.stdin.fd,r,0,256,null)}catch(t){if(t.toString().includes("EOF"))n=0;else throw t}e=0<n?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n");if(!e)return null;t.input=tJ(e,!0)}return t.input.shift()},Nb:function(t,e){null===e||10===e?(C(K(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(C(K(t.output,0)),t.output=[])}},tB={Nb:function(t,e){null===e||10===e?(M(K(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&0<t.output.length&&(M(K(t.output,0)),t.output=[])}};function tU(t){var e=t7(65536,t=65536*Math.ceil(t/65536));return e?(tn.fill(0,e,e+t),e):0}var tj={Va:null,mount:function(){return tj.createNode(null,"/",16895,0)},createNode:function(t,e,r,n){if(tH.Rc(r)||tH.isFIFO(r))throw new tH.ErrnoError(63);return tj.Va||(tj.Va={dir:{node:{getattr:tj.node_ops.getattr,setattr:tj.node_ops.setattr,lookup:tj.node_ops.lookup,mknod:tj.node_ops.mknod,rename:tj.node_ops.rename,unlink:tj.node_ops.unlink,rmdir:tj.node_ops.rmdir,readdir:tj.node_ops.readdir,symlink:tj.node_ops.symlink},stream:{llseek:tj.stream_ops.llseek}},file:{node:{getattr:tj.node_ops.getattr,setattr:tj.node_ops.setattr},stream:{llseek:tj.stream_ops.llseek,read:tj.stream_ops.read,write:tj.stream_ops.write,allocate:tj.stream_ops.allocate,mmap:tj.stream_ops.mmap,msync:tj.stream_ops.msync}},link:{node:{getattr:tj.node_ops.getattr,setattr:tj.node_ops.setattr,readlink:tj.node_ops.readlink},stream:{}},Vb:{node:{getattr:tj.node_ops.getattr,setattr:tj.node_ops.setattr},stream:tH.Cc}}),r=tH.createNode(t,e,r,n),tH.isDir(r.mode)?(r.node_ops=tj.Va.dir.node,r.stream_ops=tj.Va.dir.stream,r.Na={}):tH.isFile(r.mode)?(r.node_ops=tj.Va.file.node,r.stream_ops=tj.Va.file.stream,r.Ra=0,r.Na=null):tH.fb(r.mode)?(r.node_ops=tj.Va.link.node,r.stream_ops=tj.Va.link.stream):tH.pb(r.mode)&&(r.node_ops=tj.Va.Vb.node,r.stream_ops=tj.Va.Vb.stream),r.timestamp=Date.now(),t&&(t.Na[e]=r,t.timestamp=r.timestamp),r},qd:function(t){return t.Na?t.Na.subarray?t.Na.subarray(0,t.Ra):new Uint8Array(t.Na):new Uint8Array(0)},Zb:function(t,e){var r=t.Na?t.Na.length:0;r>=e||(e=Math.max(e,r*(1048576>r?2:1.125)>>>0),0!=r&&(e=Math.max(e,256)),r=t.Na,t.Na=new Uint8Array(e),0<t.Ra&&t.Na.set(r.subarray(0,t.Ra),0))},gd:function(t,e){if(t.Ra!=e){if(0==e)t.Na=null,t.Ra=0;else{var r=t.Na;t.Na=new Uint8Array(e),r&&t.Na.set(r.subarray(0,Math.min(e,t.Ra))),t.Ra=e}}},node_ops:{getattr:function(t){var e={};return e.dev=tH.pb(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,tH.isDir(t.mode)?e.size=4096:tH.isFile(t.mode)?e.size=t.Ra:tH.fb(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.Ac=4096,e.blocks=Math.ceil(e.size/e.Ac),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&tj.gd(t,e.size)},lookup:function(){throw tH.Db[44]},mknod:function(t,e,r,n){return tj.createNode(t,e,r,n)},rename:function(t,e,r){if(tH.isDir(t.mode)){try{var n=tH.lookupNode(e,r)}catch(t){}if(n)for(var o in n.Na)throw new tH.ErrnoError(55)}delete t.parent.Na[t.name],t.parent.timestamp=Date.now(),t.name=r,e.Na[r]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.Na[e],t.timestamp=Date.now()},rmdir:function(t,e){var r,n=tH.lookupNode(t,e);for(r in n.Na)throw new tH.ErrnoError(55);delete t.Na[e],t.timestamp=Date.now()},readdir:function(t){var e,r=[".",".."];for(e in t.Na)t.Na.hasOwnProperty(e)&&r.push(e);return r},symlink:function(t,e,r){return(t=tj.createNode(t,e,41471,0)).link=r,t},readlink:function(t){if(!tH.fb(t.mode))throw new tH.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,r,n,o){var a=t.node.Na;if(o>=t.node.Ra)return 0;if(8<(t=Math.min(t.node.Ra-o,n))&&a.subarray)e.set(a.subarray(o,o+t),r);else for(n=0;n<t;n++)e[r+n]=a[o+n];return t},write:function(t,e,r,n,o,a){if(e.buffer===tr.buffer&&(a=!1),!n)return 0;if((t=t.node).timestamp=Date.now(),e.subarray&&(!t.Na||t.Na.subarray)){if(a)return t.Na=e.subarray(r,r+n),t.Ra=n;if(0===t.Ra&&0===o)return t.Na=e.slice(r,r+n),t.Ra=n;if(o+n<=t.Ra)return t.Na.set(e.subarray(r,r+n),o),n}if(tj.Zb(t,o+n),t.Na.subarray&&e.subarray)t.Na.set(e.subarray(r,r+n),o);else for(a=0;a<n;a++)t.Na[o+a]=e[r+a];return t.Ra=Math.max(t.Ra,o+n),n},llseek:function(t,e,r){if(1===r?e+=t.position:2===r&&tH.isFile(t.node.mode)&&(e+=t.node.Ra),0>e)throw new tH.ErrnoError(28);return e},allocate:function(t,e,r){tj.Zb(t.node,e+r),t.node.Ra=Math.max(t.node.Ra,e+r)},mmap:function(t,e,r,n,o,a){if(0!==e)throw new tH.ErrnoError(28);if(!tH.isFile(t.node.mode))throw new tH.ErrnoError(43);if(t=t.node.Na,2&a||t.buffer!==te){if((0<n||n+r<t.length)&&(t=t.subarray?t.subarray(n,n+r):Array.prototype.slice.call(t,n,n+r)),n=!0,!(r=tU(r)))throw new tH.ErrnoError(48);tr.set(t,r)}else n=!1,r=t.byteOffset;return{ed:r,vb:n}},msync:function(t,e,r,n,o){if(!tH.isFile(t.node.mode))throw new tH.ErrnoError(43);return 2&o||tj.stream_ops.write(t,e,0,n,r,!1),0}}};function tW(t,e,r){var n="al "+t;v(t,function(r){H(r,'Loading data file "'+t+'" failed (no arrayBuffer).'),e(new Uint8Array(r)),n&&tm()},function(){if(r)r();else throw'Loading data file "'+t+'" failed.'}),n&&tg()}var tH={root:null,mb:[],Xb:{},streams:[],Zc:1,Ua:null,Wb:"/",Hb:!1,hc:!0,Sa:{},nc:{kc:{qc:1,rc:2}},ErrnoError:null,Db:{},Lc:null,tb:0,lookupPath:function(t,e){if(t=tM(tH.cwd(),t),e=e||{},!t)return{path:"",node:null};var r,n={Cb:!0,Pb:0};for(r in n)void 0===e[r]&&(e[r]=n[r]);if(8<e.Pb)throw new tH.ErrnoError(32);t=tA(t.split("/").filter(function(t){return!!t}),!1);var o=tH.root;for(r=0,n="/";r<t.length;r++){var a=r===t.length-1;if(a&&e.parent)break;if(o=tH.lookupNode(o,t[r]),n=tR(n,t[r]),tH.ab(o)&&(!a||a&&e.Cb)&&(o=o.lb.root),!a||e.Ta){for(a=0;tH.fb(o.mode);)if(o=tH.readlink(n),n=tM(tN(n),o),o=tH.lookupPath(n,{Pb:e.Pb}).node,40<a++)throw new tH.ErrnoError(32)}}return{path:n,node:o}},Ya:function(t){for(var e;;){if(tH.isRoot(t))return t=t.mount.jc,e?"/"!==t[t.length-1]?t+"/"+e:t+e:t;e=e?t.name+"/"+e:t.name,t=t.parent}},Gb:function(t,e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return(t+r>>>0)%tH.Ua.length},ec:function(t){var e=tH.Gb(t.parent.id,t.name);t.cb=tH.Ua[e],tH.Ua[e]=t},fc:function(t){var e=tH.Gb(t.parent.id,t.name);if(tH.Ua[e]===t)tH.Ua[e]=t.cb;else for(e=tH.Ua[e];e;){if(e.cb===t){e.cb=t.cb;break}e=e.cb}},lookupNode:function(t,e){var r=tH.Vc(t);if(r)throw new tH.ErrnoError(r,t);for(r=tH.Ua[tH.Gb(t.id,e)];r;r=r.cb){var n=r.name;if(r.parent.id===t.id&&n===e)return r}return tH.lookup(t,e)},createNode:function(t,e,r,n){return t=new tH.FSNode(t,e,r,n),tH.ec(t),t},Ab:function(t){tH.fc(t)},isRoot:function(t){return t===t.parent},ab:function(t){return!!t.lb},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},fb:function(t){return 40960==(61440&t)},pb:function(t){return 8192==(61440&t)},Rc:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return 49152==(49152&t)},Mc:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Yc:function(t){var e=tH.Mc[t];if(void 0===e)throw Error("Unknown file open mode: "+t);return e},$b:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},Za:function(t,e){return tH.hc?0:e.includes("r")&&!(292&t.mode)?2:e.includes("w")&&!(146&t.mode)||e.includes("x")&&!(73&t.mode)?2:0},Vc:function(t){return tH.Za(t,"x")||(t.node_ops.lookup?0:2)},Lb:function(t,e){try{return tH.lookupNode(t,e),20}catch(t){}return tH.Za(t,"wx")},qb:function(t,e,r){try{var n=tH.lookupNode(t,e)}catch(t){return t.Oa}if(t=tH.Za(t,"wx"))return t;if(r){if(!tH.isDir(n.mode))return 54;if(tH.isRoot(n)||tH.Ya(n)===tH.cwd())return 10}else if(tH.isDir(n.mode))return 31;return 0},Wc:function(t,e){return t?tH.fb(t.mode)?32:tH.isDir(t.mode)&&("r"!==tH.$b(e)||512&e)?31:tH.Za(t,tH.$b(e)):44},oc:4096,$c:function(t,e){for(e=e||tH.oc,t=t||0;t<=e;t++)if(!tH.streams[t])return t;throw new tH.ErrnoError(33)},$a:function(t){return tH.streams[t]},Jc:function(t,e,r){tH.ub||(tH.ub=function(){},tH.ub.prototype={object:{get:function(){return this.node},set:function(t){this.node=t}}});var n,o=new tH.ub;for(n in t)o[n]=t[n];return t=o,e=tH.$c(e,r),t.fd=e,tH.streams[e]=t},Dc:function(t){tH.streams[t]=null},Cc:{open:function(t){t.stream_ops=tH.Oc(t.node.rdev).stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new tH.ErrnoError(70)}},Kb:function(t){return t>>8},sd:function(t){return 255&t},bb:function(t,e){return t<<8|e},Qb:function(t,e){tH.Xb[t]={stream_ops:e}},Oc:function(t){return tH.Xb[t]},bc:function(t){var e=[];for(t=[t];t.length;){var r=t.pop();e.push(r),t.push.apply(t,r.mb)}return e},mc:function(t,e){function r(t){return tH.tb--,e(t)}function n(t){if(t){if(!n.Kc)return n.Kc=!0,r(t)}else++a>=o.length&&r(null)}"function"==typeof t&&(e=t,t=!1),tH.tb++,1<tH.tb&&M("warning: "+tH.tb+" FS.syncfs operations in flight at once, probably just doing extra work");var o=tH.bc(tH.root.mount),a=0;o.forEach(function(e){if(!e.type.mc)return n(null);e.type.mc(e,t,n)})},mount:function(t,e,r){var n="/"===r,o=!r;if(n&&tH.root)throw new tH.ErrnoError(10);if(!n&&!o){var a=tH.lookupPath(r,{Cb:!1});if(r=a.path,a=a.node,tH.ab(a))throw new tH.ErrnoError(10);if(!tH.isDir(a.mode))throw new tH.ErrnoError(54)}return e={type:t,vd:e,jc:r,mb:[]},(t=t.mount(e)).mount=e,e.root=t,n?tH.root=t:a&&(a.lb=e,a.mount&&a.mount.mb.push(e)),t},yd:function(t){if(t=tH.lookupPath(t,{Cb:!1}),!tH.ab(t.node))throw new tH.ErrnoError(28);var e=(t=t.node).lb,r=tH.bc(e);Object.keys(tH.Ua).forEach(function(t){for(t=tH.Ua[t];t;){var e=t.cb;r.includes(t.mount)&&tH.Ab(t),t=e}}),t.lb=null,t.mount.mb.splice(t.mount.mb.indexOf(e),1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,r){var n=tH.lookupPath(t,{parent:!0}).node;if(!(t=tD(t))||"."===t||".."===t)throw new tH.ErrnoError(28);var o=tH.Lb(n,t);if(o)throw new tH.ErrnoError(o);if(!n.node_ops.mknod)throw new tH.ErrnoError(63);return n.node_ops.mknod(n,t,e,r)},create:function(t,e){return tH.mknod(t,(void 0!==e?e:438)&4095|32768,0)},mkdir:function(t,e){return tH.mknod(t,(void 0!==e?e:511)&1023|16384,0)},td:function(t,e){t=t.split("/");for(var r="",n=0;n<t.length;++n)if(t[n]){r+="/"+t[n];try{tH.mkdir(r,e)}catch(t){if(20!=t.Oa)throw t}}},rb:function(t,e,r){return void 0===r&&(r=e,e=438),tH.mknod(t,8192|e,r)},symlink:function(t,e){if(!tM(t))throw new tH.ErrnoError(44);var r=tH.lookupPath(e,{parent:!0}).node;if(!r)throw new tH.ErrnoError(44);e=tD(e);var n=tH.Lb(r,e);if(n)throw new tH.ErrnoError(n);if(!r.node_ops.symlink)throw new tH.ErrnoError(63);return r.node_ops.symlink(r,e,t)},rename:function(t,e){var r=tN(t),n=tN(e),o=tD(t),a=tD(e),s=tH.lookupPath(t,{parent:!0}),u=s.node;if(s=(s=tH.lookupPath(e,{parent:!0})).node,!u||!s)throw new tH.ErrnoError(44);if(u.mount!==s.mount)throw new tH.ErrnoError(75);var l=tH.lookupNode(u,o);if("."!==(n=tx(t,n)).charAt(0))throw new tH.ErrnoError(28);if("."!==(n=tx(e,r)).charAt(0))throw new tH.ErrnoError(55);try{var c=tH.lookupNode(s,a)}catch(t){}if(l!==c){if(r=tH.isDir(l.mode),(o=tH.qb(u,o,r))||(o=c?tH.qb(s,a,r):tH.Lb(s,a)))throw new tH.ErrnoError(o);if(!u.node_ops.rename)throw new tH.ErrnoError(63);if(tH.ab(l)||c&&tH.ab(c))throw new tH.ErrnoError(10);if(s!==u&&(o=tH.Za(u,"w")))throw new tH.ErrnoError(o);try{tH.Sa.willMovePath&&tH.Sa.willMovePath(t,e)}catch(r){M("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+r.message)}tH.fc(l);try{u.node_ops.rename(l,s,a)}catch(t){throw t}finally{tH.ec(l)}try{tH.Sa.onMovePath&&tH.Sa.onMovePath(t,e)}catch(r){M("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+r.message)}}},rmdir:function(t){var e=tH.lookupPath(t,{parent:!0}).node,r=tD(t),n=tH.lookupNode(e,r),o=tH.qb(e,r,!0);if(o)throw new tH.ErrnoError(o);if(!e.node_ops.rmdir)throw new tH.ErrnoError(63);if(tH.ab(n))throw new tH.ErrnoError(10);try{tH.Sa.willDeletePath&&tH.Sa.willDeletePath(t)}catch(e){M("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.rmdir(e,r),tH.Ab(n);try{tH.Sa.onDeletePath&&tH.Sa.onDeletePath(t)}catch(e){M("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readdir:function(t){if(!(t=tH.lookupPath(t,{Ta:!0}).node).node_ops.readdir)throw new tH.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(t){var e=tH.lookupPath(t,{parent:!0}).node,r=tD(t),n=tH.lookupNode(e,r),o=tH.qb(e,r,!1);if(o)throw new tH.ErrnoError(o);if(!e.node_ops.unlink)throw new tH.ErrnoError(63);if(tH.ab(n))throw new tH.ErrnoError(10);try{tH.Sa.willDeletePath&&tH.Sa.willDeletePath(t)}catch(e){M("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+e.message)}e.node_ops.unlink(e,r),tH.Ab(n);try{tH.Sa.onDeletePath&&tH.Sa.onDeletePath(t)}catch(e){M("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+e.message)}},readlink:function(t){if(!(t=tH.lookupPath(t).node))throw new tH.ErrnoError(44);if(!t.node_ops.readlink)throw new tH.ErrnoError(28);return tM(tH.Ya(t.parent),t.node_ops.readlink(t))},stat:function(t,e){if(!(t=tH.lookupPath(t,{Ta:!e}).node))throw new tH.ErrnoError(44);if(!t.node_ops.getattr)throw new tH.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(t){return tH.stat(t,!0)},chmod:function(t,e,r){if(!(t="string"==typeof t?tH.lookupPath(t,{Ta:!r}).node:t).node_ops.setattr)throw new tH.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&e|-4096&t.mode,timestamp:Date.now()})},lchmod:function(t,e){tH.chmod(t,e,!0)},fchmod:function(t,e){if(!(t=tH.$a(t)))throw new tH.ErrnoError(8);tH.chmod(t.node,e)},chown:function(t,e,r,n){if(!(t="string"==typeof t?tH.lookupPath(t,{Ta:!n}).node:t).node_ops.setattr)throw new tH.ErrnoError(63);t.node_ops.setattr(t,{timestamp:Date.now()})},lchown:function(t,e,r){tH.chown(t,e,r,!0)},fchown:function(t,e,r){if(!(t=tH.$a(t)))throw new tH.ErrnoError(8);tH.chown(t.node,e,r)},truncate:function(t,e){if(0>e)throw new tH.ErrnoError(28);if(!(t="string"==typeof t?tH.lookupPath(t,{Ta:!0}).node:t).node_ops.setattr)throw new tH.ErrnoError(63);if(tH.isDir(t.mode))throw new tH.ErrnoError(31);if(!tH.isFile(t.mode))throw new tH.ErrnoError(28);var r=tH.Za(t,"w");if(r)throw new tH.ErrnoError(r);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},Nc:function(t,e){if(!(t=tH.$a(t)))throw new tH.ErrnoError(8);if(0==(2097155&t.flags))throw new tH.ErrnoError(28);tH.truncate(t.node,e)},kd:function(t,e,r){(t=tH.lookupPath(t,{Ta:!0}).node).node_ops.setattr(t,{timestamp:Math.max(e,r)})},open:function(t,e,r,n,o){if(""===t)throw new tH.ErrnoError(44);if(r=64&(e="string"==typeof e?tH.Yc(e):e)?(void 0===r?438:r)&4095|32768:0,"object"==typeof t)var a=t;else{t=tI(t);try{a=tH.lookupPath(t,{Ta:!(131072&e)}).node}catch(t){}}var s=!1;if(64&e){if(a){if(128&e)throw new tH.ErrnoError(20)}else a=tH.mknod(t,r,0),s=!0}if(!a)throw new tH.ErrnoError(44);if(tH.pb(a.mode)&&(e&=-513),65536&e&&!tH.isDir(a.mode))throw new tH.ErrnoError(54);if(!s&&(r=tH.Wc(a,e)))throw new tH.ErrnoError(r);512&e&&tH.truncate(a,0),e&=-131713,(n=tH.Jc({node:a,path:tH.Ya(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,jd:[],error:!1},n,o)).stream_ops.open&&n.stream_ops.open(n),!m.logReadFiles||1&e||(tH.Ob||(tH.Ob={}),t in tH.Ob||(tH.Ob[t]=1,M("FS.trackingDelegate error on read file: "+t)));try{tH.Sa.onOpenFile&&(o=0,1!=(2097155&e)&&(o|=tH.nc.kc.qc),0!=(2097155&e)&&(o|=tH.nc.kc.rc),tH.Sa.onOpenFile(t,o))}catch(e){M("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+e.message)}return n},close:function(t){if(tH.kb(t))throw new tH.ErrnoError(8);t.Fb&&(t.Fb=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{tH.Dc(t.fd)}t.fd=null},kb:function(t){return null===t.fd},llseek:function(t,e,r){if(tH.kb(t))throw new tH.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new tH.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new tH.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,r),t.jd=[],t.position},read:function(t,e,r,n,o){if(0>n||0>o)throw new tH.ErrnoError(28);if(tH.kb(t)||1==(2097155&t.flags))throw new tH.ErrnoError(8);if(tH.isDir(t.node.mode))throw new tH.ErrnoError(31);if(!t.stream_ops.read)throw new tH.ErrnoError(28);var a=void 0!==o;if(a){if(!t.seekable)throw new tH.ErrnoError(70)}else o=t.position;return e=t.stream_ops.read(t,e,r,n,o),a||(t.position+=e),e},write:function(t,e,r,n,o,a){if(0>n||0>o)throw new tH.ErrnoError(28);if(tH.kb(t)||0==(2097155&t.flags))throw new tH.ErrnoError(8);if(tH.isDir(t.node.mode))throw new tH.ErrnoError(31);if(!t.stream_ops.write)throw new tH.ErrnoError(28);t.seekable&&1024&t.flags&&tH.llseek(t,0,2);var s=void 0!==o;if(s){if(!t.seekable)throw new tH.ErrnoError(70)}else o=t.position;e=t.stream_ops.write(t,e,r,n,o,a),s||(t.position+=e);try{t.path&&tH.Sa.onWriteToFile&&tH.Sa.onWriteToFile(t.path)}catch(e){M("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+e.message)}return e},allocate:function(t,e,r){if(tH.kb(t))throw new tH.ErrnoError(8);if(0>e||0>=r)throw new tH.ErrnoError(28);if(0==(2097155&t.flags))throw new tH.ErrnoError(8);if(!tH.isFile(t.node.mode)&&!tH.isDir(t.node.mode))throw new tH.ErrnoError(43);if(!t.stream_ops.allocate)throw new tH.ErrnoError(138);t.stream_ops.allocate(t,e,r)},mmap:function(t,e,r,n,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&t.flags)||1==(2097155&t.flags))throw new tH.ErrnoError(2);if(!t.stream_ops.mmap)throw new tH.ErrnoError(43);return t.stream_ops.mmap(t,e,r,n,o,a)},msync:function(t,e,r,n,o){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,r,n,o):0},ud:function(){return 0},ic:function(t,e,r){if(!t.stream_ops.ic)throw new tH.ErrnoError(59);return t.stream_ops.ic(t,e,r)},readFile:function(t,e){if((e=e||{}).flags=e.flags||0,e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw Error('Invalid encoding type "'+e.encoding+'"');var r,n=tH.open(t,e.flags),o=new Uint8Array(t=tH.stat(t).size);return tH.read(n,o,0,t,0),"utf8"===e.encoding?r=K(o,0):"binary"===e.encoding&&(r=o),tH.close(n),r},writeFile:function(t,e,r){if((r=r||{}).flags=r.flags||577,t=tH.open(t,r.flags,r.mode),"string"==typeof e){var n=new Uint8Array(X(e)+1);e=J(e,n,0,n.length),tH.write(t,n,0,e,void 0,r.Bc)}else if(ArrayBuffer.isView(e))tH.write(t,e,0,e.byteLength,void 0,r.Bc);else throw Error("Unsupported data type");tH.close(t)},cwd:function(){return tH.Wb},chdir:function(t){if(null===(t=tH.lookupPath(t,{Ta:!0})).node)throw new tH.ErrnoError(44);if(!tH.isDir(t.node.mode))throw new tH.ErrnoError(54);var e=tH.Za(t.node,"x");if(e)throw new tH.ErrnoError(e);tH.Wb=t.path},Fc:function(){tH.mkdir("/tmp"),tH.mkdir("/home"),tH.mkdir("/home/web_user")},Ec:function(){tH.mkdir("/dev"),tH.Qb(tH.bb(1,3),{read:function(){return 0},write:function(t,e,r,n){return n}}),tH.rb("/dev/null",tH.bb(1,3)),tL(tH.bb(5,0),tP),tL(tH.bb(6,0),tB),tH.rb("/dev/tty",tH.bb(5,0)),tH.rb("/dev/tty1",tH.bb(6,0));var t=tC();tH.Wa("/dev","random",t),tH.Wa("/dev","urandom",t),tH.mkdir("/dev/shm"),tH.mkdir("/dev/shm/tmp")},Hc:function(){tH.mkdir("/proc");var t=tH.mkdir("/proc/self");tH.mkdir("/proc/self/fd"),tH.mount({mount:function(){var e=tH.createNode(t,"fd",16895,73);return e.node_ops={lookup:function(t,e){var r=tH.$a(+e);if(!r)throw new tH.ErrnoError(8);return(t={parent:null,mount:{jc:"fake"},node_ops:{readlink:function(){return r.path}}}).parent=t}},e}},{},"/proc/self/fd")},Ic:function(){m.stdin?tH.Wa("/dev","stdin",m.stdin):tH.symlink("/dev/tty","/dev/stdin"),m.stdout?tH.Wa("/dev","stdout",null,m.stdout):tH.symlink("/dev/tty","/dev/stdout"),m.stderr?tH.Wa("/dev","stderr",null,m.stderr):tH.symlink("/dev/tty1","/dev/stderr"),tH.open("/dev/stdin",0),tH.open("/dev/stdout",1),tH.open("/dev/stderr",1)},Yb:function(){tH.ErrnoError||(tH.ErrnoError=function(t,e){this.node=e,this.hd=function(t){this.Oa=t},this.hd(t),this.message="FS error"},tH.ErrnoError.prototype=Error(),tH.ErrnoError.prototype.constructor=tH.ErrnoError,[44].forEach(function(t){tH.Db[t]=new tH.ErrnoError(t),tH.Db[t].stack="<generic error, no stack>"}))},lc:function(){tH.Yb(),tH.Ua=Array(4096),tH.mount(tj,{},"/"),tH.Fc(),tH.Ec(),tH.Hc(),tH.Lc={MEMFS:tj}},jb:function(t,e,r){tH.jb.Hb=!0,tH.Yb(),m.stdin=t||m.stdin,m.stdout=e||m.stdout,m.stderr=r||m.stderr,tH.Ic()},wd:function(){tH.jb.Hb=!1;var t=m._fflush;for(t&&t(0),t=0;t<tH.streams.length;t++){var e=tH.streams[t];e&&tH.close(e)}},Eb:function(t,e){var r=0;return t&&(r|=365),e&&(r|=146),r},od:function(t,e){return(t=tH.xb(t,e)).exists?t.object:null},xb:function(t,e){try{var r=tH.lookupPath(t,{Ta:!e});t=r.path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,ad:!1,cd:null,bd:null};try{r=tH.lookupPath(t,{parent:!0}),n.ad=!0,n.cd=r.path,n.bd=r.node,n.name=tD(t),r=tH.lookupPath(t,{Ta:!e}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(t){n.error=t.Oa}return n},md:function(t,e){for(t="string"==typeof t?t:tH.Ya(t),e=e.split("/").reverse();e.length;){var r=e.pop();if(r){var n=tR(t,r);try{tH.mkdir(n)}catch(t){}t=n}}return n},Gc:function(t,e,r,n,o){return t=tR("string"==typeof t?t:tH.Ya(t),e),tH.create(t,tH.Eb(n,o))},zb:function(t,e,r,n,o,a){if(t=e?tR("string"==typeof t?t:tH.Ya(t),e):t,n=tH.Eb(n,o),o=tH.create(t,n),r){if("string"==typeof r){t=Array(r.length),e=0;for(var s=r.length;e<s;++e)t[e]=r.charCodeAt(e);r=t}tH.chmod(o,146|n),t=tH.open(o,577),tH.write(t,r,0,r.length,0,a),tH.close(t),tH.chmod(o,n)}return o},Wa:function(t,e,r,n){t=tR("string"==typeof t?t:tH.Ya(t),e),e=tH.Eb(!!r,!!n),tH.Wa.Kb||(tH.Wa.Kb=64);var o=tH.bb(tH.Wa.Kb++,0);return tH.Qb(o,{open:function(t){t.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(t,e,n,o){for(var a=0,s=0;s<o;s++){try{var u=r()}catch(t){throw new tH.ErrnoError(29)}if(void 0===u&&0===a)throw new tH.ErrnoError(6);if(null==u)break;a++,e[n+s]=u}return a&&(t.node.timestamp=Date.now()),a},write:function(t,e,r,o){for(var a=0;a<o;a++)try{n(e[r+a])}catch(t){throw new tH.ErrnoError(29)}return o&&(t.node.timestamp=Date.now()),a}}),tH.rb(t,e,o)},ac:function(t){if(t.Ib||t.Sc||t.link||t.Na)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(E)try{t.Na=tJ(E(t.url),!0),t.Ra=t.Na.length}catch(t){throw new tH.ErrnoError(29)}else throw Error("Cannot load without read() or XMLHttpRequest.")},ld:function(t,e,r,n,o){function a(){this.Jb=!1,this.ob=[]}if(a.prototype.get=function(t){if(!(t>this.length-1||0>t)){var e=t%this.chunkSize;return this.dc(t/this.chunkSize|0)[e]}},a.prototype.pc=function(t){this.dc=t},a.prototype.Ub=function(){var t=new XMLHttpRequest;if(t.open("HEAD",r,!1),t.send(null),!(200<=t.status&&300>t.status||304===t.status))throw Error("Couldn't load "+r+". Status: "+t.status);var e,n=Number(t.getResponseHeader("Content-length")),o=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e;t=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e;var a=1048576;o||(a=n);var s=this;s.pc(function(t){var e=t*a,o=(t+1)*a-1;if(o=Math.min(o,n-1),void 0===s.ob[t]){var u=s.ob;if(e>o)throw Error("invalid range ("+e+", "+o+") or no bytes requested!");if(o>n-1)throw Error("only "+n+" bytes available! programmer error!");var l=new XMLHttpRequest;if(l.open("GET",r,!1),n!==a&&l.setRequestHeader("Range","bytes="+e+"-"+o),"undefined"!=typeof Uint8Array&&(l.responseType="arraybuffer"),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=x-user-defined"),l.send(null),!(200<=l.status&&300>l.status||304===l.status))throw Error("Couldn't load "+r+". Status: "+l.status);e=void 0!==l.response?new Uint8Array(l.response||[]):tJ(l.responseText||"",!0),u[t]=e}if(void 0===s.ob[t])throw Error("doXHR failed!");return s.ob[t]}),(t||!n)&&(a=n=1,a=n=this.dc(0).length,C("LazyFiles on gzip forces download of the whole file when length is accessed")),this.tc=n,this.sc=a,this.Jb=!0},"undefined"!=typeof XMLHttpRequest){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.Jb||this.Ub(),this.tc}},chunkSize:{get:function(){return this.Jb||this.Ub(),this.sc}}}),s={Ib:!1,Na:s}}else s={Ib:!1,url:r};var u=tH.Gc(t,e,s,n,o);s.Na?u.Na=s.Na:s.url&&(u.Na=null,u.url=s.url),Object.defineProperties(u,{Ra:{get:function(){return this.Na.length}}});var l={};return Object.keys(u.stream_ops).forEach(function(t){var e=u.stream_ops[t];l[t]=function(){return tH.ac(u),e.apply(null,arguments)}}),l.read=function(t,e,r,n,o){if(tH.ac(u),o>=(t=t.node.Na).length)return 0;if(n=Math.min(t.length-o,n),t.slice)for(var a=0;a<n;a++)e[r+a]=t[o+a];else for(a=0;a<n;a++)e[r+a]=t.get(o+a);return n},u.stream_ops=l,u},nd:function(t,e,r,n,o,a,s,u,l,c){function f(r){function f(r){c&&c(),u||tH.zb(t,e,r,n,o,l),a&&a(),tm()}var p=!1;m.preloadPlugins.forEach(function(t){!p&&t.canHandle(d)&&(t.handle(r,d,f,function(){s&&s(),tm()}),p=!0)}),p||f(r)}y.jb();var d=e?tM(tR(t,e)):t;tg(),"string"==typeof r?tW(r,function(t){f(t)},s):f(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Rb:function(){return"EM_FS_"+window.location.pathname},Sb:20,ib:"FILE_DATA",xd:function(t,e,r){e=e||function(){},r=r||function(){};var n=tH.indexedDB();try{var o=n.open(tH.Rb(),tH.Sb)}catch(t){return r(t)}o.onupgradeneeded=function(){C("creating db"),o.result.createObjectStore(tH.ib)},o.onsuccess=function(){var n=o.result.transaction([tH.ib],"readwrite"),a=n.objectStore(tH.ib),s=0,u=0,l=t.length;t.forEach(function(t){(t=a.put(tH.xb(t).object.Na,t)).onsuccess=function(){++s+u==l&&(0==u?e():r())},t.onerror=function(){u++,s+u==l&&(0==u?e():r())}}),n.onerror=r},o.onerror=r},rd:function(t,e,r){e=e||function(){},r=r||function(){};var n=tH.indexedDB();try{var o=n.open(tH.Rb(),tH.Sb)}catch(t){return r(t)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var a=n.transaction([tH.ib],"readonly")}catch(t){r(t);return}var s=a.objectStore(tH.ib),u=0,l=0,c=t.length;t.forEach(function(t){var n=s.get(t);n.onsuccess=function(){tH.xb(t).exists&&tH.unlink(t),tH.zb(tN(t),tD(t),n.result,!0,!0,!0),++u+l==c&&(0==l?e():r())},n.onerror=function(){l++,u+l==c&&(0==l?e():r())}}),a.onerror=r},o.onerror=r}},tz={};function tV(t,e,r){try{var n=t(e)}catch(t){if(t&&t.node&&tI(e)!==tI(tH.Ya(t.node)))return -54;throw t}return to[r>>2]=n.dev,to[r+4>>2]=0,to[r+8>>2]=n.ino,to[r+12>>2]=n.mode,to[r+16>>2]=n.nlink,to[r+20>>2]=n.uid,to[r+24>>2]=n.gid,to[r+28>>2]=n.rdev,to[r+32>>2]=0,f=[n.size>>>0,1<=+Math.abs(c=n.size)?0<c?(0|Math.min(+Math.floor(c/4294967296),4294967295))>>>0:~~+Math.ceil((c-+(~~c>>>0))/4294967296)>>>0:0],to[r+40>>2]=f[0],to[r+44>>2]=f[1],to[r+48>>2]=4096,to[r+52>>2]=n.blocks,to[r+56>>2]=n.atime.getTime()/1e3|0,to[r+60>>2]=0,to[r+64>>2]=n.mtime.getTime()/1e3|0,to[r+68>>2]=0,to[r+72>>2]=n.ctime.getTime()/1e3|0,to[r+76>>2]=0,f=[n.ino>>>0,1<=+Math.abs(c=n.ino)?0<c?(0|Math.min(+Math.floor(c/4294967296),4294967295))>>>0:~~+Math.ceil((c-+(~~c>>>0))/4294967296)>>>0:0],to[r+80>>2]=f[0],to[r+84>>2]=f[1],0}var t$=void 0;function tq(){return to[(t$+=4)-4>>2]}function tG(t){if(!(t=tH.$a(t)))throw new tH.ErrnoError(8);return t}p=D?function(){var t=o.hrtime();return 1e3*t[0]+t[1]/1e6}:function(){return performance.now()};var tY={};function tK(){if(!h){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"};for(t in tY)void 0===tY[t]?delete e[t]:e[t]=tY[t];var r=[];for(t in e)r.push(t+"="+e[t]);h=r}return h}function tZ(t,e,r,n){t||(t=this),this.parent=t,this.mount=t.mount,this.lb=null,this.id=tH.Zc++,this.name=e,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n}function tJ(t,e){var r=Array(X(t)+1);return t=J(t,r,0,r.length),e&&(r.length=t),r}Object.defineProperties(tZ.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(t){t?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(t){t?this.mode|=146:this.mode&=-147}},Sc:{get:function(){return tH.isDir(this.mode)}},Ib:{get:function(){return tH.pb(this.mode)}}}),tH.FSNode=tZ,tH.lc();var tX={a:function(t,e,r,n){t_("Assertion failed: "+Z(t)+", at: "+[e?Z(e):"unknown filename",r,n?Z(n):"unknown function"])},u:function(t,e){tO(),t=new Date(1e3*to[t>>2]),to[e>>2]=t.getSeconds(),to[e+4>>2]=t.getMinutes(),to[e+8>>2]=t.getHours(),to[e+12>>2]=t.getDate(),to[e+16>>2]=t.getMonth(),to[e+20>>2]=t.getFullYear()-1900,to[e+24>>2]=t.getDay();var r=new Date(t.getFullYear(),0,1);to[e+28>>2]=(t.getTime()-r.getTime())/864e5|0,to[e+36>>2]=-(60*t.getTimezoneOffset());var n=new Date(t.getFullYear(),6,1).getTimezoneOffset();return t=0|(n!=(r=r.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(r,n)),to[e+32>>2]=t,t=to[t2()+(t?4:0)>>2],to[e+40>>2]=t,e},m:function(t,e){try{if(t=Z(t),-8&e)var r,n=-28;else(r=tH.lookupPath(t,{Ta:!0}).node)?(t="",4&e&&(t+="r"),2&e&&(t+="w"),1&e&&(t+="x"),n=t&&tH.Za(r,t)?-2:0):n=-44;return n}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},A:function(t,e){try{return t=Z(t),tH.chmod(t,e),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},H:function(t,e,r){try{return t=Z(t),tH.chown(t,e,r),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},B:function(t,e){try{return tH.fchmod(t,e),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},I:function(t,e,r){try{return tH.fchown(t,e,r),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},b:function(t,e,r){t$=r;try{var n=tG(t);switch(e){case 0:var o=tq();return 0>o?-28:tH.open(n.path,n.flags,0,o).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:return o=tq(),n.flags|=o,0;case 12:return ti[(o=tq())+0>>1]=2,0;case 16:case 8:default:return -28;case 9:return to[tQ()>>2]=28,-1}}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},E:function(t,e){try{var r=tG(t);return tV(tH.stat,r.path,e)}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},n:function(t,e,r){try{return tH.Nc(t,r),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},l:function(t,e){try{if(0===e)return -28;var r=tH.cwd();if(e<X(r)+1)return -68;return J(r,tn,t,e),t}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},G:function(){return 0},d:function(){return 42},z:function(t,e){try{return t=Z(t),tV(tH.lstat,t,e)}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},C:function(t,e){try{return t=Z(t),t=tI(t),"/"===t[t.length-1]&&(t=t.substr(0,t.length-1)),tH.mkdir(t,e,0),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},y:function(t,e,r,n,o,a){try{t:{a<<=12;var s=!1;if(0!=(16&n)&&0!=t%65536)var u=-28;else{if(0!=(32&n)){var l=tU(e);if(!l){u=-48;break t}s=!0}else{var c=tH.$a(o);if(!c){u=-8;break t}var f=tH.mmap(c,t,e,a,r,n);l=f.ed,s=f.vb}tz[l]={Uc:l,Tc:e,vb:s,fd:o,dd:r,flags:n,offset:a},u=l}}return u}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},x:function(t,e){try{var r=tz[t];if(0!==e&&r){if(e===r.Tc){var n=tH.$a(r.fd);if(n&&2&r.dd){var o=r.flags,a=r.offset,s=tn.slice(t,t+e);tH.msync(n,s,a,e,o)}tz[t]=null,r.vb&&t1(r.Uc)}var u=0}else u=-28;return u}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},w:function(t,e,r){t$=r;try{var n=Z(t),o=r?tq():0;return tH.open(n,e,o).fd}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},J:function(t,e,r){try{if(t=Z(t),0>=r)var n=-28;else{var o=tH.readlink(t),a=Math.min(r,X(o)),s=tr[e+a];J(o,tn,e,r+1),tr[e+a]=s,n=a}return n}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},F:function(t){try{return t=Z(t),tH.rmdir(t),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},e:function(t,e){try{return t=Z(t),tV(tH.stat,t,e)}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},i:function(t){try{return t=Z(t),tH.unlink(t),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),-t.Oa}},v:function(){return 2147483648},p:function(t,e,r){tn.copyWithin(t,e,e+r)},c:function(t){var e=tn.length;if(2147483648<(t>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=e*(1+.2/r);n=Math.min(n,t+100663296),0<(n=Math.max(t,n))%65536&&(n+=65536-n%65536);t:{try{j.grow(Math.min(2147483648,n)-te.byteLength+65535>>>16),tt();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},t:function(t){for(var e=p();p()-e<t;);},r:function(t,e){try{var r=0;return tK().forEach(function(n,o){var a=e+r;for(o=to[t+4*o>>2]=a,a=0;a<n.length;++a)tr[o++>>0]=n.charCodeAt(a);tr[o>>0]=0,r+=n.length+1}),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},s:function(t,e){try{var r=tK();to[t>>2]=r.length;var n=0;return r.forEach(function(t){n+=t.length+1}),to[e>>2]=n,0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},f:function(t){try{var e=tG(t);return tH.close(e),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},q:function(t,e){try{var r=tG(t),n=r.tty?2:tH.isDir(r.mode)?3:tH.fb(r.mode)?7:4;return tr[e>>0]=n,0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},j:function(t,e,r,n){try{t:{for(var o=tG(t),a=t=0;a<r;a++){var s=to[e+(8*a+4)>>2],u=tH.read(o,tr,to[e+8*a>>2],s,void 0);if(0>u){var l=-1;break t}if(t+=u,u<s)break}l=t}return to[n>>2]=l,0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},o:function(t,e,r,n,o){try{var a=tG(t);if(t=4294967296*r+(e>>>0),-9007199254740992>=t||9007199254740992<=t)return -61;return tH.llseek(a,t,n),f=[a.position>>>0,(c=a.position,1<=+Math.abs(c)?0<c?(0|Math.min(+Math.floor(c/4294967296),4294967295))>>>0:~~+Math.ceil((c-+(~~c>>>0))/4294967296)>>>0:0)],to[o>>2]=f[0],to[o+4>>2]=f[1],a.Fb&&0===t&&0===n&&(a.Fb=null),0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},k:function(t){try{var e=tG(t);return e.stream_ops&&e.stream_ops.fsync?-e.stream_ops.fsync(e):0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},g:function(t,e,r,n){try{t:{for(var o=tG(t),a=t=0;a<r;a++){var s=tH.write(o,tr,to[e+8*a>>2],to[e+(8*a+4)>>2],void 0);if(0>s){var u=-1;break t}t+=s}u=t}return to[n>>2]=u,0}catch(t){return void 0!==tH&&t instanceof tH.ErrnoError||t_(t),t.Oa}},h:function(t){var e=Date.now();return to[t>>2]=e/1e3|0,to[t+4>>2]=e%1e3*1e3|0,0},K:function(t){var e=Date.now()/1e3|0;return t&&(to[t>>2]=e),e},D:function(t,e){if(e){var r=e+8;e=1e3*to[r>>2]+to[r+4>>2]/1e3}else e=Date.now();t=Z(t);try{tH.kd(t,e,e);var n=0}catch(t){if(!(t instanceof tH.ErrnoError)){e:{if(!(n=Error()).stack){try{throw Error()}catch(t){n=t}if(!n.stack){n="(no stack trace available)";break e}}n=n.stack.toString()}throw m.extraStackTrace&&(n+="\n"+m.extraStackTrace()),t+" : "+(n=tT(n))}n=t.Oa,to[tQ()>>2]=n,n=-1}return n}};!function(){function t(t){m.asm=t.exports,j=m.asm.L,tt(),tu=m.asm.Da,tc.unshift(m.asm.M),tm()}function e(e){t(e.instance)}function r(t){return tv().then(function(t){return WebAssembly.instantiate(t,n)}).then(t,function(t){M("failed to asynchronously prepare wasm: "+t),t_(t)})}var n={a:tX};if(tg(),m.instantiateWasm)try{return m.instantiateWasm(n,t)}catch(t){return M("Module.instantiateWasm callback failed with error: "+t),!1}!function(){U||"function"!=typeof WebAssembly.instantiateStreaming||tb()||l.startsWith("file://")||"function"!=typeof fetch?r(e):fetch(l,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,n).then(e,function(t){return M("wasm streaming compile failed: "+t),M("falling back to ArrayBuffer instantiation"),r(e)})})}()}(),m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.M).apply(null,arguments)},m._sqlite3_vfs_find=function(){return(m._sqlite3_vfs_find=m.asm.N).apply(null,arguments)},m._sqlite3_free=function(){return(m._sqlite3_free=m.asm.O).apply(null,arguments)};var tQ=m.___errno_location=function(){return(tQ=m.___errno_location=m.asm.P).apply(null,arguments)};m._sqlite3_finalize=function(){return(m._sqlite3_finalize=m.asm.Q).apply(null,arguments)},m._sqlite3_reset=function(){return(m._sqlite3_reset=m.asm.R).apply(null,arguments)},m._sqlite3_clear_bindings=function(){return(m._sqlite3_clear_bindings=m.asm.S).apply(null,arguments)},m._sqlite3_value_blob=function(){return(m._sqlite3_value_blob=m.asm.T).apply(null,arguments)},m._sqlite3_value_text=function(){return(m._sqlite3_value_text=m.asm.U).apply(null,arguments)},m._sqlite3_value_bytes=function(){return(m._sqlite3_value_bytes=m.asm.V).apply(null,arguments)},m._sqlite3_value_double=function(){return(m._sqlite3_value_double=m.asm.W).apply(null,arguments)},m._sqlite3_value_int=function(){return(m._sqlite3_value_int=m.asm.X).apply(null,arguments)},m._sqlite3_value_type=function(){return(m._sqlite3_value_type=m.asm.Y).apply(null,arguments)},m._sqlite3_result_blob=function(){return(m._sqlite3_result_blob=m.asm.Z).apply(null,arguments)},m._sqlite3_result_double=function(){return(m._sqlite3_result_double=m.asm._).apply(null,arguments)},m._sqlite3_result_error=function(){return(m._sqlite3_result_error=m.asm.$).apply(null,arguments)},m._sqlite3_result_int=function(){return(m._sqlite3_result_int=m.asm.aa).apply(null,arguments)},m._sqlite3_result_int64=function(){return(m._sqlite3_result_int64=m.asm.ba).apply(null,arguments)},m._sqlite3_result_null=function(){return(m._sqlite3_result_null=m.asm.ca).apply(null,arguments)},m._sqlite3_result_text=function(){return(m._sqlite3_result_text=m.asm.da).apply(null,arguments)},m._sqlite3_step=function(){return(m._sqlite3_step=m.asm.ea).apply(null,arguments)},m._sqlite3_column_count=function(){return(m._sqlite3_column_count=m.asm.fa).apply(null,arguments)},m._sqlite3_data_count=function(){return(m._sqlite3_data_count=m.asm.ga).apply(null,arguments)},m._sqlite3_column_blob=function(){return(m._sqlite3_column_blob=m.asm.ha).apply(null,arguments)},m._sqlite3_column_bytes=function(){return(m._sqlite3_column_bytes=m.asm.ia).apply(null,arguments)},m._sqlite3_column_double=function(){return(m._sqlite3_column_double=m.asm.ja).apply(null,arguments)},m._sqlite3_column_text=function(){return(m._sqlite3_column_text=m.asm.ka).apply(null,arguments)},m._sqlite3_column_type=function(){return(m._sqlite3_column_type=m.asm.la).apply(null,arguments)},m._sqlite3_column_name=function(){return(m._sqlite3_column_name=m.asm.ma).apply(null,arguments)},m._sqlite3_bind_blob=function(){return(m._sqlite3_bind_blob=m.asm.na).apply(null,arguments)},m._sqlite3_bind_double=function(){return(m._sqlite3_bind_double=m.asm.oa).apply(null,arguments)},m._sqlite3_bind_int=function(){return(m._sqlite3_bind_int=m.asm.pa).apply(null,arguments)},m._sqlite3_bind_text=function(){return(m._sqlite3_bind_text=m.asm.qa).apply(null,arguments)},m._sqlite3_bind_parameter_index=function(){return(m._sqlite3_bind_parameter_index=m.asm.ra).apply(null,arguments)},m._sqlite3_sql=function(){return(m._sqlite3_sql=m.asm.sa).apply(null,arguments)},m._sqlite3_normalized_sql=function(){return(m._sqlite3_normalized_sql=m.asm.ta).apply(null,arguments)},m._sqlite3_errmsg=function(){return(m._sqlite3_errmsg=m.asm.ua).apply(null,arguments)},m._sqlite3_exec=function(){return(m._sqlite3_exec=m.asm.va).apply(null,arguments)},m._sqlite3_prepare_v2=function(){return(m._sqlite3_prepare_v2=m.asm.wa).apply(null,arguments)},m._sqlite3_changes=function(){return(m._sqlite3_changes=m.asm.xa).apply(null,arguments)},m._sqlite3_close_v2=function(){return(m._sqlite3_close_v2=m.asm.ya).apply(null,arguments)},m._sqlite3_create_function_v2=function(){return(m._sqlite3_create_function_v2=m.asm.za).apply(null,arguments)},m._sqlite3_open=function(){return(m._sqlite3_open=m.asm.Aa).apply(null,arguments)};var t0=m._malloc=function(){return(t0=m._malloc=m.asm.Ba).apply(null,arguments)},t1=m._free=function(){return(t1=m._free=m.asm.Ca).apply(null,arguments)};m._RegisterExtensionFunctions=function(){return(m._RegisterExtensionFunctions=m.asm.Ea).apply(null,arguments)},m._register_for_idb=function(){return(m._register_for_idb=m.asm.Fa).apply(null,arguments)};var t2=m.__get_tzname=function(){return(t2=m.__get_tzname=m.asm.Ga).apply(null,arguments)},t6=m.__get_daylight=function(){return(t6=m.__get_daylight=m.asm.Ha).apply(null,arguments)},t4=m.__get_timezone=function(){return(t4=m.__get_timezone=m.asm.Ia).apply(null,arguments)},t3=m.stackSave=function(){return(t3=m.stackSave=m.asm.Ja).apply(null,arguments)},t8=m.stackRestore=function(){return(t8=m.stackRestore=m.asm.Ka).apply(null,arguments)},t5=m.stackAlloc=function(){return(t5=m.stackAlloc=m.asm.La).apply(null,arguments)},t7=m._memalign=function(){return(t7=m._memalign=m.asm.Ma).apply(null,arguments)};function t9(){function t(){if(!g&&(g=!0,m.calledRun=!0,!W)){if(m.noFSInit||tH.jb.Hb||tH.jb(),tH.hc=!1,tS(tc),m.onRuntimeInitialized&&m.onRuntimeInitialized(),m.postRun)for("function"==typeof m.postRun&&(m.postRun=[m.postRun]);m.postRun.length;){var t=m.postRun.shift();tf.unshift(t)}tS(tf)}}if(!(0<tp)){if(m.preRun)for("function"==typeof m.preRun&&(m.preRun=[m.preRun]);m.preRun.length;)td();tS(tl),0<tp||(m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),t()},1)):t())}}if(m.cwrap=function(t,e,r,n){var o=(r=r||[]).every(function(t){return"number"===t});return"string"!==e&&o&&!n?z(t):function(){return V(t,e,r,arguments)}},m.UTF8ToString=Z,m.FS=tH,m.stackSave=t3,m.stackRestore=t8,m.stackAlloc=t5,ty=function t(){g||t9(),g||(ty=t)},m.run=t9,m.preInit)for("function"==typeof m.preInit&&(m.preInit=[m.preInit]);0<m.preInit.length;)m.preInit.pop()();return t9(),m}))};t.exports=u,t.exports.default=u},5285:(t,e,r)=>{var n=r(8764).Buffer,o=r(4155);let a=r(5173),s=r(6470),u=r(7396),l=r(6333),c=(t,e)=>"boolean"==typeof t?t:e,f=(t,e)=>"string"==typeof t?t:e,d={noSort:!1,readEntries:!1,method:a.Constants.NONE,fs:null};t.exports=function(t,e){let r=null,p=Object.assign(Object.create(null),d);t&&"object"==typeof t&&(t instanceof Uint8Array||(Object.assign(p,t),t=p.input?p.input:void 0,p.input&&delete p.input),n.isBuffer(t)&&(r=t,p.method=a.Constants.BUFFER,t=void 0)),Object.assign(p,e);let h=new a(p);if(t&&"string"==typeof t){if(h.fs.existsSync(t))p.method=a.Constants.FILE,p.filename=t,r=h.fs.readFileSync(t);else throw Error(a.Errors.INVALID_FILENAME)}let y=new l(r,p),{canonical:g,sanitize:m}=a;function _(t){if(t&&y){var e;if("string"==typeof t&&(e=y.getEntry(t)),"object"==typeof t&&void 0!==t.entryName&&void 0!==t.header&&(e=y.getEntry(t.entryName)),e)return e}return null}function b(t){let{join:e,normalize:r,sep:n}=s.posix;return e(".",r(n+t.split("\\").join(n)+n))}return{readFile:function(t,e){var r=_(t);return r&&r.getData(e)||null},readFileAsync:function(t,e){var r=_(t);r?r.getDataAsync(e):e(null,"getEntry failed for:"+t)},readAsText:function(t,e){var r=_(t);if(r){var n=r.getData();if(n&&n.length)return n.toString(e||"utf8")}return""},readAsTextAsync:function(t,e,r){var n=_(t);n?n.getDataAsync(function(t,n){if(n){e(t,n);return}t&&t.length?e(t.toString(r||"utf8")):e("")}):e("")},deleteFile:function(t){var e=_(t);e&&y.deleteEntry(e.entryName)},addZipComment:function(t){y.comment=t},getZipComment:function(){return y.comment||""},addZipEntryComment:function(t,e){var r=_(t);r&&(r.comment=e)},getZipEntryComment:function(t){var e=_(t);return e&&e.comment||""},updateFile:function(t,e){var r=_(t);r&&r.setData(e)},addLocalFile:function(t,e,r,n){if(h.fs.existsSync(t)){e=e?b(e):"";var o=t.split("\\").join("/").split("/").pop();e+=r||o;let a=h.fs.statSync(t);this.addFile(e,h.fs.readFileSync(t),n,a)}else throw Error(a.Errors.FILE_NOT_FOUND.replace("%s",t))},addLocalFolder:function(t,e,r,o){if(r instanceof RegExp?r=function(t){return function(e){return t.test(e)}}(r):"function"!=typeof r&&(r=function(){return!0}),e=e?b(e):"",t=s.normalize(t),h.fs.existsSync(t)){let a=h.findFiles(t),u=this;a.length&&a.forEach(function(a){var l=s.relative(t,a).split("\\").join("/");if(r(l)){var c=h.fs.statSync(a);c.isFile()?u.addFile(e+l,h.fs.readFileSync(a),"",o||c):u.addFile(e+l+"/",n.alloc(0),"",o||c)}})}else throw Error(a.Errors.FILE_NOT_FOUND.replace("%s",t))},addLocalFolderAsync:function(t,e,r,u){u instanceof RegExp?u=function(t){return function(e){return t.test(e)}}(u):"function"!=typeof u&&(u=function(){return!0}),r=r?b(r):"",t=s.normalize(t);var l=this;h.fs.open(t,"r",function(c){if(c&&"ENOENT"===c.code)e(void 0,a.Errors.FILE_NOT_FOUND.replace("%s",t));else if(c)e(void 0,c);else{var f=h.findFiles(t),d=-1,p=function(){if((d+=1)<f.length){var a=f[d],c=s.relative(t,a).split("\\").join("/");c=c.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),u(c)?h.fs.stat(a,function(t,o){t&&e(void 0,t),o.isFile()?h.fs.readFile(a,function(t,n){t?e(void 0,t):(l.addFile(r+c,n,"",o),p())}):(l.addFile(r+c+"/",n.alloc(0),"",o),p())}):o.nextTick(()=>{p()})}else e(!0,void 0)};p()}})},addLocalFolderPromise:function(t,e){return new Promise((r,n)=>{let{filter:o,zipPath:a}=Object.assign({},e);this.addLocalFolderAsync(t,(t,e)=>{e&&n(e),t&&r(this)},a,o)})},addFile:function(t,e,r,n){let o=_(t),a=null!=o;a||((o=new u).entryName=t),o.comment=r||"";let s="object"==typeof n&&n instanceof h.fs.Stats;s&&(o.header.time=n.mtime);var l=o.isDirectory?16:0;let c=o.isDirectory?16384:32768;s?c|=4095&n.mode:"number"==typeof n?c|=4095&n:c|=o.isDirectory?493:420,l=(l|c<<16)>>>0,o.attr=l,o.setData(e),a||y.setEntry(o)},getEntries:function(){return y?y.entries:[]},getEntry:function(t){return _(t)},getEntryCount:function(){return y.getEntryCount()},forEach:function(t){return y.forEach(t)},extractEntryTo:function(t,e,r,n,o,u){n=c(n,!1),o=c(o,!1),r=c(r,!0),u=f(u,f(o,void 0));var l=_(t);if(!l)throw Error(a.Errors.NO_ENTRY);var d=g(l.entryName),p=m(e,u&&!l.isDirectory?u:r?d:s.basename(d));if(l.isDirectory)return y.getEntryChildren(l).forEach(function(t){if(t.isDirectory)return;var u=t.getData();if(!u)throw Error(a.Errors.CANT_EXTRACT_FILE);var l=g(t.entryName),c=m(e,r?l:s.basename(l));let f=o?t.header.fileAttr:void 0;h.writeFileTo(c,u,n,f)}),!0;var b=l.getData();if(!b)throw Error(a.Errors.CANT_EXTRACT_FILE);if(h.fs.existsSync(p)&&!n)throw Error(a.Errors.CANT_OVERRIDE);let w=o?t.header.fileAttr:void 0;return h.writeFileTo(p,b,n,w),!0},test:function(t){if(!y)return!1;for(var e in y.entries)try{if(e.isDirectory)continue;if(!y.entries[e].getData(t))return!1}catch(t){return!1}return!0},extractAllTo:function(t,e,r,n){if(e=c(e,!1),n=f(r,n),r=c(r,!1),!y)throw Error(a.Errors.NO_ZIP);y.entries.forEach(function(o){var s=m(t,g(o.entryName.toString()));if(o.isDirectory){h.makeDir(s);return}var u=o.getData(n);if(!u)throw Error(a.Errors.CANT_EXTRACT_FILE);let l=r?o.header.fileAttr:void 0;h.writeFileTo(s,u,e,l);try{h.fs.utimesSync(s,o.header.time,o.header.time)}catch(t){throw Error(a.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(t,e,r,n){if(e=c(e,!1),"function"!=typeof r||n||(n=r),r=c(r,!1),n||(n=function(t){throw Error(t)}),!y){n(Error(a.Errors.NO_ZIP));return}t=s.resolve(t);let o=e=>m(t,s.normalize(g(e.entryName.toString()))),u=(t,e)=>Error(t+': "'+e+'"'),l=[],f=new Set;for(let t of(y.entries.forEach(t=>{t.isDirectory?l.push(t):f.add(t)}),l)){let e=o(t),a=r?t.header.fileAttr:void 0;try{h.makeDir(e),a&&h.fs.chmodSync(e,a),h.fs.utimesSync(e,t.header.time,t.header.time)}catch(t){n(u("Unable to create folder",e))}}let d=()=>{0===f.size&&n()};for(let o of f.values()){let l=s.normalize(g(o.entryName.toString())),c=m(t,l);o.getDataAsync(function(t,s){if(s){n(Error(s));return}if(t){let a=r?o.header.fileAttr:void 0;h.writeFileToAsync(c,t,e,a,function(t){if(!t){n(u("Unable to write file",c));return}h.fs.utimes(c,o.header.time,o.header.time,function(t){if(t){n(u("Unable to set times",c));return}f.delete(o),d()})})}else n(Error(a.Errors.CANT_EXTRACT_FILE))})}d()},writeZip:function(t,e){if(1==arguments.length&&"function"==typeof t&&(e=t,t=""),!t&&p.filename&&(t=p.filename),t){var r=y.compressToBuffer();if(r){var n=h.writeFileTo(t,r,!0);"function"==typeof e&&e(n?null:Error("failed"),"")}}},writeZipPromise:function(t,e){let{overwrite:r,perm:n}=Object.assign({overwrite:!0},e);return new Promise((e,o)=>{!t&&p.filename&&(t=p.filename),t||o("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(a=>{let s=t=>t?e(t):o("ADM-ZIP: Wasn't able to write zip file");h.writeFileToAsync(t,a,r,n,s)},o)})},toBufferPromise:function(){return new Promise((t,e)=>{y.toAsyncBuffer(t,e)})},toBuffer:function(t,e,r,n){return(this.valueOf=2,"function"==typeof t)?(y.toAsyncBuffer(t,e,r,n),null):y.compressToBuffer()}}}},2907:(t,e,r)=>{var n=r(8764).Buffer,o=r(5173),a=o.Constants;t.exports=function(){var t,e=10,r=0,s=0,u=0,l=0,c=0,f=0,d=0,p=0,h=0,y=0,g=0,m=0,_=0;t=20|(o.isWin?2560:768),r|=a.FLG_EFS;var b={};function w(t){u=((t=new Date(t)).getFullYear()-1980&127)<<25|t.getMonth()+1<<21|t.getDate()<<16|t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1}return w(+new Date),{get made(){return t},set made(val){t=val},get version(){return e},set version(val){e=val},get flags(){return r},set flags(val){r=val},get method(){return s},set method(val){switch(val){case a.STORED:this.version=10;case a.DEFLATED:default:this.version=20}s=val},get time(){return new Date((u>>25&127)+1980,(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1)},set time(val){w(val)},get crc(){return l},set crc(val){l=Math.max(0,val)>>>0},get compressedSize(){return c},set compressedSize(val){c=Math.max(0,val)>>>0},get size(){return f},set size(val){f=Math.max(0,val)>>>0},get fileNameLength(){return d},set fileNameLength(val){d=val},get extraLength(){return p},set extraLength(val){p=val},get commentLength(){return h},set commentLength(val){h=val},get diskNumStart(){return y},set diskNumStart(val){y=Math.max(0,val)>>>0},get inAttr(){return g},set inAttr(val){g=Math.max(0,val)>>>0},get attr(){return m},set attr(val){m=Math.max(0,val)>>>0},get fileAttr(){return m?(m>>>0|0)>>16&4095:0},get offset(){return _},set offset(val){_=Math.max(0,val)>>>0},get encripted(){return(1&r)==1},get entryHeaderSize(){return a.CENHDR+d+p+h},get realDataOffset(){return _+a.LOCHDR+b.fnameLen+b.extraLen},get dataHeader(){return b},loadDataHeaderFromBinary:function(t){var e=t.slice(_,_+a.LOCHDR);if(e.readUInt32LE(0)!==a.LOCSIG)throw Error(o.Errors.INVALID_LOC);b={version:e.readUInt16LE(a.LOCVER),flags:e.readUInt16LE(a.LOCFLG),method:e.readUInt16LE(a.LOCHOW),time:e.readUInt32LE(a.LOCTIM),crc:e.readUInt32LE(a.LOCCRC),compressedSize:e.readUInt32LE(a.LOCSIZ),size:e.readUInt32LE(a.LOCLEN),fnameLen:e.readUInt16LE(a.LOCNAM),extraLen:e.readUInt16LE(a.LOCEXT)}},loadFromBinary:function(n){if(n.length!==a.CENHDR||n.readUInt32LE(0)!==a.CENSIG)throw Error(o.Errors.INVALID_CEN);t=n.readUInt16LE(a.CENVEM),e=n.readUInt16LE(a.CENVER),r=n.readUInt16LE(a.CENFLG),s=n.readUInt16LE(a.CENHOW),u=n.readUInt32LE(a.CENTIM),l=n.readUInt32LE(a.CENCRC),c=n.readUInt32LE(a.CENSIZ),f=n.readUInt32LE(a.CENLEN),d=n.readUInt16LE(a.CENNAM),p=n.readUInt16LE(a.CENEXT),h=n.readUInt16LE(a.CENCOM),y=n.readUInt16LE(a.CENDSK),g=n.readUInt16LE(a.CENATT),m=n.readUInt32LE(a.CENATX),_=n.readUInt32LE(a.CENOFF)},dataHeaderToBinary:function(){var t=n.alloc(a.LOCHDR);return t.writeUInt32LE(a.LOCSIG,0),t.writeUInt16LE(e,a.LOCVER),t.writeUInt16LE(r,a.LOCFLG),t.writeUInt16LE(s,a.LOCHOW),t.writeUInt32LE(u,a.LOCTIM),t.writeUInt32LE(l,a.LOCCRC),t.writeUInt32LE(c,a.LOCSIZ),t.writeUInt32LE(f,a.LOCLEN),t.writeUInt16LE(d,a.LOCNAM),t.writeUInt16LE(p,a.LOCEXT),t},entryHeaderToBinary:function(){var o=n.alloc(a.CENHDR+d+p+h);return o.writeUInt32LE(a.CENSIG,0),o.writeUInt16LE(t,a.CENVEM),o.writeUInt16LE(e,a.CENVER),o.writeUInt16LE(r,a.CENFLG),o.writeUInt16LE(s,a.CENHOW),o.writeUInt32LE(u,a.CENTIM),o.writeUInt32LE(l,a.CENCRC),o.writeUInt32LE(c,a.CENSIZ),o.writeUInt32LE(f,a.CENLEN),o.writeUInt16LE(d,a.CENNAM),o.writeUInt16LE(p,a.CENEXT),o.writeUInt16LE(h,a.CENCOM),o.writeUInt16LE(y,a.CENDSK),o.writeUInt16LE(g,a.CENATT),o.writeUInt32LE(m,a.CENATX),o.writeUInt32LE(_,a.CENOFF),o.fill(0,a.CENHDR),o},toJSON:function(){let n=function(t){return t+" bytes"};return{made:t,version:e,flags:r,method:o.methodToString(s),time:this.time,crc:"0x"+l.toString(16).toUpperCase(),compressedSize:n(c),size:n(f),fileNameLength:n(d),extraLength:n(p),commentLength:n(h),diskNumStart:y,inAttr:g,attr:m,offset:_,entryHeaderSize:n(a.CENHDR+d+p+h)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}},3854:(t,e,r)=>{e.EntryHeader=r(2907),e.MainHeader=r(3519)},3519:(t,e,r)=>{var n=r(8764).Buffer,o=r(5173),a=o.Constants;t.exports=function(){var t=0,e=0,r=0,s=0,u=0;return{get diskEntries(){return t},set diskEntries(val){t=e=val},get totalEntries(){return e},set totalEntries(val){e=t=val},get size(){return r},set size(val){r=val},get offset(){return s},set offset(val){s=val},get commentLength(){return u},set commentLength(val){u=val},get mainHeaderSize(){return a.ENDHDR+u},loadFromBinary:function(n){if((n.length!==a.ENDHDR||n.readUInt32LE(0)!==a.ENDSIG)&&(n.length<a.ZIP64HDR||n.readUInt32LE(0)!==a.ZIP64SIG))throw Error(o.Errors.INVALID_END);n.readUInt32LE(0)===a.ENDSIG?(t=n.readUInt16LE(a.ENDSUB),e=n.readUInt16LE(a.ENDTOT),r=n.readUInt32LE(a.ENDSIZ),s=n.readUInt32LE(a.ENDOFF),u=n.readUInt16LE(a.ENDCOM)):(t=o.readBigUInt64LE(n,a.ZIP64SUB),e=o.readBigUInt64LE(n,a.ZIP64TOT),r=o.readBigUInt64LE(n,a.ZIP64SIZE),s=o.readBigUInt64LE(n,a.ZIP64OFF),u=0)},toBinary:function(){var o=n.alloc(a.ENDHDR+u);return o.writeUInt32LE(a.ENDSIG,0),o.writeUInt32LE(0,4),o.writeUInt16LE(t,a.ENDSUB),o.writeUInt16LE(e,a.ENDTOT),o.writeUInt32LE(r,a.ENDSIZ),o.writeUInt32LE(s,a.ENDOFF),o.writeUInt16LE(u,a.ENDCOM),o.fill(" ",a.ENDHDR),o},toJSON:function(){return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:function(t,e){let r=t.toString(16).toUpperCase();for(;r.length<4;)r="0"+r;return"0x"+r}(s,0),commentLength:u}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}},753:(t,e,r)=>{var n=r(8764).Buffer;t.exports=function(t){var e=r(2635),o={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,o)},deflateAsync:function(r){var a=e.createDeflateRaw(o),s=[],u=0;a.on("data",function(t){s.push(t),u+=t.length}),a.on("end",function(){var t=n.alloc(u),e=0;t.fill(0);for(var o=0;o<s.length;o++){var a=s[o];a.copy(t,e),e+=a.length}r&&r(t)}),a.end(t)}}}},1004:(t,e,r)=>{e.Deflater=r(753),e.Inflater=r(1269),e.ZipCrypto=r(4729)},1269:(t,e,r)=>{var n=r(8764).Buffer;t.exports=function(t){var e=r(2635);return{inflate:function(){return e.inflateRawSync(t)},inflateAsync:function(r){var o=e.createInflateRaw(),a=[],s=0;o.on("data",function(t){a.push(t),s+=t.length}),o.on("end",function(){var t=n.alloc(s),e=0;t.fill(0);for(var o=0;o<a.length;o++){var u=a[o];u.copy(t,e),e+=u.length}r&&r(t)}),o.end(t)}}}},4729:(t,e,r)=>{"use strict";var n=r(8764).Buffer;let{randomFillSync:o}=r(1214),a=new Uint32Array(256).map((t,e)=>{for(let t=0;t<8;t++)0!=(1&e)?e=e>>>1^3988292384:e>>>=1;return e>>>0}),s=(t,e)=>Math.imul(t,e)>>>0,u=(t,e)=>a[(t^e)&255]^t>>>8,l=()=>"function"==typeof o?o(n.alloc(12)):l.node();l.node=()=>{let t=n.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=256*Math.random()&255;return t};let c={genSalt:l};function f(t){let e=n.isBuffer(t)?t:n.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let t=0;t<e.length;t++)this.updateKeys(e[t])}function d(t){let e=new f(t);return function(t){let r=n.alloc(t.length),o=0;for(let n of t)r[o++]=e.updateKeys(n^e.next());return r}}function p(t){let e=new f(t);return function(t,r,o=0){for(let a of(r||(r=n.alloc(t.length)),t)){let t=e.next();r[o++]=a^t,e.updateKeys(a)}return r}}function h(t,e,r){if(!t||!n.isBuffer(t)||t.length<12)return n.alloc(0);let o=d(r);if(o(t.slice(0,12))[11]!==e.crc>>>24)throw"ADM-ZIP: Wrong Password";return o(t.slice(12))}function y(t){n.isBuffer(t)&&t.length>=12?c.genSalt=function(){return t.slice(0,12)}:"node"===t?c.genSalt=l.node:c.genSalt=l}function g(t,e,r,o=!1){null==t&&(t=n.alloc(0)),n.isBuffer(t)||(t=n.from(t.toString()));let a=p(r),s=c.genSalt();s[11]=e.crc>>>24&255,o&&(s[10]=e.crc>>>16&255);let u=n.alloc(t.length+12);return a(s,u),a(t,u,12)}f.prototype.updateKeys=function(t){let e=this.keys;return e[0]=u(e[0],t),e[1]+=255&e[0],e[1]=s(e[1],134775813)+1,e[2]=u(e[2],e[1]>>>24),t},f.prototype.next=function(){let t=(2|this.keys[2])>>>0;return s(t,1^t)>>8&255},t.exports={decrypt:h,encrypt:g,_salter:y}},5991:t=>{t.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},2190:t=>{t.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}},3455:(t,e,r)=>{let n=r(5147).require(),o=r(6470);n.existsSync=n.existsSync||o.existsSync,t.exports=function(t){var e=t||"",r=s(),a=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return e&&n.existsSync(e)?(a=n.statSync(e),r.directory=a.isDirectory(),r.mtime=a.mtime,r.atime=a.atime,r.executable=(73&a.mode)!=0,r.readonly=(128&a.mode)==0,r.hidden="."===o.basename(e)[0]):console.warn("Invalid path: "+e),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:e,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}},5147:(t,e,r)=>{var n=r(4155);e.require=function(){if("object"==typeof n&&n.versions&&n.versions.electron)try{let t=r(Object(function(){var t=Error("Cannot find module 'original-fs'");throw t.code="MODULE_NOT_FOUND",t}()));if(Object.keys(t).length>0)return t}catch(t){}return r(6551)}},5173:(t,e,r)=>{t.exports=r(7646),t.exports.Constants=r(5991),t.exports.Errors=r(2190),t.exports.FileAttr=r(3455)},7646:(t,e,r)=>{var n=r(4155),o=r(8764).Buffer;let a=r(5147).require(),s=r(6470),u=r(5991),l=r(2190),c="object"==typeof n&&"win32"===n.platform,f=t=>t&&"object"==typeof t,d=new Uint32Array(256).map((t,e)=>{for(let t=0;t<8;t++)(1&e)!=0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function p(t){this.sep=s.sep,this.fs=a,f(t)&&f(t.fs)&&"function"==typeof t.fs.statSync&&(this.fs=t.fs)}t.exports=p,p.prototype.makeDir=function(t){let e=this;(function(t){let r=t.split(e.sep)[0];t.split(e.sep).forEach(function(t){var n;if(t&&":"!==t.substr(-1,1)){r+=e.sep+t;try{n=e.fs.statSync(r)}catch(t){e.fs.mkdirSync(r)}if(n&&n.isFile())throw l.FILE_IN_THE_WAY.replace("%s",r)}})})(t)},p.prototype.writeFileTo=function(t,e,r,n){let o=this;if(o.fs.existsSync(t)){var a;if(!r||o.fs.statSync(t).isDirectory())return!1}var u=s.dirname(t);o.fs.existsSync(u)||o.makeDir(u);try{a=o.fs.openSync(t,"w",438)}catch(e){o.fs.chmodSync(t,438),a=o.fs.openSync(t,"w",438)}if(a)try{o.fs.writeSync(a,e,0,e.length,0)}finally{o.fs.closeSync(a)}return o.fs.chmodSync(t,n||438),!0},p.prototype.writeFileToAsync=function(t,e,r,n,o){"function"==typeof n&&(o=n,n=void 0);let a=this;a.fs.exists(t,function(u){if(u&&!r)return o(!1);a.fs.stat(t,function(r,l){if(u&&l.isDirectory())return o(!1);var c=s.dirname(t);a.fs.exists(c,function(r){r||a.makeDir(c),a.fs.open(t,"w",438,function(r,s){r?a.fs.chmod(t,438,function(){a.fs.open(t,"w",438,function(r,s){a.fs.write(s,e,0,e.length,0,function(){a.fs.close(s,function(){a.fs.chmod(t,n||438,function(){o(!0)})})})})}):s?a.fs.write(s,e,0,e.length,0,function(){a.fs.close(s,function(){a.fs.chmod(t,n||438,function(){o(!0)})})}):a.fs.chmod(t,n||438,function(){o(!0)})})})})})},p.prototype.findFiles=function(t){let e=this;function r(t,n,o){"boolean"==typeof n&&(o=n,n=void 0);let a=[];return e.fs.readdirSync(t).forEach(function(u){var l=s.join(t,u);e.fs.statSync(l).isDirectory()&&o&&(a=a.concat(r(l,n,o))),(!n||n.test(l))&&a.push(s.normalize(l)+(e.fs.statSync(l).isDirectory()?e.sep:""))}),a}return r(t,void 0,!0)},p.prototype.getAttributes=function(){},p.prototype.setAttributes=function(){},p.crc32update=function(t,e){return d[(t^e)&255]^t>>>8},p.crc32=function(t){"string"==typeof t&&(t=o.from(t,"utf8")),d.length||genCRCTable();let e=t.length,r=-1;for(let n=0;n<e;)r=p.crc32update(r,t[n++]);return~r>>>0},p.methodToString=function(t){switch(t){case u.STORED:return"STORED ("+t+")";case u.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}},p.canonical=function(t){if(!t)return"";var e=s.posix.normalize("/"+t.split("\\").join("/"));return s.join(".",e)},p.sanitize=function(t,e){t=s.resolve(s.normalize(t));for(var r=e.split("/"),n=0,o=r.length;n<o;n++){var a=s.normalize(s.join(t,r.slice(n,o).join(s.sep)));if(0===a.indexOf(t))return a}return s.normalize(s.join(t,s.basename(e)))},p.toBuffer=function(t){return o.isBuffer(t)?t:t instanceof Uint8Array?o.from(t):"string"==typeof t?o.from(t,"utf8"):o.alloc(0)},p.readBigUInt64LE=function(t,e){var r=o.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)},p.isWin=c,p.crcTable=d},7396:(t,e,r)=>{var n=r(8764).Buffer,o=r(5173),a=r(3854),s=o.Constants,u=r(1004);t.exports=function(t){var e=new a.EntryHeader,r=n.alloc(0),l=n.alloc(0),c=!1,f=null,d=n.alloc(0);function p(){return t&&n.isBuffer(t)?(e.loadDataHeaderFromBinary(t),t.slice(e.realDataOffset,e.realDataOffset+e.compressedSize)):n.alloc(0)}function h(t){return(8&e.flags)==8||o.crc32(t)===e.dataHeader.crc}function y(t,a,s){if(void 0===a&&"string"==typeof t&&(s=t,t=void 0),c)return t&&a&&a(n.alloc(0),o.Errors.DIRECTORY_CONTENT_ERROR),n.alloc(0);var l=p();if(0===l.length)return t&&a&&a(l),l;if(e.encripted){if("string"!=typeof s&&!n.isBuffer(s))throw Error("ADM-ZIP: Incompatible password parameter");l=u.ZipCrypto.decrypt(l,e,s)}var f=n.alloc(e.size);switch(e.method){case o.Constants.STORED:if(l.copy(f),h(f))return t&&a&&a(f),f;throw t&&a&&a(f,o.Errors.BAD_CRC),Error(o.Errors.BAD_CRC);case o.Constants.DEFLATED:var d=new u.Inflater(l);if(t)d.inflateAsync(function(t){t.copy(t,0),a&&(h(t)?a(t):a(t,o.Errors.BAD_CRC))});else{if(d.inflate(f).copy(f,0),!h(f))throw Error(o.Errors.BAD_CRC+" "+r.toString());return f}break;default:throw t&&a&&a(n.alloc(0),o.Errors.UNKNOWN_METHOD),Error(o.Errors.UNKNOWN_METHOD)}}function g(r,a){if((!f||!f.length)&&n.isBuffer(t))return r&&a&&a(p()),p();if(f.length&&!c){var s;switch(e.method){case o.Constants.STORED:return e.compressedSize=e.size,s=n.alloc(f.length),f.copy(s),r&&a&&a(s),s;default:case o.Constants.DEFLATED:var l=new u.Deflater(f);if(r)l.deflateAsync(function(t){s=n.alloc(t.length),e.compressedSize=t.length,t.copy(s),a&&a(s)});else{var d=l.deflate();return e.compressedSize=d.length,d}l=null}}else{if(!r||!a)return n.alloc(0);a(n.alloc(0))}}function m(t,e){return(t.readUInt32LE(e+4)<<4)+t.readUInt32LE(e)}function _(t){for(var e,r,n,o=0;o<t.length;)e=t.readUInt16LE(o),o+=2,r=t.readUInt16LE(o),o+=2,n=t.slice(o,o+r),o+=r,s.ID_ZIP64===e&&b(n)}function b(t){var r,n,o,a;t.length>=s.EF_ZIP64_SCOMP&&(r=m(t,s.EF_ZIP64_SUNCOMP),e.size===s.EF_ZIP64_OR_32&&(e.size=r)),t.length>=s.EF_ZIP64_RHO&&(n=m(t,s.EF_ZIP64_SCOMP),e.compressedSize===s.EF_ZIP64_OR_32&&(e.compressedSize=n)),t.length>=s.EF_ZIP64_DSN&&(o=m(t,s.EF_ZIP64_RHO),e.offset===s.EF_ZIP64_OR_32&&(e.offset=o)),t.length>=s.EF_ZIP64_DSN+4&&(a=t.readUInt32LE(s.EF_ZIP64_DSN),e.diskNumStart===s.EF_ZIP64_OR_16&&(e.diskNumStart=a))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(val){var w=(r=o.toBuffer(val))[r.length-1];c=47===w||92===w,e.fileNameLength=r.length},get extra(){return d},set extra(val){d=val,e.extraLength=val.length,_(val)},get comment(){return l.toString()},set comment(val){l=o.toBuffer(val),e.commentLength=l.length},get name(){var E=r.toString();return c?E.substr(E.length-1).split("/").pop():E.split("/").pop()},get isDirectory(){return c},getCompressedData:function(){return g(!1,null)},getCompressedDataAsync:function(t){g(!0,t)},setData:function(t){f=o.toBuffer(t),!c&&f.length?(e.size=f.length,e.method=o.Constants.DEFLATED,e.crc=o.crc32(t),e.changed=!0):e.method=o.Constants.STORED},getData:function(t){return e.changed?f:y(!1,null,t)},getDataAsync:function(t,r){e.changed?t(f):y(!0,t,r)},set attr(attr){e.attr=attr},get attr(){return e.attr},set header(data){e.loadFromBinary(data)},get header(){return e},packHeader:function(){var t=e.entryHeaderToBinary(),n=o.Constants.CENHDR;return r.copy(t,n),n+=r.length,e.extraLength&&(d.copy(t,n),n+=e.extraLength),e.commentLength&&l.copy(t,n),t},toJSON:function(){let r=function(t){return"<"+(t&&t.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:e.toJSON(),compressedData:r(t),data:r(f)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}},6333:(t,e,r)=>{var n=r(8764).Buffer;let o=r(7396),a=r(3854),s=r(5173);t.exports=function(t,e){var r=[],u={},l=n.alloc(0),c=new a.MainHeader,f=!1;let d=Object.assign(Object.create(null),e),{noSort:p}=d;function h(e){let r=c.diskEntries,n=c.offset;for(let a=0;a<r;a++){let r=n,a=new o(t);a.header=t.slice(r,r+=s.Constants.CENHDR),a.entryName=t.slice(r,r+=a.header.fileNameLength),n+=a.header.entryHeaderSize,e(a)}}function y(){f=!0,u={},r=Array(c.diskEntries);for(var e=c.offset,n=0;n<r.length;n++){var a=e,l=new o(t);l.header=t.slice(a,a+=s.Constants.CENHDR),l.entryName=t.slice(a,a+=l.header.fileNameLength),l.header.extraLength&&(l.extra=t.slice(a,a+=l.header.extraLength)),l.header.commentLength&&(l.comment=t.slice(a,a+l.header.commentLength)),e+=l.header.entryHeaderSize,r[n]=l,u[l.entryName]=l}}function g(e){for(var r=t.length-s.Constants.ENDHDR,n=Math.max(0,r-65535),o=n,a=t.length,u=-1,f=0;r>=o;r--)if(80===t[r]){if(t.readUInt32LE(r)===s.Constants.ENDSIG){u=r,f=r,a=r+s.Constants.ENDHDR,o=r-s.Constants.END64HDR;continue}if(t.readUInt32LE(r)===s.Constants.END64SIG){o=n;continue}if(t.readUInt32LE(r)===s.Constants.ZIP64SIG){u=r,a=r+s.readBigUInt64LE(t,r+s.Constants.ZIP64SIZE)+s.Constants.ZIP64LEAD;break}}if(!~u)throw Error(s.Errors.INVALID_FORMAT);c.loadFromBinary(t.slice(u,a)),c.commentLength&&(l=t.slice(f+s.Constants.ENDHDR)),e&&y()}function m(){r.length>1&&!p&&r.sort((t,e)=>t.entryName.toLowerCase().localeCompare(e.entryName.toLowerCase()))}return t?g(d.readEntries):f=!0,{get entries(){return f||y(),r},get comment(){return l.toString()},set comment(val){l=s.toBuffer(val),c.commentLength=l.length},getEntryCount:function(){return f?r.length:c.diskEntries},forEach:function(t){if(!f){h(t);return}r.forEach(t)},getEntry:function(t){return f||y(),u[t]||null},setEntry:function(t){f||y(),r.push(t),u[t.entryName]=t,c.totalEntries=r.length},deleteEntry:function(t){f||y();var e=u[t];if(e&&e.isDirectory){var n=this;this.getEntryChildren(e).forEach(function(e){e.entryName!==t&&n.deleteEntry(e.entryName)})}r.splice(r.indexOf(e),1),delete u[t],c.totalEntries=r.length},getEntryChildren:function(t){if(f||y(),t&&t.isDirectory){let e=[],n=t.entryName,o=n.length;return r.forEach(function(t){t.entryName.substr(0,o)===n&&e.push(t)}),e}return[]},compressToBuffer:function(){f||y(),m();let t=[],e=[],o=0,a=0;for(let s of(c.size=0,c.offset=0,r)){let r=s.getCompressedData();s.header.offset=a;let u=s.header.dataHeaderToBinary(),l=s.rawEntryName.length,f=n.alloc(l+s.extra.length);s.rawEntryName.copy(f,0),f.copy(s.extra,l);let d=u.length+f.length+r.length;a+=d,t.push(u),t.push(f),t.push(r);let p=s.packHeader();e.push(p),c.size+=p.length,o+=d+p.length}o+=c.mainHeaderSize,c.offset=a,a=0;let u=n.alloc(o);for(let e of t)e.copy(u,a),a+=e.length;for(let t of e)t.copy(u,a),a+=t.length;let d=c.toBinary();return l&&l.copy(d,s.Constants.ENDHDR),d.copy(u,a),u},toAsyncBuffer:function(t,e,o,a){try{f||y(),m();let e=[],u=[],d=0,p=0;c.size=0,c.offset=0;let h=function(r){if(r.length){let t=r.pop(),s=t.entryName+t.extra.toString();o&&o(s),t.getCompressedDataAsync(function(o){a&&a(s),t.header.offset=p;let l=t.header.dataHeaderToBinary(),f=n.alloc(s.length,s),y=l.length+f.length+o.length;p+=y,e.push(l),e.push(f),e.push(o);let g=t.packHeader();u.push(g),c.size+=g.length,d+=y+g.length,h(r)})}else{d+=c.mainHeaderSize,c.offset=p,p=0;let r=n.alloc(d);e.forEach(function(t){t.copy(r,p),p+=t.length}),u.forEach(function(t){t.copy(r,p),p+=t.length});let o=c.toBinary();l&&l.copy(o,s.Constants.ENDHDR),o.copy(r,p),t(r)}};h(r)}catch(t){e(t)}}}}},6894:(t,e,r)=>{"use strict";var n=r(1924)("ArrayBuffer.prototype.byteLength",!0),o=r(635);t.exports=function(t){return o(t)?n?n(t):t.byteLength:NaN}},9282:(t,e,r)=>{"use strict";var n,o,a=r(4155);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function l(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=f(t,"string");return"symbol"===s(e)?e:String(e)}function f(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}var p=r(2136).codes,h=p.ERR_AMBIGUOUS_ARGUMENT,y=p.ERR_INVALID_ARG_TYPE,g=p.ERR_INVALID_ARG_VALUE,m=p.ERR_INVALID_RETURN_VALUE,_=p.ERR_MISSING_ARGS,b=r(5961),w=r(9539).inspect,E=r(9539).types,v=E.isPromise,S=E.isRegExp,T=r(8162)(),O=r(5624)(),A=r(1924)("RegExp.prototype.test");function I(){var t=r(9158);n=t.isDeepEqual,o=t.isDeepStrictEqual}var N=!1,D=t.exports=k,R={};function C(t){if(t.message instanceof Error)throw t.message;throw new b(t)}function M(t,e,r,n,o){var s,u=arguments.length;if(0===u?s="Failed":1===u?(r=t,t=void 0):(!1===N&&(N=!0,(a.emitWarning?a.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===u&&(n="!=")),r instanceof Error)throw r;var l={actual:t,expected:e,operator:void 0===n?"fail":n,stackStartFn:o||M};void 0!==r&&(l.message=r);var c=new b(l);throw s&&(c.message=s,c.generatedMessage=!0),c}function x(t,e,r,n){if(!r){var o=!1;if(0===e)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var a=new b({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw a.generatedMessage=o,a}}function k(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];x.apply(void 0,[k,e.length].concat(e))}function L(t,e,r){if(arguments.length<2)throw new _("actual","expected");void 0===n&&I(),o(t,e)&&C({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:L})}D.fail=M,D.AssertionError=b,D.ok=k,D.equal=function t(e,r,n){if(arguments.length<2)throw new _("actual","expected");e!=r&&C({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},D.notEqual=function t(e,r,n){if(arguments.length<2)throw new _("actual","expected");e==r&&C({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},D.deepEqual=function t(e,r,o){if(arguments.length<2)throw new _("actual","expected");void 0===n&&I(),n(e,r)||C({actual:e,expected:r,message:o,operator:"deepEqual",stackStartFn:t})},D.notDeepEqual=function t(e,r,o){if(arguments.length<2)throw new _("actual","expected");void 0===n&&I(),n(e,r)&&C({actual:e,expected:r,message:o,operator:"notDeepEqual",stackStartFn:t})},D.deepStrictEqual=function t(e,r,a){if(arguments.length<2)throw new _("actual","expected");void 0===n&&I(),o(e,r)||C({actual:e,expected:r,message:a,operator:"deepStrictEqual",stackStartFn:t})},D.notDeepStrictEqual=L,D.strictEqual=function t(e,r,n){if(arguments.length<2)throw new _("actual","expected");O(e,r)||C({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},D.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new _("actual","expected");O(e,r)&&C({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var F=l(function t(e,r,n){var o=this;d(this,t),r.forEach(function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&S(e[t])&&A(e[t],n[t])?o[t]=n[t]:o[t]=e[t])})});function P(t,e,r,n,a,s){if(!(r in t)||!o(t[r],e[r])){if(!n){var u=new b({actual:new F(t,a),expected:new F(e,a,t),operator:"deepStrictEqual",stackStartFn:s});throw u.actual=t,u.expected=e,u.operator=s.name,u}C({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}function B(t,e,r,o){if("function"!=typeof e){if(S(e))return A(e,t);if(2==arguments.length)throw new y("expected",["Function","RegExp"],e);if("object"!==s(t)||null===t){var a=new b({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:o});throw a.operator=o.name,a}var u=Object.keys(e);if(e instanceof Error)u.push("name","message");else if(0===u.length)throw new g("error",e,"may not be an empty object");return void 0===n&&I(),u.forEach(function(n){"string"==typeof t[n]&&S(e[n])&&A(e[n],t[n])||P(t,e,n,r,u,o)}),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function U(t){if("function"!=typeof t)throw new y("fn","Function",t);try{t()}catch(t){return t}return R}function j(t){return v(t)||null!==t&&"object"===s(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function W(t){return Promise.resolve().then(function(){var e;if("function"==typeof t){if(!j(e=t()))throw new m("instance of Promise","promiseFn",e)}else if(j(t))e=t;else throw new y("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return R}).catch(function(t){return t})})}function H(t,e,r,n){if("string"==typeof r){if(4==arguments.length)throw new y("error",["Object","Error","Function","RegExp"],r);if("object"===s(e)&&null!==e){if(e.message===r)throw new h("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new h("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==s(r)&&"function"!=typeof r)throw new y("error",["Object","Error","Function","RegExp"],r);if(e===R){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var a="rejects"===t.name?"rejection":"exception";C({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:t})}if(r&&!B(e,r,n,t))throw e}function z(t,e,r,n){if(e!==R){if("string"==typeof r&&(n=r,r=void 0),!r||B(e,r)){var o=n?": ".concat(n):".",a="doesNotReject"===t.name?"rejection":"exception";C({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(a).concat(o,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function V(t,e,r,n,o){if(!S(e))throw new y("regexp","RegExp",e);var a="match"===o;if("string"!=typeof t||A(e,t)!==a){if(r instanceof Error)throw r;var u=!r;r=r||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(s(t)," (").concat(w(t),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(w(e),". Input:\n\n").concat(w(t),"\n"));var l=new b({actual:t,expected:e,message:r,operator:o,stackStartFn:n});throw l.generatedMessage=u,l}}function $(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];x.apply(void 0,[$,e.length].concat(e))}D.throws=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];H.apply(void 0,[t,U(e)].concat(n))},D.rejects=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return W(e).then(function(e){return H.apply(void 0,[t,e].concat(n))})},D.doesNotThrow=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];z.apply(void 0,[t,U(e)].concat(n))},D.doesNotReject=function t(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return W(e).then(function(e){return z.apply(void 0,[t,e].concat(n))})},D.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===s(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=w(e);var n=new b({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"==typeof o){var a=o.split("\n");a.shift();for(var u=n.stack.split("\n"),l=0;l<a.length;l++){var c=u.indexOf(a[l]);if(-1!==c){u=u.slice(0,c);break}}n.stack="".concat(u.join("\n"),"\n").concat(a.join("\n"))}throw n}},D.match=function t(e,r,n){V(e,r,n,t,"match")},D.doesNotMatch=function t(e,r,n){V(e,r,n,t,"doesNotMatch")},D.strict=T($,D,{equal:D.strictEqual,deepEqual:D.deepStrictEqual,notEqual:D.notStrictEqual,notDeepEqual:D.notDeepStrictEqual}),D.strict.strict=D.strict},5961:(t,e,r)=>{"use strict";var n=r(4155);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function c(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=d(t,"string");return"symbol"===S(e)?e:String(e)}function d(t,e){if("object"!==S(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}function h(t){var e=b();return function(){var r,n=v(t);return r=e?Reflect.construct(n,arguments,v(this).constructor):n.apply(this,arguments),y(this,r)}}function y(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){var e="function"==typeof Map?new Map:void 0;return(m=function(t){if(null===t||!w(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _(t,arguments,v(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,t)})(t)}function _(t,e,r){return(_=b()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&E(o,r.prototype),o}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function w(t){return -1!==Function.toString.call(t).indexOf("[native code]")}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var T=r(9539).inspect,O=r(2136).codes.ERR_INVALID_ARG_TYPE;function A(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function I(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}var N="",D="",R="",C="",M={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},x=10;function k(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(e){r[e]=t[e]}),Object.defineProperty(r,"message",{value:t.message}),r}function L(t){return T(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function F(t,e,r){var o="",a="",s=0,u="",l=!1,c=L(t),f=c.split("\n"),d=L(e).split("\n"),p=0,h="";if("strictEqual"===r&&"object"===S(t)&&"object"===S(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===f.length&&1===d.length&&f[0]!==d[0]){var y=f[0].length+d[0].length;if(y<=x){if(("object"!==S(t)||null===t)&&("object"!==S(e)||null===e)&&(0!==t||0!==e))return"".concat(M[r],"\n\n")+"".concat(f[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==r&&y<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;f[0][p]===d[0][p];)p++;p>2&&(h="\n  ".concat(I(" ",p),"^"),p=0)}}for(var g=f[f.length-1],m=d[d.length-1];g===m&&(p++<2?u="\n  ".concat(g).concat(u):o=g,f.pop(),d.pop(),0!==f.length&&0!==d.length);)g=f[f.length-1],m=d[d.length-1];var _=Math.max(f.length,d.length);if(0===_){var b=c.split("\n");if(b.length>30)for(b[26]="".concat(N,"...").concat(C);b.length>27;)b.pop();return"".concat(M.notIdentical,"\n\n").concat(b.join("\n"),"\n")}p>3&&(u="\n".concat(N,"...").concat(C).concat(u),l=!0),""!==o&&(u="\n  ".concat(o).concat(u),o="");var w=0,E=M[r]+"\n".concat(D,"+ actual").concat(C," ").concat(R,"- expected").concat(C),v=" ".concat(N,"...").concat(C," Lines skipped");for(p=0;p<_;p++){var T=p-s;if(f.length<p+1)T>1&&p>2&&(T>4?(a+="\n".concat(N,"...").concat(C),l=!0):T>3&&(a+="\n  ".concat(d[p-2]),w++),a+="\n  ".concat(d[p-1]),w++),s=p,o+="\n".concat(R,"-").concat(C," ").concat(d[p]),w++;else if(d.length<p+1)T>1&&p>2&&(T>4?(a+="\n".concat(N,"...").concat(C),l=!0):T>3&&(a+="\n  ".concat(f[p-2]),w++),a+="\n  ".concat(f[p-1]),w++),s=p,a+="\n".concat(D,"+").concat(C," ").concat(f[p]),w++;else{var O=d[p],k=f[p],F=k!==O&&(!A(k,",")||k.slice(0,-1)!==O);F&&A(O,",")&&O.slice(0,-1)===k&&(F=!1,k+=","),F?(T>1&&p>2&&(T>4?(a+="\n".concat(N,"...").concat(C),l=!0):T>3&&(a+="\n  ".concat(f[p-2]),w++),a+="\n  ".concat(f[p-1]),w++),s=p,a+="\n".concat(D,"+").concat(C," ").concat(k),o+="\n".concat(R,"-").concat(C," ").concat(O),w+=2):(a+=o,o="",(1===T||0===p)&&(a+="\n  ".concat(k),w++))}if(w>20&&p<_-2)return"".concat(E).concat(v,"\n").concat(a,"\n").concat(N,"...").concat(C).concat(o,"\n")+"".concat(N,"...").concat(C)}return"".concat(E).concat(l?v:"","\n").concat(a).concat(o).concat(u).concat(h)}var P=function(t,e){p(o,t);var r=h(o);function o(t){if(u(this,o),"object"!==S(t)||null===t)throw new O("options","Object",t);var e,a=t.message,s=t.operator,l=t.stackStartFn,c=t.actual,f=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=a)e=r.call(this,String(a));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(N="\x1b[34m",D="\x1b[32m",C="\x1b[39m",R="\x1b[31m"):(N="",D="",C="",R="")),"object"===S(c)&&null!==c&&"object"===S(f)&&null!==f&&"stack"in c&&c instanceof Error&&"stack"in f&&f instanceof Error&&(c=k(c),f=k(f)),"deepStrictEqual"===s||"strictEqual"===s)e=r.call(this,F(c,f,s));else if("notDeepStrictEqual"===s||"notStrictEqual"===s){var p=M[s],h=L(c).split("\n");if("notStrictEqual"===s&&"object"===S(c)&&null!==c&&(p=M.notStrictEqualObject),h.length>30)for(h[26]="".concat(N,"...").concat(C);h.length>27;)h.pop();e=1===h.length?r.call(this,"".concat(p," ").concat(h[0])):r.call(this,"".concat(p,"\n\n").concat(h.join("\n"),"\n"))}else{var m=L(c),_="",b=M[s];"notDeepEqual"===s||"notEqual"===s?(m="".concat(M[s],"\n\n").concat(m)).length>1024&&(m="".concat(m.slice(0,1021),"...")):(_="".concat(L(f)),m.length>512&&(m="".concat(m.slice(0,509),"...")),_.length>512&&(_="".concat(_.slice(0,509),"...")),"deepEqual"===s||"equal"===s?m="".concat(b,"\n\n").concat(m,"\n\nshould equal\n\n"):_=" ".concat(s," ").concat(_)),e=r.call(this,"".concat(m).concat(_))}return Error.stackTraceLimit=d,e.generatedMessage=!a,Object.defineProperty(g(e),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),e.code="ERR_ASSERTION",e.actual=c,e.expected=f,e.operator=s,Error.captureStackTrace&&Error.captureStackTrace(g(e),l),e.stack,e.name="AssertionError",y(e)}return c(o,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(t,e){return T(this,a(a({},e),{},{customInspect:!1,depth:0}))}}]),o}(m(Error),T.custom);t.exports=P},2136:(t,e,r)=>{"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=u(t,"string");return"symbol"===n(e)?e:String(e)}function u(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function l(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function c(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=y();return function(){var r,n=g(t);return r=e?Reflect.construct(n,arguments,g(this).constructor):n.apply(this,arguments),p(this,r)}}function p(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m,_,b={};function w(t,e,r){function n(t,r,n){return"string"==typeof e?e:e(t,r,n)}r||(r=Error);var o=function(e){c(o,e);var r=d(o);function o(e,a,s){var u;return l(this,o),(u=r.call(this,n(e,a,s))).code=t,u}return a(o)}(r);b[t]=o}function E(t,e){if(!Array.isArray(t))return"of ".concat(e," ").concat(String(t));var r=t.length;return(t=t.map(function(t){return String(t)}),r>2)?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}function v(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function S(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function T(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}w("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),w("ERR_INVALID_ARG_TYPE",function(t,e,o){if(void 0===m&&(m=r(9282)),m("string"==typeof t,"'name' must be a string"),"string"==typeof e&&v(e,"not ")?(a="must not be",e=e.replace(/^not /,"")):a="must be",S(t," argument"))s="The ".concat(t," ").concat(a," ").concat(E(e,"type"));else{var a,s,u=T(t,".")?"property":"argument";s='The "'.concat(t,'" ').concat(u," ").concat(a," ").concat(E(e,"type"))}return s+". Received type ".concat(n(o))},TypeError),w("ERR_INVALID_ARG_VALUE",function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===_&&(_=r(9539));var o=_.inspect(e);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(o)},TypeError,RangeError),w("ERR_INVALID_RETURN_VALUE",function(t,e,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(o,".")},TypeError),w("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===m&&(m=r(9282)),m(e.length>0,"At least one arg needs to be specified");var o="The ",a=e.length;switch(e=e.map(function(t){return'"'.concat(t,'"')}),a){case 1:o+="".concat(e[0]," argument");break;case 2:o+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:o+=e.slice(0,a-1).join(", ")+", and ".concat(e[a-1]," arguments")}return"".concat(o," must be specified")},TypeError),t.exports.codes=b},9158:(t,e,r)=>{"use strict";function n(t,e){return l(t)||u(t,e)||a(t,e)||o()}function o(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,s,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return u}}function l(t){if(Array.isArray(t))return t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=void 0!==/a/g.flags,d=function(t){var e=[];return t.forEach(function(t){return e.push(t)}),e},p=function(t){var e=[];return t.forEach(function(t,r){return e.push([r,t])}),e},h=Object.is?Object.is:r(609),y=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},g=Number.isNaN?Number.isNaN:r(360);function m(t){return t.call.bind(t)}var _=m(Object.prototype.hasOwnProperty),b=m(Object.prototype.propertyIsEnumerable),w=m(Object.prototype.toString),E=r(9539).types,v=E.isAnyArrayBuffer,S=E.isArrayBufferView,T=E.isDate,O=E.isMap,A=E.isRegExp,I=E.isSet,N=E.isNativeError,D=E.isBoxedPrimitive,R=E.isNumberObject,C=E.isStringObject,M=E.isBooleanObject,x=E.isBigIntObject,k=E.isSymbolObject,L=E.isFloat32Array,F=E.isFloat64Array;function P(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=4294967296}function B(t){return Object.keys(t).filter(P).concat(y(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function U(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var j=void 0,W=!0,H=!1,z=0,V=1,$=2,q=3;function G(t,e){return f?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function Y(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function K(t,e){return t.byteLength===e.byteLength&&0===U(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Z(t,e){return t.byteLength===e.byteLength&&0===U(new Uint8Array(t),new Uint8Array(e))}function J(t,e){return R(t)?R(e)&&h(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):C(t)?C(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):M(t)?M(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):x(t)?x(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):k(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function X(t,e,r,n){if(t===e)return 0!==t||!r||h(t,e);if(r){if("object"!==c(t))return"number"==typeof t&&g(t)&&g(e);if("object"!==c(e)||null===t||null===e||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==c(t))return(null===e||"object"!==c(e))&&t==e;if(null===e||"object"!==c(e))return!1}var o=w(t);if(o!==w(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=B(t,j),s=B(e,j);return a.length===s.length&&tt(t,e,r,n,V,a)}if("[object Object]"===o&&(!O(t)&&O(e)||!I(t)&&I(e)))return!1;if(T(t)){if(!T(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(A(t)){if(!A(e)||!G(t,e))return!1}else if(N(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(S(t)){if(!r&&(L(t)||F(t))){if(!Y(t,e))return!1}else if(!K(t,e))return!1;var u=B(t,j),l=B(e,j);return u.length===l.length&&tt(t,e,r,n,z,u)}else if(I(t))return!!I(e)&&t.size===e.size&&tt(t,e,r,n,$);else if(O(t))return!!O(e)&&t.size===e.size&&tt(t,e,r,n,q);else if(v(t)){if(!Z(t,e))return!1}else if(D(t)&&!J(t,e))return!1;return tt(t,e,r,n,z)}function Q(t,e){return e.filter(function(e){return b(t,e)})}function tt(t,e,r,n,o,a){if(5==arguments.length){a=Object.keys(t);var s=Object.keys(e);if(a.length!==s.length)return!1}for(var u=0;u<a.length;u++)if(!_(e,a[u]))return!1;if(r&&5==arguments.length){var l=y(t);if(0!==l.length){var c=0;for(u=0;u<l.length;u++){var f=l[u];if(b(t,f)){if(!b(e,f))return!1;a.push(f),c++}else if(b(e,f))return!1}var d=y(e);if(l.length!==d.length&&Q(e,d).length!==c)return!1}else{var p=y(e);if(0!==p.length&&0!==Q(e,p).length)return!1}}if(0===a.length&&(o===z||o===V&&0===t.length||0===t.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var h=n.val1.get(t);if(void 0!==h){var g=n.val2.get(e);if(void 0!==g)return h===g}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var m=tu(t,e,r,a,n,o);return n.val1.delete(t),n.val2.delete(e),m}function te(t,e,r,n){for(var o=d(t),a=0;a<o.length;a++){var s=o[a];if(X(e,s,r,n))return t.delete(s),!0}return!1}function tr(t){switch(c(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(g(t))return!1}return!0}function tn(t,e,r){var n=tr(r);return null!=n?n:e.has(n)&&!t.has(n)}function ti(t,e,r,n,o){var a=tr(r);if(null!=a)return a;var s=e.get(a);return!!((void 0!==s||e.has(a))&&X(n,s,!1,o))&&!t.has(a)&&X(n,s,!1,o)}function to(t,e,r,n){for(var o=null,a=d(t),s=0;s<a.length;s++){var u=a[s];if("object"===c(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!e.has(u)){if(r||!tn(t,e,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=d(e),f=0;f<l.length;f++){var p=l[f];if("object"===c(p)&&null!==p){if(!te(o,p,r,n))return!1}else if(!r&&!t.has(p)&&!te(o,p,r,n))return!1}return 0===o.size}return!0}function ta(t,e,r,n,o,a){for(var s=d(t),u=0;u<s.length;u++){var l=s[u];if(X(r,l,o,a)&&X(n,e.get(l),o,a))return t.delete(l),!0}return!1}function ts(t,e,r,o){for(var a=null,s=p(t),u=0;u<s.length;u++){var l=n(s[u],2),f=l[0],d=l[1];if("object"===c(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var h=e.get(f);if(void 0===h&&!e.has(f)||!X(d,h,r,o)){if(r||!ti(t,e,f,d,o))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var y=p(e),g=0;g<y.length;g++){var m=n(y[g],2),_=m[0],b=m[1];if("object"===c(_)&&null!==_){if(!ta(a,t,_,b,r,o))return!1}else if(!r&&(!t.has(_)||!X(t.get(_),b,!1,o))&&!ta(a,t,_,b,!1,o))return!1}return 0===a.size}return!0}function tu(t,e,r,n,o,a){var s=0;if(a===$){if(!to(t,e,r,o))return!1}else if(a===q){if(!ts(t,e,r,o))return!1}else if(a===V)for(;s<t.length;s++)if(_(t,s)){if(!_(e,s)||!X(t[s],e[s],r,o))return!1}else{if(_(e,s))return!1;for(var u=Object.keys(t);s<u.length;s++){var l=u[s];if(!_(e,l)||!X(t[l],e[l],r,o))return!1}if(u.length!==Object.keys(e).length)return!1;return!0}for(s=0;s<n.length;s++){var c=n[s];if(!X(t[c],e[c],r,o))return!1}return!0}function tl(t,e){return X(t,e,H)}function tc(t,e){return X(t,e,W)}t.exports={isDeepEqual:tl,isDeepStrictEqual:tc}},9742:(t,e)=>{"use strict";e.byteLength=c,e.toByteArray=d,e.fromByteArray=y;for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function c(t){var e=l(t),r=e[0],n=e[1];return(r+n)*3/4-n}function f(t,e,r){return(e+r)*3/4-r}function d(t){var e,r,a=l(t),s=a[0],u=a[1],c=new o(f(t,s,u)),d=0,p=u>0?s-4:s;for(r=0;r<p;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[d++]=255&e),1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c}function p(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,r){for(var n=[],o=e;o<r;o+=3)n.push(p((t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2])));return n.join("")}function y(t){for(var e,n=t.length,o=n%3,a=[],s=16383,u=0,l=n-o;u<l;u+=s)a.push(h(t,u,u+s>l?l:u+s));return 1===o?a.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===o&&a.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4505:(t,e,r)=>{"use strict";var n=r(8764).Buffer,o=r(4155),a=r(9282),s=r(2292),u=r(405),l=r(7948),c=r(1619);for(var f in c)e[f]=c[f];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var d=31,p=139;function h(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?u.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&l.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},h.prototype.write=function(t,e,r,n,o,a,s){return this._write(!0,t,e,r,n,o,a,s)},h.prototype.writeSync=function(t,e,r,n,o,a,s){return this._write(!1,t,e,r,n,o,a,s)},h.prototype._write=function(t,r,s,u,l,c,f,d){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==e.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===r,"must provide flush value"),this.write_in_progress=!0,r!==e.Z_NO_FLUSH&&r!==e.Z_PARTIAL_FLUSH&&r!==e.Z_SYNC_FLUSH&&r!==e.Z_FULL_FLUSH&&r!==e.Z_FINISH&&r!==e.Z_BLOCK)throw Error("Invalid flush value");if(null==s&&(s=n.alloc(0),l=0,u=0),this.strm.avail_in=l,this.strm.input=s,this.strm.next_in=u,this.strm.avail_out=d,this.strm.output=c,this.strm.next_out=f,this.flush=r,!t)return(this._process(),this._checkError())?this._afterSync():void 0;var p=this;return o.nextTick(function(){p._process(),p._after()}),this},h.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},h.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=u.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]===d){if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break}else{this.mode=e.INFLATE;break}case 1:if(null===t)break;this.strm.input[t]===p?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},h.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(t,r,n,o,s){a(4==arguments.length||5==arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(t>=8&&t<=15,"invalid windowBits"),a(r>=-1&&r<=9,"invalid compression level"),a(n>=1&&n<=9,"invalid memlevel"),a(o===e.Z_FILTERED||o===e.Z_HUFFMAN_ONLY||o===e.Z_RLE||o===e.Z_FIXED||o===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,t,n,o,s),this._setDictionary()},h.prototype.params=function(){throw Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(t,r,n,o,a){switch(this.level=t,this.windowBits=r,this.memLevel=n,this.strategy=o,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=u.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=a,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=u.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=u.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=h},2635:(t,e,r)=>{"use strict";var n=r(4155),o=r(8764).Buffer,a=r(2830).Transform,s=r(4505),u=r(9539),l=r(9282).ok,c=r(8764).kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var d=Object.keys(s),p=0;p<d.length;p++){var h=d[p];h.match(/^Z/)&&Object.defineProperty(e,h,{enumerable:!0,value:s[h],writable:!1})}for(var y={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},g=Object.keys(y),m=0;m<g.length;m++){var _=g[m];y[y[_]]=_}function b(t,e,r){var n=[],a=0;function s(){for(var e;null!==(e=t.read());)n.push(e),a+=e.length;t.once("readable",s)}function u(e){t.removeListener("end",l),t.removeListener("readable",s),r(e)}function l(){var e,s=null;a>=c?s=RangeError(f):e=o.concat(n,a),n=[],t.close(),r(s,e)}t.on("error",u),t.on("end",l),t.end(e),s()}function w(t,e){if("string"==typeof e&&(e=o.from(e)),!o.isBuffer(e))throw TypeError("Not a string or buffer");var r=t._finishFlushFlag;return t._processChunk(e,r)}function E(t){if(!(this instanceof E))return new E(t);D.call(this,t,s.DEFLATE)}function v(t){if(!(this instanceof v))return new v(t);D.call(this,t,s.INFLATE)}function S(t){if(!(this instanceof S))return new S(t);D.call(this,t,s.GZIP)}function T(t){if(!(this instanceof T))return new T(t);D.call(this,t,s.GUNZIP)}function O(t){if(!(this instanceof O))return new O(t);D.call(this,t,s.DEFLATERAW)}function A(t){if(!(this instanceof A))return new A(t);D.call(this,t,s.INFLATERAW)}function I(t){if(!(this instanceof I))return new I(t);D.call(this,t,s.UNZIP)}function N(t){return t===s.Z_NO_FLUSH||t===s.Z_PARTIAL_FLUSH||t===s.Z_SYNC_FLUSH||t===s.Z_FULL_FLUSH||t===s.Z_FINISH||t===s.Z_BLOCK}function D(t,r){var n=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,a.call(this,t),t.flush&&!N(t.flush))throw Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!N(t.finishFlush))throw Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||s.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:s.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!o.isBuffer(t.dictionary))throw Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(r);var u=this;this._hadError=!1,this._handle.onerror=function(t,r){R(u),u._hadError=!0;var n=Error(t);n.errno=r,n.code=e.codes[r],u.emit("error",n)};var l=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(l=t.level);var c=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(c=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,l,t.memLevel||e.Z_DEFAULT_MEMLEVEL,c,t.dictionary),this._buffer=o.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function R(t,e){e&&n.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function C(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(y),writable:!1}),e.Deflate=E,e.Inflate=v,e.Gzip=S,e.Gunzip=T,e.DeflateRaw=O,e.InflateRaw=A,e.Unzip=I,e.createDeflate=function(t){return new E(t)},e.createInflate=function(t){return new v(t)},e.createDeflateRaw=function(t){return new O(t)},e.createInflateRaw=function(t){return new A(t)},e.createGzip=function(t){return new S(t)},e.createGunzip=function(t){return new T(t)},e.createUnzip=function(t){return new I(t)},e.deflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new E(e),t,r)},e.deflateSync=function(t,e){return w(new E(e),t)},e.gzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new S(e),t,r)},e.gzipSync=function(t,e){return w(new S(e),t)},e.deflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new O(e),t,r)},e.deflateRawSync=function(t,e){return w(new O(e),t)},e.unzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new I(e),t,r)},e.unzipSync=function(t,e){return w(new I(e),t)},e.inflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new v(e),t,r)},e.inflateSync=function(t,e){return w(new v(e),t)},e.gunzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new T(e),t,r)},e.gunzipSync=function(t,e){return w(new T(e),t)},e.inflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),b(new A(e),t,r)},e.inflateRawSync=function(t,e){return w(new A(e),t)},u.inherits(D,a),D.prototype.params=function(t,r,o){if(t<e.Z_MIN_LEVEL||t>e.Z_MAX_LEVEL)throw RangeError("Invalid compression level: "+t);if(r!=e.Z_FILTERED&&r!=e.Z_HUFFMAN_ONLY&&r!=e.Z_RLE&&r!=e.Z_FIXED&&r!=e.Z_DEFAULT_STRATEGY)throw TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var a=this;this.flush(s.Z_SYNC_FLUSH,function(){l(a._handle,"zlib binding closed"),a._handle.params(t,r),!a._hadError&&(a._level=t,a._strategy=r,o&&o())})}else n.nextTick(o)},D.prototype.reset=function(){return l(this._handle,"zlib binding closed"),this._handle.reset()},D.prototype._flush=function(t){this._transform(o.alloc(0),"",t)},D.prototype.flush=function(t,e){var r=this,a=this._writableState;"function"!=typeof t&&(void 0!==t||e)||(e=t,t=s.Z_FULL_FLUSH),a.ended?e&&n.nextTick(e):a.ending?e&&this.once("end",e):a.needDrain?e&&this.once("drain",function(){return r.flush(t,e)}):(this._flushFlag=t,this.write(o.alloc(0),"",e))},D.prototype.close=function(t){R(this,t),n.nextTick(C,this)},D.prototype._transform=function(t,e,r){var n,a=this._writableState,u=(a.ending||a.ended)&&(!t||a.length===t.length);return null===t||o.isBuffer(t)?this._handle?void(u?n=this._finishFlushFlag:(n=this._flushFlag,t.length>=a.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),this._processChunk(t,n,r)):r(Error("zlib binding closed")):r(Error("invalid input"))},D.prototype._processChunk=function(t,e,r){var n=t&&t.length,a=this._chunkSize-this._offset,s=0,u=this,d="function"==typeof r;if(!d){var p,h=[],y=0;this.on("error",function(t){p=t}),l(this._handle,"zlib binding closed");do var g=this._handle.writeSync(e,t,s,n,this._buffer,this._offset,a);while(!this._hadError&&b(g[0],g[1]))if(this._hadError)throw p;if(y>=c)throw R(this),RangeError(f);var m=o.concat(h,y);return R(this),m}l(this._handle,"zlib binding closed");var _=this._handle.write(e,t,s,n,this._buffer,this._offset,a);function b(c,f){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var p=a-f;if(l(p>=0,"have should not go down"),p>0){var g=u._buffer.slice(u._offset,u._offset+p);u._offset+=p,d?u.push(g):(h.push(g),y+=g.length)}if((0===f||u._offset>=u._chunkSize)&&(a=u._chunkSize,u._offset=0,u._buffer=o.allocUnsafe(u._chunkSize)),0===f){if(s+=n-c,n=c,!d)return!0;var m=u._handle.write(e,t,s,n,u._buffer,u._offset,u._chunkSize);return m.callback=b,void(m.buffer=t)}if(!d)return!1;r()}}_.buffer=t,_.callback=b},u.inherits(E,D),u.inherits(v,D),u.inherits(S,D),u.inherits(T,D),u.inherits(O,D),u.inherits(A,D),u.inherits(I,D)},8764:(t,e,r)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(9742),o=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;let s=2147483647;function u(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function l(t){if(t>s)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return y(t,e);if(ArrayBuffer.isView(t))return m(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ts(t,ArrayBuffer)||t&&ts(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ts(t,SharedArrayBuffer)||t&&ts(t.buffer,SharedArrayBuffer)))return _(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);let o=b(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function p(t,e,r){return(d(t),t<=0)?l(t):void 0!==e?"string"==typeof r?l(t).fill(e,r):l(t).fill(e):l(t)}function h(t){return d(t),l(t<0?0:0|w(t))}function y(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!c.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=0|v(t,e),n=l(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function g(t){let e=t.length<0?0:0|w(t.length),r=l(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function m(t){if(ts(t,Uint8Array)){let e=new Uint8Array(t);return _(e.buffer,e.byteOffset,e.byteLength)}return g(t)}function _(t,e,r){let n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),c.prototype),n}function b(t){if(c.isBuffer(t)){let e=0|w(t.length),r=l(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||tu(t.length)?l(0):g(t):"Buffer"===t.type&&Array.isArray(t.data)?g(t.data):void 0}function w(t){if(t>=s)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function E(t){return+t!=t&&(t=0),c.alloc(+t)}function v(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ts(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return tr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return to(t).length;default:if(o)return n?-1:tr(t).length;e=(""+e).toLowerCase(),o=!0}}function S(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return x(this,e,r);case"ascii":return F(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function T(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function O(t,e,r,n,o){if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),tu(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return -1;r=t.length-1}else if(r<0){if(!o)return -1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:A(t,e,r,n,o);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,n,o);throw TypeError("val must be string, number or Buffer")}function A(t,e,r,n,o){let a,s=1,u=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;s=2,u/=2,l/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let n=-1;for(a=r;a<u;a++)if(c(t,a)===c(e,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*s}else -1!==n&&(a-=a-n),n=-1}else for(r+l>u&&(r=u-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(c(t,a+n)!==c(e,n)){r=!1;break}if(r)return a}return -1}function I(t,e,r,n){let o;r=Number(r)||0;let a=t.length-r;n?(n=Number(n))>a&&(n=a):n=a;let s=e.length;for(n>s/2&&(n=s/2),o=0;o<n;++o){let n=parseInt(e.substr(2*o,2),16);if(tu(n))break;t[r+o]=n}return o}function N(t,e,r,n){return ta(tr(e,t.length-r),t,r,n)}function D(t,e,r,n){return ta(tn(e),t,r,n)}function R(t,e,r,n){return ta(to(e),t,r,n)}function C(t,e,r,n){return ta(ti(e,t.length-r),t,r,n)}function M(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let e=t[o],a=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=r){let r,n,u,l;switch(s){case 1:e<128&&(a=e);break;case 2:(192&(r=t[o+1]))==128&&(l=(31&e)<<6|63&r)>127&&(a=l);break;case 3:r=t[o+1],n=t[o+2],(192&r)==128&&(192&n)==128&&(l=(15&e)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=t[o+1],n=t[o+2],u=t[o+3],(192&r)==128&&(192&n)==128&&(192&u)==128&&(l=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return L(n)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=u(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return f(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return p(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(ts(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),ts(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){let r;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;let n=c.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){let e=t[r];if(ts(e,Uint8Array))o+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else if(c.isBuffer(e))e.copy(n,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=e.length}return n},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)T(this,e,e+1);return this},c.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)T(this,e,e+3),T(this,e+1,e+2);return this},c.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)T(this,e,e+7),T(this,e+1,e+6),T(this,e+2,e+5),T(this,e+3,e+4);return this},c.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?x(this,0,t):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,o){if(ts(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;let a=o-n,s=r-e,u=Math.min(a,s),l=this.slice(n,o),f=t.slice(e,r);for(let t=0;t<u;++t)if(l[t]!==f[t]){a=l[t],s=f[t];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return O(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return O(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return N(this,t,e,r);case"ascii":case"latin1":case"binary":return D(this,t,e,r);case"base64":return R(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(a)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let k=4096;function L(t){let e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=k));return r}function F(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function B(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=tl[t[n]];return o}function U(t,e,r){let n=t.slice(e,r),o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}function j(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function W(t,e,r,n,o,a){if(!c.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function H(t,e,r,n,o){J(e,n,o,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function z(t,e,r,n,o){J(e,n,o,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a>>=8,t[r+6]=a,a>>=8,t[r+5]=a,a>>=8,t[r+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function V(t,e,r,n,o,a){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function $(t,e,r,n,a){return e=+e,r>>>=0,a||V(t,e,r,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,r,n,23,4),r+4}function q(t,e,r,n,a){return e=+e,r>>>=0,a||V(t,e,r,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){let r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);let n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t],o=1,a=0;for(;++a<e&&(o*=256);)n+=this[t+a]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=tc(function(t){X(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Q(t,this.length-8);let n=e+256*this[++t]+65536*this[++t]+16777216*this[++t],o=this[++t]+256*this[++t]+65536*this[++t]+16777216*r;return BigInt(n)+(BigInt(o)<<BigInt(32))}),c.prototype.readBigUInt64BE=tc(function(t){X(t>>>=0,"offset");let e=this[t],r=this[t+7];(void 0===e||void 0===r)&&Q(t,this.length-8);let n=16777216*e+65536*this[++t]+256*this[++t]+this[++t],o=16777216*this[++t]+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)}),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=this[t],o=1,a=0;for(;++a<e&&(o*=256);)n+=this[t+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);let n=e,o=1,a=this[t+--n];for(;n>0&&(o*=256);)a+=this[t+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*e)),a},c.prototype.readInt8=function(t,e){return(t>>>=0,e||j(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);let r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);let r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=tc(function(t){X(t>>>=0,"offset");let e=this[t],r=this[t+7];return(void 0===e||void 0===r)&&Q(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),c.prototype.readBigInt64BE=tc(function(t){X(t>>>=0,"offset");let e=this[t],r=this[t+7];return(void 0===e||void 0===r)&&Q(t,this.length-8),(BigInt((e<<24)+65536*this[++t]+256*this[++t]+this[++t])<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+r)}),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;W(this,t,e,r,n,0)}let o=1,a=0;for(this[e]=255&t;++a<r&&(o*=256);)this[e+a]=t/o&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;W(this,t,e,r,n,0)}let o=r-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=tc(function(t,e=0){return H(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=tc(function(t,e=0){return z(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);W(this,t,e,r,n-1,-n)}let o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){let n=Math.pow(2,8*r-1);W(this,t,e,r,n-1,-n)}let o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=tc(function(t,e=0){return H(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=tc(function(t,e=0){return z(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(t,e,r){return $(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return $(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);let o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},c.prototype.fill=function(t,e,r,n){let o;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){let e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{let a=c.isBuffer(t)?t:c.from(t,n),s=a.length;if(0===s)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};let G={};function Y(t,e,r){G[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function K(t){let e="",r=t.length,n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Z(t,e,r){X(e,"offset"),(void 0===t[e]||void 0===t[e+r])&&Q(e,t.length-(r+1))}function J(t,e,r,n,o,a){if(t>r||t<e){let n;let o="bigint"==typeof e?"n":"";throw n=a>3?0===e||e===BigInt(0)?`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:`>= ${e}${o} and <= ${r}${o}`,new G.ERR_OUT_OF_RANGE("value",n,t)}Z(n,o,a)}function X(t,e){if("number"!=typeof t)throw new G.ERR_INVALID_ARG_TYPE(e,"number",t)}function Q(t,e,r){if(Math.floor(t)!==t)throw X(t,r),new G.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Y("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?o=K(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=K(o)),o+="n"),n+=` It must be ${e}. Received ${o}`},RangeError);let tt=/[^+/0-9A-Za-z-_]/g;function te(t){if((t=(t=t.split("=")[0]).trim().replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function tr(t,e){let r;e=e||1/0;let n=t.length,o=null,a=[];for(let s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319||s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function tn(t){let e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function ti(t,e){let r,n;let o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,o.push(r%256),o.push(n);return o}function to(t){return n.toByteArray(te(t))}function ta(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length)&&!(o>=t.length);++o)e[o+r]=t[o];return o}function ts(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function tu(t){return t!=t}let tl=function(){let t="0123456789abcdef",e=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function tc(t){return"undefined"==typeof BigInt?tf:t}function tf(){throw Error("BigInt not supported")}},1924:(t,e,r)=>{"use strict";var n=r(210),o=r(5559),a=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")>-1?o(r):r}},5559:(t,e,r)=>{"use strict";var n=r(8612),o=r(210),a=r(7771),s=r(4453),u=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(l,u),f=r(4429),d=o("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(n,l,arguments);return a(e,1+d(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(n,u,arguments)};f?f(t.exports,"apply",{value:p}):t.exports.apply=p},487:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=e},1012:t=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var r=[],n=0;n<t.length;n+=3)for(var o=t[n]<<16|t[n+1]<<8|t[n+2],a=0;a<4;a++)8*n+6*a<=8*t.length?r.push(e.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],n=0,o=0;n<t.length;o=++n%4)0!=o&&r.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(n))>>>6-2*o);return r}};t.exports=r}()},6203:(t,e,r)=>{var n=r(8764).Buffer;class o{constructor(t=100){this.size=t,this.length=0,this.buf=n.alloc(t)}prepend(t){if(n.isBuffer(t)){let e=this.length+t.length;if(e>=this.size&&(this.resize(),e>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=n.alloc(this.size),t.copy(this.buf,0),r.copy(this.buf,t.length),this.length+=t.length}else{let e=this.length++;e===this.size&&this.resize();let r=this.clone();this.buf[0]=t,r.copy(this.buf,1,0,e)}}append(t){let e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}clone(){return n.from(this.buf.slice(0,this.length))}resize(){let t=this.length;this.size=2*this.size;let e=n.alloc(this.size);this.buf.copy(e,0,0,t),this.buf=e}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}t.exports=o},1786:(t,e,r)=>{var n=r(8764).Buffer;let{Transform:o}=r(2830),a=r(6203),s=9,u=10,l=12,c=13,f=32,d={utf8:n.from([239,187,191]),utf16le:n.from([255,254])};class p extends o{constructor(t={}){super({readableObjectMode:!0,...t,encoding:null}),this.__originalOptions=t,this.__normalizeOptions(t)}__normalizeOptions(t){let e={};for(let r in t)e[g(r)]=t[r];if(void 0===e.encoding||!0===e.encoding)e.encoding="utf8";else if(null===e.encoding||!1===e.encoding)e.encoding=null;else if("string"!=typeof e.encoding&&null!==e.encoding)throw new y("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(void 0===e.bom||null===e.bom||!1===e.bom)e.bom=!1;else if(!0!==e.bom)throw new y("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);let r=null;if(void 0===e.cast||null===e.cast||!1===e.cast||""===e.cast)e.cast=void 0;else if("function"==typeof e.cast)r=e.cast,e.cast=!0;else if(!0!==e.cast)throw new y("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(void 0===e.cast_date||null===e.cast_date||!1===e.cast_date||""===e.cast_date)e.cast_date=!1;else if(!0===e.cast_date)e.cast_date=function(t){let e=Date.parse(t);return isNaN(e)?t:new Date(e)};else throw new y("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);let o=null;if(!0===e.columns)o=void 0;else if("function"==typeof e.columns)o=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=b(e.columns);else if(void 0===e.columns||null===e.columns||!1===e.columns)e.columns=!1;else throw new y("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(void 0===e.columns_duplicates_to_array||null===e.columns_duplicates_to_array||!1===e.columns_duplicates_to_array)e.columns_duplicates_to_array=!1;else if(!0!==e.columns_duplicates_to_array)throw new y("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","expect an boolean,",`got ${JSON.stringify(e.columns_duplicates_to_array)}`],e);else if(!1===e.columns)throw new y("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","the `columns` mode must be activated."],e);if(void 0===e.comment||null===e.comment||!1===e.comment||""===e.comment)e.comment=null;else if("string"==typeof e.comment&&(e.comment=n.from(e.comment,e.encoding)),!n.isBuffer(e.comment))throw new y("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);let s=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),0===e.delimiter.length)throw new y("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],e);if(e.delimiter=e.delimiter.map(function(t){if(null==t||!1===t)return n.from(",",e.encoding);if("string"==typeof t&&(t=n.from(t,e.encoding)),!n.isBuffer(t)||0===t.length)throw new y("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],e);return t}),void 0===e.escape||!0===e.escape?e.escape=n.from('"',e.encoding):"string"==typeof e.escape?e.escape=n.from(e.escape,e.encoding):(null===e.escape||!1===e.escape)&&(e.escape=null),null!==e.escape&&!n.isBuffer(e.escape))throw Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(void 0===e.from||null===e.from)e.from=1;else if("string"==typeof e.from&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}else throw Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(void 0===e.from_line||null===e.from_line)e.from_line=1;else if("string"==typeof e.from_line&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}else throw Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(void 0===e.ignore_last_delimiters||null===e.ignore_last_delimiters)e.ignore_last_delimiters=!1;else if("number"==typeof e.ignore_last_delimiters)e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),0===e.ignore_last_delimiters&&(e.ignore_last_delimiters=!1);else if("boolean"!=typeof e.ignore_last_delimiters)throw new y("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(!0===e.ignore_last_delimiters&&!1===e.columns)throw new y("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(void 0===e.info||null===e.info||!1===e.info)e.info=!1;else if(!0!==e.info)throw Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(void 0===e.max_record_size||null===e.max_record_size||!1===e.max_record_size)e.max_record_size=0;else if(Number.isInteger(e.max_record_size)&&e.max_record_size>=0);else if("string"==typeof e.max_record_size&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(void 0===e.objname||null===e.objname||!1===e.objname)e.objname=void 0;else if(n.isBuffer(e.objname)){if(0===e.objname.length)throw Error("Invalid Option: objname must be a non empty buffer");null===e.encoding||(e.objname=e.objname.toString(e.encoding))}else if("string"==typeof e.objname){if(0===e.objname.length)throw Error("Invalid Option: objname must be a non empty string")}else throw Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(void 0===e.on_record||null===e.on_record)e.on_record=void 0;else if("function"!=typeof e.on_record)throw new y("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(null===e.quote||!1===e.quote||""===e.quote)e.quote=null;else if(void 0===e.quote||!0===e.quote?e.quote=n.from('"',e.encoding):"string"==typeof e.quote&&(e.quote=n.from(e.quote,e.encoding)),!n.isBuffer(e.quote))throw Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(void 0===e.raw||null===e.raw||!1===e.raw)e.raw=!1;else if(!0!==e.raw)throw Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter?Array.isArray(e.record_delimiter)||(e.record_delimiter=[e.record_delimiter]):e.record_delimiter=[],e.record_delimiter=e.record_delimiter.map(function(t){return"string"==typeof t&&(t=n.from(t,e.encoding)),t}),"boolean"==typeof e.relax);else if(void 0===e.relax||null===e.relax)e.relax=!1;else throw Error(`Invalid Option: relax must be a boolean, got ${JSON.stringify(e.relax)}`);if("boolean"==typeof e.relax_column_count);else if(void 0===e.relax_column_count||null===e.relax_column_count)e.relax_column_count=!1;else throw Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if("boolean"==typeof e.relax_column_count_less);else if(void 0===e.relax_column_count_less||null===e.relax_column_count_less)e.relax_column_count_less=!1;else throw Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if("boolean"==typeof e.relax_column_count_more);else if(void 0===e.relax_column_count_more||null===e.relax_column_count_more)e.relax_column_count_more=!1;else throw Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if("boolean"==typeof e.skip_empty_lines);else if(void 0===e.skip_empty_lines||null===e.skip_empty_lines)e.skip_empty_lines=!1;else throw Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if("boolean"==typeof e.skip_lines_with_empty_values);else if(void 0===e.skip_lines_with_empty_values||null===e.skip_lines_with_empty_values)e.skip_lines_with_empty_values=!1;else throw Error(`Invalid Option: skip_lines_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_lines_with_empty_values)}`);if("boolean"==typeof e.skip_lines_with_error);else if(void 0===e.skip_lines_with_error||null===e.skip_lines_with_error)e.skip_lines_with_error=!1;else throw Error(`Invalid Option: skip_lines_with_error must be a boolean, got ${JSON.stringify(e.skip_lines_with_error)}`);if(void 0===e.rtrim||null===e.rtrim||!1===e.rtrim)e.rtrim=!1;else if(!0!==e.rtrim)throw Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(void 0===e.ltrim||null===e.ltrim||!1===e.ltrim)e.ltrim=!1;else if(!0!==e.ltrim)throw Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(void 0===e.trim||null===e.trim||!1===e.trim)e.trim=!1;else if(!0!==e.trim)throw Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(!0===e.trim&&!1!==t.ltrim?e.ltrim=!0:!0!==e.ltrim&&(e.ltrim=!1),!0===e.trim&&!1!==t.rtrim?e.rtrim=!0:!0!==e.rtrim&&(e.rtrim=!1),void 0===e.to||null===e.to)e.to=-1;else if("string"==typeof e.to&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}else throw Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(void 0===e.to_line||null===e.to_line)e.to_line=-1;else if("string"==typeof e.to_line&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}else throw Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);this.info={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},this.options=e,this.state={bomSkipped:!1,bufBytesStart:0,castField:r,commenting:!1,error:void 0,enabled:1===e.from_line,escaping:!1,escapeIsQuote:n.isBuffer(e.escape)&&n.isBuffer(e.quote)&&0===n.compare(e.escape,e.quote),expectedRecordLength:Array.isArray(e.columns)?e.columns.length:void 0,field:new a(20),firstLineToHeaders:o,needMoreDataSize:Math.max(null!==e.comment?e.comment.length:0,...e.delimiter.map(t=>t.length),null!==e.quote?e.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new a(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===e.record_delimiter.length?2:Math.max(...e.record_delimiter.map(t=>t.length)),trimChars:[n.from(" ",e.encoding)[0],n.from("	",e.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1}}_transform(t,e,r){if(!0===this.state.stop)return;let n=this.__parse(t,!1);void 0!==n&&(this.state.stop=!0),r(n)}_flush(t){!0!==this.state.stop&&t(this.__parse(void 0,!0))}__parse(t,e){let r,o;let{bom:a,comment:s,escape:l,from_line:f,ltrim:p,max_record_size:h,quote:g,raw:m,relax:_,rtrim:b,skip_empty_lines:w,to:E,to_line:v}=this.options,{record_delimiter:S}=this.options,{bomSkipped:T,previousBuf:O,rawBuffer:A,escapeIsQuote:I}=this.state;if(void 0===O){if(void 0===t){this.push(null);return}r=t}else r=void 0!==O&&void 0===t?O:n.concat([O,t]);if(!1===T){if(!1===a)this.state.bomSkipped=!0;else if(r.length<3){if(!1===e){this.state.previousBuf=r;return}}else{for(let t in d)if(0===d[t].compare(r,0,d[t].length)){let e=d[t].length;this.state.bufBytesStart+=e,r=r.slice(e),this.__normalizeOptions({...this.__originalOptions,encoding:t});break}this.state.bomSkipped=!0}}let N=r.length;for(o=0;o<N&&!this.__needMoreData(o,N,e);o++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==v&&this.info.lines>v){this.state.stop=!0,this.push(null);return}!1===this.state.quoting&&0===S.length&&this.__autoDiscoverRecordDelimiter(r,o)&&(S=this.options.record_delimiter);let t=r[o];if(!0===m&&A.append(t),(t===c||t===u)&&!1===this.state.wasRowDelimiter&&(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==l&&!0===this.state.quoting&&this.__isEscape(r,o,t)&&o+l.length<N){if(I){if(this.__isQuote(r,o+l.length)){this.state.escaping=!0,o+=l.length-1;continue}}else{this.state.escaping=!0,o+=l.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(r,o)){if(!0===this.state.quoting){let e=r[o+g.length],n=b&&this.__isCharTrimable(e),a=null!==s&&this.__compareBytes(s,r,o+g.length,e),u=this.__isDelimiter(r,o+g.length,e),c=0===S.length?this.__autoDiscoverRecordDelimiter(r,o+g.length):this.__isRecordDelimiter(e,r,o+g.length);if(null!==l&&this.__isEscape(r,o,t)&&this.__isQuote(r,o+l.length))o+=l.length-1;else if(!e||u||c||a||n){this.state.quoting=!1,this.state.wasQuoting=!0,o+=g.length-1;continue}else if(!1===_){let t=this.__error(new y("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(e)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==t)return t}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(g),o+=g.length-1}else if(0!==this.state.field.length){if(!1===_){let t=this.__error(new y("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found inside a field at line ${this.info.lines}`],this.options,this.__infoField(),{field:this.state.field}));if(void 0!==t)return t}}else{this.state.quoting=!0,o+=g.length-1;continue}}if(!1===this.state.quoting){let e=this.__isRecordDelimiter(t,r,o);if(0!==e){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=f){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),o+=e-1;continue}if(!0===w&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,o+=e-1;continue}this.info.bytes=this.state.bufBytesStart+o;let t=this.__onField();if(void 0!==t)return t;this.info.bytes=this.state.bufBytesStart+o+e;let r=this.__onRecord();if(void 0!==r)return r;if(-1!==E&&this.info.records>=E){this.state.stop=!0,this.push(null);return}}this.state.commenting=!1,o+=e-1;continue}if(this.state.commenting)continue;if(0!==(null===s?0:this.__compareBytes(s,r,o,t))){this.state.commenting=!0;continue}let n=this.__isDelimiter(r,o,t);if(0!==n){this.info.bytes=this.state.bufBytesStart+o;let t=this.__onField();if(void 0!==t)return t;o+=n-1;continue}}}if(!1===this.state.commenting&&0!==h&&this.state.record_length+this.state.field.length>h){let t=this.__error(new y("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${h}`,`at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==t)return t}let e=!1===p||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(t),n=!1===b||!1===this.state.wasQuoting;if(!0===e&&!0===n)this.state.field.append(t);else if(!0===b&&!this.__isCharTrimable(t)){let t=this.__error(new y("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==t)return t}}if(!0===e){if(!0===this.state.quoting){let t=this.__error(new y("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==t)return t}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+o;let t=this.__onField();if(void 0!==t)return t;let e=this.__onRecord();if(void 0!==e)return e}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++}else this.state.bufBytesStart+=o,this.state.previousBuf=r.slice(o);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}__onRecord(){let{columns:t,columns_duplicates_to_array:e,encoding:r,info:n,from:o,relax_column_count:a,relax_column_count_less:s,relax_column_count_more:u,raw:l,skip_lines_with_empty_values:c}=this.options,{enabled:f,record:d}=this.state;if(!1===f)return this.__resetRecord();let p=d.length;if(!0===t){if(!0===c&&_(d)){this.__resetRecord();return}return this.__firstLineToColumns(d)}if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=p),p!==this.state.expectedRecordLength){let e=!1===t?new y("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:d}):new y("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:",`columns length is ${t.length},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:d});if(!0===a||!0===s&&p<this.state.expectedRecordLength||!0===u&&p>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{let t=this.__error(e);if(t)return t}}if(!0===c&&_(d)){this.__resetRecord();return}if(!0===this.state.recordHasError){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,1===o||this.info.records>=o){if(!1!==t){let o={};for(let r=0,n=d.length;r<n;r++)void 0===t[r]||t[r].disabled||(!0===e&&void 0!==o[t[r].name]?Array.isArray(o[t[r].name])?o[t[r].name]=o[t[r].name].concat(d[r]):o[t[r].name]=[o[t[r].name],d[r]]:o[t[r].name]=d[r]);let{objname:a}=this.options;if(void 0===a){if(!0===l||!0===n){let t=this.__push(Object.assign({record:o},!0===l?{raw:this.state.rawBuffer.toString(r)}:{},!0===n?{info:this.__infoRecord()}:{}));if(t)return t}else{let t=this.__push(o);if(t)return t}}else if(!0===l||!0===n){let t=this.__push(Object.assign({record:[o[a],o]},!0===l?{raw:this.state.rawBuffer.toString(r)}:{},!0===n?{info:this.__infoRecord()}:{}));if(t)return t}else{let t=this.__push([o[a],o]);if(t)return t}}else if(!0===l||!0===n){let t=this.__push(Object.assign({record:d},!0===l?{raw:this.state.rawBuffer.toString(r)}:{},!0===n?{info:this.__infoRecord()}:{}));if(t)return t}else{let t=this.__push(d);if(t)return t}}this.__resetRecord()}__firstLineToColumns(t){let{firstLineToHeaders:e}=this.state;try{let r=void 0===e?t:e.call(null,t);if(!Array.isArray(r))return this.__error(new y("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(r)}`],this.options,this.__infoField(),{headers:r}));let n=b(r);this.state.expectedRecordLength=n.length,this.options.columns=n,this.__resetRecord();return}catch(t){return t}}__resetRecord(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0}__onField(){let{cast:t,encoding:e,rtrim:r,max_record_size:n}=this.options,{enabled:o,wasQuoting:a}=this.state;if(!1===o)return this.__resetField();let s=this.state.field.toString(e);if(!0===r&&!1===a&&(s=s.trimRight()),!0===t){let[t,e]=this.__cast(s);if(void 0!==t)return t;s=e}this.state.record.push(s),0!==n&&"string"==typeof s&&(this.state.record_length+=s.length),this.__resetField()}__resetField(){this.state.field.reset(),this.state.wasQuoting=!1}__push(t){let{on_record:e}=this.options;if(void 0!==e){let r=this.__infoRecord();try{t=e.call(null,t,r)}catch(t){return t}if(null==t)return}this.push(t)}__cast(t){let{columns:e,relax_column_count:r}=this.options;if(!0===Array.isArray(e)&&r&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{let e=this.__infoField();return[void 0,this.state.castField.call(null,t,e)]}catch(t){return[t]}if(this.__isFloat(t))return[void 0,parseFloat(t)];if(!1!==this.options.cast_date){let e=this.__infoField();return[void 0,this.options.cast_date.call(null,t,e)]}return[void 0,t]}__isCharTrimable(t){return t===f||t===s||t===c||t===u||t===l}__isFloat(t){return t-parseFloat(t)+1>=0}__compareBytes(t,e,r,n){if(t[0]!==n)return 0;let o=t.length;for(let n=1;n<o;n++)if(t[n]!==e[r+n])return 0;return o}__needMoreData(t,e,r){if(r)return!1;let{quote:n}=this.options,{quoting:o,needMoreDataSize:a,recordDelimiterMaxLength:s}=this.state;return e-t-1<Math.max(a,s,o?n.length+s:0)}__isDelimiter(t,e,r){let{delimiter:n,ignore_last_delimiters:o}=this.options;if(!0===o&&this.state.record.length===this.options.columns.length-1||!1!==o&&"number"==typeof o&&this.state.record.length===o-1)return 0;r:for(let o=0;o<n.length;o++){let a=n[o];if(a[0]===r){for(let r=1;r<a.length;r++)if(a[r]!==t[e+r])continue r;return a.length}}return 0}__isRecordDelimiter(t,e,r){let{record_delimiter:n}=this.options,o=n.length;r:for(let a=0;a<o;a++){let o=n[a],s=o.length;if(o[0]===t){for(let t=1;t<s;t++)if(o[t]!==e[r+t])continue r;return o.length}}return 0}__isEscape(t,e,r){let{escape:n}=this.options;if(null===n)return!1;let o=n.length;if(n[0]===r){for(let r=0;r<o;r++)if(n[r]!==t[e+r])return!1;return!0}return!1}__isQuote(t,e){let{quote:r}=this.options;if(null===r)return!1;let n=r.length;for(let o=0;o<n;o++)if(r[o]!==t[e+o])return!1;return!0}__autoDiscoverRecordDelimiter(t,e){let{encoding:r}=this.options,o=t[e];return o===c?t[e+1]===u?(this.options.record_delimiter.push(n.from("\r\n",r)),this.state.recordDelimiterMaxLength=2,2):(this.options.record_delimiter.push(n.from("\r",r)),this.state.recordDelimiterMaxLength=1,1):o===u?(this.options.record_delimiter.push(n.from("\n",r)),this.state.recordDelimiterMaxLength=1,1):0}__error(t){let{skip_lines_with_error:e}=this.options,r="string"==typeof t?Error(t):t;if(!e)return r;this.state.recordHasError=!0,this.emit("skip",r)}__infoDataSet(){return{...this.info,columns:this.options.columns}}__infoRecord(){let{columns:t}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===t,index:this.state.record.length}}__infoField(){let{columns:t}=this.options,e=Array.isArray(t);return{...this.__infoRecord(),column:!0===e?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}let h=function(){let t,e,r;for(let o in arguments){let a=arguments[o],s=typeof a;if(void 0===t&&("string"==typeof a||n.isBuffer(a)))t=a;else if(void 0===e&&m(a))e=a;else if(void 0===r&&"function"===s)r=a;else throw new y("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(a)} at index ${o}`],e||{})}let o=new p(e);if(r){let t=void 0===e||void 0===e.objname?[]:{};o.on("readable",function(){let r;for(;null!==(r=this.read());)void 0===e||void 0===e.objname?t.push(r):t[r[0]]=r[1]}),o.on("error",function(t){r(t,void 0,o.__infoDataSet())}),o.on("end",function(){r(void 0,t,o.__infoDataSet())})}return void 0!==t&&("function"==typeof setImmediate?setImmediate(function(){o.write(t),o.end()}):(o.write(t),o.end())),o};class y extends Error{constructor(t,e,r,...o){for(let a of(Array.isArray(e)&&(e=e.join(" ")),super(e),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,y),this.code=t,o))for(let t in a){let e=a[t];this[t]=n.isBuffer(e)?e.toString(r.encoding):null==e?e:JSON.parse(JSON.stringify(e))}}}h.Parser=p,h.CsvError=y,t.exports=h;let g=function(t){return t.replace(/([A-Z])/g,function(t,e){return"_"+e.toLowerCase()})},m=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},_=function(t){return t.every(t=>null==t||t.toString&&""===t.toString().trim())},b=function(t){let e=[];for(let r=0,n=t.length;r<n;r++){let n=t[r];if(null==n||!1===n)e[r]={disabled:!0};else if("string"==typeof n)e[r]={name:n};else if(m(n)){if("string"!=typeof n.name)throw new y("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);e[r]=n}else throw new y("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${r}`])}return e}},6241:(t,e,r)=>{var n=r(8764).Buffer;let o=r(1786);t.exports=function(t,e={}){"string"==typeof t&&(t=n.from(t));let r=e&&e.objname?{}:[],a=new o.Parser(e);a.push=function(t){null!==t&&(void 0===e.objname?r.push(t):r[t[0]]=t[1])};let s=a.__parse(t,!1);if(void 0!==s)throw s;let u=a.__parse(void 0,!0);if(void 0!==u)throw u;return r}},1884:(t,e,r)=>{var n=r(8764).Buffer;let{Transform:o}=r(2830),a=n.from([239,187,191]);class s extends o{constructor(t={}){let e;super({writableObjectMode:!0,...t});let r={};for(let e in t)r[f(e)]=t[e];if(e=this.normalize(r))throw e;switch(r.record_delimiter){case"auto":r.record_delimiter=null;break;case"unix":r.record_delimiter="\n";break;case"mac":r.record_delimiter="\r";break;case"windows":r.record_delimiter="\r\n";break;case"ascii":r.record_delimiter="\x1e";break;case"unicode":r.record_delimiter="\u2028"}this.options=r,this.state={stop:!1},this.info={records:0}}normalize(t){if(void 0===t.bom||null===t.bom||!1===t.bom)t.bom=!1;else if(!0!==t.bom)return new l("CSV_OPTION_BOOLEAN_INVALID_TYPE",["option `bom` is optional and must be a boolean value,",`got ${JSON.stringify(t.bom)}`]);if(void 0===t.delimiter||null===t.delimiter)t.delimiter=",";else if(n.isBuffer(t.delimiter))t.delimiter=t.delimiter.toString();else if("string"!=typeof t.delimiter)return new l("CSV_OPTION_DELIMITER_INVALID_TYPE",["option `delimiter` must be a buffer or a string,",`got ${JSON.stringify(t.delimiter)}`]);if(void 0===t.quote||null===t.quote)t.quote='"';else if(!0===t.quote)t.quote='"';else if(!1===t.quote)t.quote="";else if(n.isBuffer(t.quote))t.quote=t.quote.toString();else if("string"!=typeof t.quote)return new l("CSV_OPTION_QUOTE_INVALID_TYPE",["option `quote` must be a boolean, a buffer or a string,",`got ${JSON.stringify(t.quote)}`]);if((void 0===t.quoted||null===t.quoted)&&(t.quoted=!1),(void 0===t.quoted_empty||null===t.quoted_empty)&&(t.quoted_empty=void 0),void 0===t.quoted_match||null===t.quoted_match||!1===t.quoted_match?t.quoted_match=null:Array.isArray(t.quoted_match)||(t.quoted_match=[t.quoted_match]),t.quoted_match)for(let e of t.quoted_match){let t="string"==typeof e,r=e instanceof RegExp;if(!t&&!r)return Error(`Invalid Option: quoted_match must be a string or a regex, got ${JSON.stringify(e)}`)}if((void 0===t.quoted_string||null===t.quoted_string)&&(t.quoted_string=!1),(void 0===t.eof||null===t.eof)&&(t.eof=!0),void 0===t.escape||null===t.escape)t.escape='"';else if(n.isBuffer(t.escape))t.escape=t.escape.toString();else if("string"!=typeof t.escape)return Error(`Invalid Option: escape must be a buffer or a string, got ${JSON.stringify(t.escape)}`);if(t.escape.length>1)return Error(`Invalid Option: escape must be one character, got ${t.escape.length} characters`);if((void 0===t.header||null===t.header)&&(t.header=!1),t.columns=this.normalize_columns(t.columns),(void 0===t.quoted||null===t.quoted)&&(t.quoted=!1),(void 0===t.cast||null===t.cast)&&(t.cast={}),(void 0===t.cast.bigint||null===t.cast.bigint)&&(t.cast.bigint=t=>""+t),(void 0===t.cast.boolean||null===t.cast.boolean)&&(t.cast.boolean=t=>t?"1":""),(void 0===t.cast.date||null===t.cast.date)&&(t.cast.date=t=>""+t.getTime()),(void 0===t.cast.number||null===t.cast.number)&&(t.cast.number=t=>""+t),(void 0===t.cast.object||null===t.cast.object)&&(t.cast.object=t=>JSON.stringify(t)),(void 0===t.cast.string||null===t.cast.string)&&(t.cast.string=function(t){return t}),void 0===t.record_delimiter||null===t.record_delimiter)t.record_delimiter="\n";else if(n.isBuffer(t.record_delimiter))t.record_delimiter=t.record_delimiter.toString();else if("string"!=typeof t.record_delimiter)return Error(`Invalid Option: record_delimiter must be a buffer or a string, got ${JSON.stringify(t.record_delimiter)}`)}_transform(t,e,r){let n;if(!0!==this.state.stop){if(!Array.isArray(t)&&"object"!=typeof t)return this.state.stop=!0,r(Error(`Invalid Record: expect an array or an object, got ${JSON.stringify(t)}`));if(0===this.info.records){if(Array.isArray(t)){if(!0===this.options.header&&!this.options.columns)return this.state.stop=!0,r(Error("Undiscoverable Columns: header option requires column option or object records"))}else(void 0===this.options.columns||null===this.options.columns)&&(this.options.columns=this.normalize_columns(Object.keys(t)))}0===this.info.records&&(this.bom(),this.headers());try{this.emit("record",t,this.info.records)}catch(t){return this.state.stop=!0,this.emit("error",t)}if(this.options.eof){if(void 0===(n=this.stringify(t)))return;n+=this.options.record_delimiter}else{if(void 0===(n=this.stringify(t)))return;(this.options.header||this.info.records)&&(n=this.options.record_delimiter+n)}this.info.records++,this.push(n),r()}}_flush(t){0===this.info.records&&(this.bom(),this.headers()),t()}stringify(t,e=!1){if("object"!=typeof t)return t;let{columns:r,header:n}=this.options,o=[];if(Array.isArray(t)){r&&t.splice(r.length);for(let r=0;r<t.length;r++){let n=t[r],[a,s]=this.__cast(n,{index:r,column:r,records:this.info.records,header:e});if(a){this.emit("error",a);return}o[r]=[s,n]}}else if(r)for(let n=0;n<r.length;n++){let a=S(t,r[n].key),[s,u]=this.__cast(a,{index:n,column:r[n].key,records:this.info.records,header:e});if(s){this.emit("error",s);return}o[n]=[u,a]}else for(let n of t){let a=t[n],[s,u]=this.__cast(a,{index:i,column:r[i].key,records:this.info.records,header:e});if(s){this.emit("error",s);return}o.push([u,a])}let a="";for(let t=0;t<o.length;t++){let e,r;let[n,s]=o[t];if("string"==typeof n)e=this.options;else if(c(n)){if(n=(e=n).value,delete e.value,"string"!=typeof n&&null!=n){this.emit("error",Error(`Invalid Casting Value: returned value must return a string, null or undefined, got ${JSON.stringify(n)}`));return}if(e={...this.options,...e},r=this.normalize(e)){this.emit("error",r);return}}else if(null==n)e=this.options;else{this.emit("error",Error(`Invalid Casting Value: returned value must return a string, an object, null or undefined, got ${JSON.stringify(n)}`));return}let{delimiter:u,escape:l,quote:f,quoted:d,quoted_empty:p,quoted_string:h,quoted_match:y,record_delimiter:g}=e;if(n){if("string"!=typeof n)return this.emit("error",Error(`Formatter must return a string, null or undefined, got ${JSON.stringify(n)}`)),null;let t=u.length&&n.indexOf(u)>=0,e=""!==f&&n.indexOf(f)>=0,r=n.indexOf(l)>=0&&l!==f,o=n.indexOf(g)>=0,c=h&&"string"==typeof s,p=y&&y.filter(t=>"string"==typeof t?-1!==n.indexOf(t):t.test(n));p=p&&p.length>0;let m=!0===e||t||o||d||c||p;if(!0===m&&!0===r){let t="\\"===l?RegExp(l+l,"g"):RegExp(l,"g");n=n.replace(t,l+l)}if(!0===e){let t=RegExp(f,"g");n=n.replace(t,l+f)}!0===m&&(n=f+n+f),a+=n}else(!0===p||""===s&&!0===h&&!1!==p)&&(a+=f+f);t!==o.length-1&&(a+=u)}return a}bom(){!0===this.options.bom&&this.push(a)}headers(){if(!1===this.options.header||void 0===this.options.columns)return;let t=this.options.columns.map(t=>t.header);t=this.options.eof?this.stringify(t,!0)+this.options.record_delimiter:this.stringify(t),this.push(t)}__cast(t,e){let r=typeof t;try{if("string"===r)return[void 0,this.options.cast.string(t,e)];if("bigint"===r)return[void 0,this.options.cast.bigint(t,e)];if("number"===r)return[void 0,this.options.cast.number(t,e)];if("boolean"===r)return[void 0,this.options.cast.boolean(t,e)];else if(t instanceof Date)return[void 0,this.options.cast.date(t,e)];else if("object"===r&&null!==t)return[void 0,this.options.cast.object(t,e)];else return[void 0,t,t]}catch(t){return[t]}}normalize_columns(t){if(null!=t){if("object"!=typeof t)throw Error('Invalid option "columns": expect an array or an object');if(Array.isArray(t)){let e=[];for(let r of t)if("string"==typeof r)e.push({key:r,header:r});else if("object"!=typeof r||void 0===r||Array.isArray(r))throw Error("Invalid column definition: expect a string or an object");else{if(!r.key)throw Error('Invalid column definition: property "key" is required');void 0===r.header&&(r.header=r.key),e.push(r)}t=e}else{let e=[];for(let r in t)e.push({key:r,header:t[r]});t=e}return t}}}let u=function(){let t,e,r;for(let n in arguments){let o=arguments[n],a=typeof o;if(void 0===t&&Array.isArray(o))t=o;else if(void 0===e&&c(o))e=o;else if(void 0===r&&"function"===a)r=o;else throw new l("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(o)} at index ${n}`])}let n=new s(e);if(r){let t=[];n.on("readable",function(){let e;for(;null!==(e=this.read());)t.push(e)}),n.on("error",function(t){r(t)}),n.on("end",function(){r(void 0,t.join(""))})}if(void 0!==t){if("function"==typeof setImmediate)setImmediate(function(){for(let e of t)n.write(e);n.end()});else{for(let e of t)n.write(e);n.end()}}return n};class l extends Error{constructor(t,e,...r){for(let o of(Array.isArray(e)&&(e=e.join(" ")),super(e),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,l),this.code=t,r))for(let t in o){let e=o[t];this[t]=n.isBuffer(e)?e.toString():null==e?e:JSON.parse(JSON.stringify(e))}}}u.Stringifier=s,u.CsvError=l,t.exports=u;let c=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},f=function(t){return t.replace(/([A-Z])/g,function(t,e){return"_"+e.toLowerCase()})},d=46,p=/\\(\\)?/g,h=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/,m=function(t){return Object.prototype.toString.call(t)},_=function(t,e){if(Array.isArray(t))return!1;let r=typeof t;return!!("number"===r||"symbol"===r||"boolean"===r||!t||b(t))||g.test(t)||!y.test(t)||null!=e&&t in Object(e)},b=function(t){let e=typeof t;return"symbol"===e||"object"===e&&t&&"[object Symbol]"===m(t)},w=function(t){let e=[];return t.charCodeAt(0)===d&&e.push(""),t.replace(h,function(t,r,n,o){let a=t;n?a=o.replace(p,"$1"):r&&(a=r.trim()),e.push(a)}),e},E=function(t,e){return Array.isArray(t)?t:_(t,e)?[t]:w(t)},v=function(t){if("string"==typeof t||b(t))return t;let e=`${t}`;return"0"==e&&1/t==-INFINITY?"-0":e},S=function(t,e){e=E(e,t);let r=0,n=e.length;for(;null!=t&&r<n;)t=t[v(e[r++])];return r&&r===n?t:void 0}},7565:(t,e,r)=>{var n=r(8764).Buffer;let o=r(1884),{StringDecoder:a}=r(2553);t.exports=function(t,e={}){let r=[];function s(t){t&&r.push(t.toString())}n.isBuffer(t)&&(t=new a().write(t));let u=new o.Stringifier(e);for(let e of(u.on("data",s),t))u.write(e);return u.end(),u.off("data",s),r.join("")}},251:(t,e,r)=>{"use strict";var n=r(3533),o=r(1924),a=r(2847),s=r(210),u=r(3216),l=r(7478),c=r(609),f=r(2584),d=r(5826),p=r(635),h=r(8923),y=r(8420),g=r(2579),m=r(2215),_=r(3679),b=r(1421),w=r(6430),E=r(6894),v=o("SharedArrayBuffer.prototype.byteLength",!0),S=o("Date.prototype.getTime"),T=Object.getPrototypeOf,O=o("Object.prototype.toString"),A=s("%Set%",!0),I=o("Map.prototype.has",!0),N=o("Map.prototype.get",!0),D=o("Map.prototype.size",!0),R=o("Set.prototype.add",!0),C=o("Set.prototype.delete",!0),M=o("Set.prototype.has",!0),x=o("Set.prototype.size",!0);function k(t,e,r,n){for(var o,a=u(t);(o=a.next())&&!o.done;)if(U(e,o.value,r,n))return C(t,o.value),!0;return!1}function L(t){return void 0===t?null:"object"==typeof t?void 0:"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t)}function F(t,e,r,o,a,s){var u=L(r);if(null!=u)return u;var l=N(e,u),c=n({},a,{strict:!1});return!!((void 0!==l||I(e,u))&&U(o,l,c,s))&&!I(t,u)&&U(o,l,c,s)}function P(t,e,r){var n=L(r);return null!=n?n:M(e,n)&&!M(t,n)}function B(t,e,r,n,o,a){for(var s,l,c=u(t);(s=c.next())&&!s.done;)if(U(r,l=s.value,o,a)&&U(n,N(e,l),o,a))return C(t,l),!0;return!1}function U(t,e,r,n){var o,a=r||{};if(a.strict?c(t,e):t===e)return!0;if(_(t)!==_(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return a.strict?c(t,e):t==e;var s=n.has(t),u=n.has(e);if(s&&u){if(n.get(t)===n.get(e))return!0}else o={};return s||n.set(t,o),u||n.set(e,o),z(t,e,a,n)}function j(t){return!!t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0)||"number"==typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function W(t,e,r,n){if(x(t)!==x(e))return!1;for(var o,a,s,l=u(t),c=u(e);(o=l.next())&&!o.done;)if(o.value&&"object"==typeof o.value)s||(s=new A),R(s,o.value);else if(!M(e,o.value)){if(r.strict||!P(t,e,o.value))return!1;s||(s=new A),R(s,o.value)}if(s){for(;(a=c.next())&&!a.done;)if(a.value&&"object"==typeof a.value){if(!k(s,a.value,r.strict,n))return!1}else if(!r.strict&&!M(t,a.value)&&!k(s,a.value,r.strict,n))return!1;return 0===x(s)}return!0}function H(t,e,r,o){if(D(t)!==D(e))return!1;for(var a,s,l,c,f,d,p=u(t),h=u(e);(a=p.next())&&!a.done;)if(c=a.value[0],f=a.value[1],c&&"object"==typeof c)l||(l=new A),R(l,c);else if(void 0===(d=N(e,c))&&!I(e,c)||!U(f,d,r,o)){if(r.strict||!F(t,e,c,f,r,o))return!1;l||(l=new A),R(l,c)}if(l){for(;(s=h.next())&&!s.done;)if(c=s.value[0],d=s.value[1],c&&"object"==typeof c){if(!B(l,t,c,d,r,o))return!1}else if(!r.strict&&(!t.has(c)||!U(N(t,c),d,r,o))&&!B(l,t,c,d,n({},r,{strict:!1}),o))return!1;return 0===x(l)}return!0}function z(t,e,r,n){if(typeof t!=typeof e||null==t||null==e||O(t)!==O(e)||f(t)!==f(e)||d(t)!==d(e))return!1;var o,s,u=t instanceof Error,l=e instanceof Error;if(u!==l||(u||l)&&(t.name!==e.name||t.message!==e.message))return!1;var c=y(t),_=y(e);if(c!==_||(c||_)&&(t.source!==e.source||a(t)!==a(e)))return!1;var A=h(t),I=h(e);if(A!==I||(A||I)&&S(t)!==S(e)||r.strict&&T&&T(t)!==T(e))return!1;var N=w(t),D=w(e);if(N!==D)return!1;if(N||D){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var R=j(t),C=j(e);if(R!==C)return!1;if(R||C){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var M=p(t),x=p(e);if(M!==x)return!1;if(M||x)return E(t)===E(e)&&"function"==typeof Uint8Array&&U(new Uint8Array(t),new Uint8Array(e),r,n);var k=g(t),L=g(e);if(k!==L)return!1;if(k||L)return v(t)===v(e)&&"function"==typeof Uint8Array&&U(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var F=m(t),P=m(e);if(F.length!==P.length)return!1;for(F.sort(),P.sort(),o=F.length-1;o>=0;o--)if(F[o]!=P[o])return!1;for(o=F.length-1;o>=0;o--)if(!U(t[s=F[o]],e[s],r,n))return!1;var B=b(t),z=b(e);return B===z&&("Set"===B||"Set"===z?W(t,e,r,n):"Map"!==B||H(t,e,r,n))}t.exports=function(t,e,r){return U(t,e,r,l())}},2296:(t,e,r)=>{"use strict";var n=r(4429),o=r(3464),a=r(4453),s=r(7296);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],d=!!s&&s(t,e);if(n)n(t,e,{configurable:null===c&&d?d.configurable:!c,enumerable:null===u&&d?d.enumerable:!u,value:r,writable:null===l&&d?d.writable:!l});else if(!f&&(u||l||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else t[e]=r}},4289:(t,e,r)=>{"use strict";var n=r(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,s=Array.prototype.concat,u=r(2296),l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)},c=r(1044)(),f=function(t,e,r,n){if(e in t){if(!0===n){if(t[e]===r)return}else if(!l(n)||!n())return}c?u(t,e,r,!0):u(t,e,r)},d=function(t,e){var r=arguments.length>2?arguments[2]:{},a=n(e);o&&(a=s.call(a,Object.getOwnPropertySymbols(e)));for(var u=0;u<a.length;u+=1)f(t,a[u],e[a[u]],r[a[u]])};d.supportsDescriptors=!!c,t.exports=d},4429:(t,e,r)=>{"use strict";var n=r(210)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(t){n=!1}t.exports=n},3981:t=>{"use strict";t.exports=EvalError},1648:t=>{"use strict";t.exports=Error},4726:t=>{"use strict";t.exports=RangeError},6712:t=>{"use strict";t.exports=ReferenceError},3464:t=>{"use strict";t.exports=SyntaxError},4453:t=>{"use strict";t.exports=TypeError},3915:t=>{"use strict";t.exports=URIError},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};function o(t){console&&console.warn&&console.warn(t)}e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){if(l(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),u=s[e]),void 0===u)u=s[e]=r,++t._eventsCount;else if("function"==typeof u?u=s[e]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),(a=c(t))>0&&u.length>a&&!u.warned){u.warned=!0;var a,s,u,f=Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=u.length,o(f)}return t}function d(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=d.bind(n);return o.listener=r,n.wrapFn=o,o}function h(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?_(o):g(o,o.length)}function y(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(t,e){for(var r=Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function _(t){for(var e=Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function b(t,e){return new Promise(function(r,n){function o(r){t.removeListener(e,a),n(r)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}E(t,e,a,{once:!0}),"error"!==e&&w(t,o,{once:!0})})}function w(t,e,r){"function"==typeof t.on&&E(t,"error",e,r)}function E(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else if("function"==typeof t.addEventListener)t.addEventListener(e,function o(a){n.once&&t.removeEventListener(e,o),r(a)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var o="error"===t,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var s,u=Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var l=a[t];if(void 0===l)return!1;if("function"==typeof l)n(l,this,e);else for(var c=l.length,f=g(l,c),r=0;r<c;++r)n(f[r],this,e);return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,o,a,s;if(l(e),void 0===(n=this._events)||void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){s=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():m(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0==arguments.length){var o,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(o=a[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},4029:(t,e,r)=>{"use strict";var n=r(5320),o=Object.prototype.toString,a=Object.prototype.hasOwnProperty,s=function(t,e,r){for(var n=0,o=t.length;n<o;n++)a.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},u=function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},l=function(t,e,r){for(var n in t)a.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},c=function(t,e,r){var a;if(!n(e))throw TypeError("iterator must be a function");arguments.length>=3&&(a=r),"[object Array]"===o.call(t)?s(t,e,a):"string"==typeof t?u(t,e,a):l(t,e,a)};t.exports=c},4290:(t,e,r)=>{"use strict";var n,o=r(4155);n={value:!0},n=f,e.Z4=c;var a="win32"===o.platform;function s(t){var e=t.length-1;if(e<2)return t;for(;u(t,e);)e--;return t.substr(0,e+1)}function u(t,e){var r=t[e];return e>0&&("/"===r||a&&"\\"===r)}function l(t,e){if("string"!=typeof t)throw TypeError("expected a string");return t=t.replace(/[\\\/]+/g,"/"),!1!==e&&(t=s(t)),t}function c(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a?(t=l(t,e)).replace(/^([a-zA-Z]+:|\.\/)/,""):t}function f(t){return c(t.replace(/^\\\\\?\\.:\\/,"\\"))}},5659:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fsSyncMethods=e.fsProps=e.fsAsyncMethods=void 0;var r=["constants","F_OK","R_OK","W_OK","X_OK","Stats"];e.fsProps=r;var n=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","rmSync","createReadStream","createWriteStream"];e.fsSyncMethods=n;var o=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","rm","watchFile","unwatchFile","watch"];e.fsAsyncMethods=o},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,o="[object Function]",a=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r},s=function(t,e){for(var r=[],n=e||0,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r},u=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};t.exports=function(t){var l,c=this;if("function"!=typeof c||r.apply(c)!==o)throw TypeError(e+c);for(var f=s(arguments,1),d=function(){if(this instanceof l){var e=c.apply(this,a(f,arguments));return Object(e)===e?e:this}return c.apply(t,a(f,arguments))},p=n(0,c.length-f.length),h=[],y=0;y<p;y++)h[y]="$"+y;if(l=Function("binder","return function ("+u(h,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var g=function(){};g.prototype=c.prototype,l.prototype=new g,g.prototype=null}return l}},8612:(t,e,r)=>{"use strict";var n=r(7648);t.exports=Function.prototype.bind||n},5972:t=>{"use strict";var e=function(){return"string"==typeof(function(){}).name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r(function(){},"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==(function(){}).bind().name},t.exports=e},210:(t,e,r)=>{"use strict";var n,o=r(1648),a=r(3981),s=r(4726),u=r(6712),l=r(3464),c=r(4453),f=r(3915),d=Function,p=function(t){try{return d('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}var y=function(){throw new c},g=h?function(){try{return arguments.callee,y}catch(t){try{return h(arguments,"callee").get}catch(t){return y}}}():y,m=r(1405)(),_=r(8185)(),b=Object.getPrototypeOf||(_?function(t){return t.__proto__}:null),w={},E="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,v={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&b?b(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&b?b(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&b?b(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":E,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(t){var S=b(b(t));v["%Error.prototype%"]=S}var T=function t(e){var r;if("%AsyncFunction%"===e)r=p("async function () {}");else if("%GeneratorFunction%"===e)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=p("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&b&&(r=b(o.prototype))}return v[e]=r,r},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=r(8612),I=r(8824),N=A.call(Function.call,Array.prototype.concat),D=A.call(Function.apply,Array.prototype.splice),R=A.call(Function.call,String.prototype.replace),C=A.call(Function.call,String.prototype.slice),M=A.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,L=function(t){var e=C(t,0,1),r=C(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return R(t,x,function(t,e,r,o){n[n.length]=r?R(o,k,"$1"):e||t}),n},F=function(t,e){var r,n=t;if(I(O,n)&&(n="%"+(r=O[n])[0]+"%"),I(v,n)){var o=v[n];if(o===w&&(o=T(n)),void 0===o&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=L(t),n=r.length>0?r[0]:"",o=F("%"+n+"%",e),a=o.name,s=o.value,u=!1,f=o.alias;f&&(n=f[0],D(r,N([0,1],f)));for(var d=1,p=!0;d<r.length;d+=1){var y=r[d],g=C(y,0,1),m=C(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==y&&p||(u=!0),n+="."+y,I(v,a="%"+n+"%"))s=v[a];else if(null!=s){if(!(y in s)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(h&&d+1>=r.length){var _=h(s,y);s=(p=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:s[y]}else p=I(s,y),s=s[y];p&&!u&&(v[a]=s)}}return s}},3019:function(__unused_webpack_module,exports,__webpack_require__){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,r){t instanceof String&&(t=String(t));for(var n=t.length,o=0;o<n;o++){var a=t[o];if(e.call(r,a,o,t))return{i:o,v:a}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==__webpack_require__.g&&null!=__webpack_require__.g?__webpack_require__.g:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,r,n){if(e){for(n=0,r=$jscomp.global,t=t.split(".");n<t.length-1;n++){var o=t[n];o in r||(r[o]={}),r=r[o]}(e=e(n=r[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).i}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,r){if(null==t)throw TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(t,e){var r=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=r.length),e=Math.max(0,Math.min(0|e,r.length));for(var n=t.length;0<n&&0<e;)if(r[--e]!=t[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(t,e){var r=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var n=r.length,o=t.length;e=Math.max(0,Math.min(0|e,r.length));for(var a=0;a<o&&e<n;)if(r[e++]!=t[a++])return!1;return a>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw RangeError("Invalid count value");t|=0;for(var r="";t;)1&t&&(r+=e),(t>>>=1)&&(e+=e);return r}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(t,e,r){t=t.split("."),r=r||goog.global,t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e},goog.define=function(t,e){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,t)?e=r[t]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,t)&&(e=n[t])}return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var r=t;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if("string"!=typeof t||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t].exports;if(!goog.implicitNamespaces_[t])return null!=(t=goog.getObjectByName(t))?t:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&"function"==typeof t.getCurrentModulePath&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(t in goog.loadedModules_)throw Error('Module with namespace "'+t+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||"function"!=typeof e.getCurrentModulePath)throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw Error("Importing test-only code into non-debug environment"+((t=t||"")?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&null!=goog.getObjectByName(t)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var r=0;r<t.length;r++)if(null==(e=e[t[r]]))return null;return e},goog.globalize=function(t,e){for(var r in e=e||goog.global,t)e[r]=t[r]},goog.addDependency=function(t,e,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(t,e,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var e=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(t)}finally{goog.moduleLoaderState_=e}}return null}},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var r=t.call(void 0,{});else if("string"==typeof t)goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),r=goog.loadModuleFromSource_.call(void 0,t);else throw Error("Invalid module definition");var n=goog.moduleLoaderState_.moduleName;if("string"==typeof n&&n)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+n+'"')}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(t){return null}},goog.transpile_=function(t,e,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var o=n.transpile;if(!o){var a=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(a);if(s){if((function(){(0,eval)(s+"\n//# sourceURL="+a)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(n=goog.global.$jscomp).transpile}}return o||(o=n.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),o(t,e,r)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if("function"==typeof t.clone)return t.clone();for(var r in e="array"==e?[]:{},t)e[r]=goog.cloneObject(t[r]);return e}return t},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(t){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.head.appendChild(r),e.head.removeChild(r)}}else throw Error("goog.globalEval not available")},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var r=function(t){return goog.cssNameMapping_[t]||t},n=function(t){t=t.split("-");for(var e=[],n=0;n<t.length;n++)e.push(r(t[n]));return e.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(t){return t},t=e?t+"-"+n(e):n(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e,r){return r&&r.html&&(t=t.replace(/</g,"&lt;")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(t,o)}},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var r=e.constructor,n=e.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,t),t&&goog.inherits(r,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(r.prototype,e),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var r=!goog.defineClass.isUnsealable_(e),n=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(e),e};return n},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.isDocumentLoading_=function(){var t=goog.global.document;return t.attachEvent?"complete"!=t.readyState:"loading"==t.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"==typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var t=goog.global.document,e=t.currentScript;for(e=(t=e?[e]:t.getElementsByTagName("SCRIPT")).length-1;0<=e;--e){var r=t[e].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(t,e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(t in this.requiresTranspilation_)return!!this.requiresTranspilation_[t]||!(!goog.inHtmlDocument_()||"es6"!=e||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+t)},goog.Transpiler.prototype.transpile=function(t,e){return goog.transpile_(t,e,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(t,e){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=e;if(t.length){e=[];for(var o=0;o<t.length;o++){var a=this.getPathFromDeps_(t[o]);if(!a)throw Error("Unregonized namespace: "+t[o]);e.push(this.dependencies_[a])}a=goog.require;var s=0;for(o=0;o<t.length;o++)a(t[o]),e[o].onLoad(function(){++s==t.length&&r()})}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(t,e){(t=this.getPathFromDeps_(t))&&(e||this.areDepsLoaded_(this.dependencies_[t].requires))&&(e=this.deferredCallbacks_[t])&&(delete this.deferredCallbacks_[t],e())},goog.DebugLoader_.prototype.setDependencyFactory=function(t){this.factory_=t},goog.DebugLoader_.prototype.load_=function(t){if(this.getPathFromDeps_(t)){var e=this,r=[],n=function(t){var o=e.getPathFromDeps_(t);if(!o)throw Error("Bad dependency path or symbol: "+t);if(!e.written_[o]){for(e.written_[o]=!0,t=e.dependencies_[o],o=0;o<t.requires.length;o++)goog.isProvided_(t.requires[o])||n(t.requires[o]);r.push(t)}};n(t),t=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||t||this.loadDeps_()}else throw t="goog.require could not find: "+t,goog.logToConsole_(t),Error(t)},goog.DebugLoader_.prototype.loadDeps_=function(){for(var t=this,e=this.paused_;this.depsToLoad_.length&&!e;)(function(){var r=!1,n=t.depsToLoad_.shift(),o=!1;t.loading_(n);var a={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");e=!0},resume:function(){r?t.resume_():e=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,t.loaded_(n)},pending:function(){for(var e=[],r=0;r<t.loadingDeps_.length;r++)e.push(t.loadingDeps_[r]);return e},setModuleState:function(t){goog.moduleLoaderState_={type:t,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(t,e,r){r&&(goog.loadedModules_[r]={exports:e,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(t,e){goog.loadedModules_[t]={exports:e,type:goog.ModuleType.GOOG,moduleId:t}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(e){if(r)throw Error("Cannot register with defer after the call to load.");t.defer_(n,e)},areDepsLoaded:function(){return t.areDepsLoaded_(n.requires)}};try{n.load(a)}finally{r=!0}})();e&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(t){this.loadingDeps_.push(t)},goog.DebugLoader_.prototype.loaded_=function(t){for(var e=0;e<this.loadingDeps_.length;e++)if(this.loadingDeps_[e]==t){this.loadingDeps_.splice(e,1);break}for(e=0;e<this.deferredQueue_.length;e++)if(this.deferredQueue_[e]==t.path){this.deferredQueue_.splice(e,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);t.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(t){for(var e=0;e<t.length;e++){var r=this.getPathFromDeps_(t[e]);if(!r||!(r in this.deferredCallbacks_||goog.isProvided_(t[e])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(t){return t in this.idToPath_?this.idToPath_[t]:t in this.dependencies_?t:null},goog.DebugLoader_.prototype.defer_=function(t,e){this.deferredCallbacks_[t.path]=e,this.deferredQueue_.push(t.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(t,e,r){},goog.LoadController.prototype.setModuleState=function(t){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(t){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(t,e,r,n,o){this.path=t,this.relativePath=e,this.provides=r,this.requires=n,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var t=this.path,e=t.indexOf("://");return 0<=e&&0<=(e=(t=t.substring(e+3)).indexOf("/"))&&(t=t.substring(e+1)),t},goog.Dependency.prototype.onLoad=function(t){this.loaded_?t():this.loadCallbacks_.push(t)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var t=this.loadCallbacks_;this.loadCallbacks_=[];for(var e=0;e<t.length;e++)t[e]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(t){var e=Math.random().toString(32);return goog.Dependency.callbackMap_[e]=t,e},goog.Dependency.unregisterCallback_=function(t){delete goog.Dependency.callbackMap_[t]},goog.Dependency.callback_=function(t,e){if(t in goog.Dependency.callbackMap_){for(var r=goog.Dependency.callbackMap_[t],n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);r.apply(void 0,n)}else throw Error("Callback key "+t+" does not exist (was base.js loaded more than once?).")},goog.Dependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document;if("complete"==e.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){t.loaded();return}throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_(function(e){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=e.readyState||(goog.Dependency.unregisterCallback_(r),t.loaded())}),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"></script>",e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var o=e.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(n=goog.getScriptNonce())&&o.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(t.pause(),o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(t.loaded(),t.resume())}):o.onload=function(){o.onload=null,t.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,e.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),t.loaded()):t.pause()},goog.Es6ModuleDependency=function(t,e,r,n,o){goog.Dependency.call(this,t,e,r,n,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(t){function e(t,e){t=e?'<script type="module" crossorigin>'+e+"</script>":'<script type="module" crossorigin src="'+t+'"></script>',n.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(t):t)}function r(t,e){var r=n.createElement("script");r.defer=!0,r.async=!1,r.type="module",r.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&r.setAttribute("nonce",o),e?r.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(e):e:r.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(t):t,n.head.appendChild(r)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,o=this;if(goog.isDocumentLoading_()){var a=e;goog.Dependency.defer_=!0}else a=r;var s=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(s),t.setModuleState(goog.ModuleType.ES6)});a(void 0,'goog.Dependency.callback_("'+s+'")'),a(this.path,void 0);var u=goog.Dependency.registerCallback_(function(e){goog.Dependency.unregisterCallback_(u),t.registerEs6ModuleExports(o.path,e,goog.moduleLoaderState_.moduleName)});a(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+u+'", m)');var l=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(l),t.clearModuleState(),t.loaded()});a(void 0,'goog.Dependency.callback_("'+l+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),t.pause()},goog.TransformedDependency=function(t,e,r,n,o){goog.Dependency.call(this,t,e,r,n,o),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(t){function e(){o.contents_=goog.loadFileSync_(o.path),o.contents_&&(o.contents_=o.transform(o.contents_),o.contents_&&(o.contents_+="\n//# sourceURL="+o.path))}function r(){if(o.lazyFetch_&&e(),o.contents_){a&&t.setModuleState(goog.ModuleType.ES6);try{var r=o.contents_;if(o.contents_=null,goog.globalEval(r),a)var n=goog.moduleLoaderState_.moduleName}finally{a&&t.clearModuleState()}a&&goog.global.$jscomp.require.ensure([o.getPathName()],function(){t.registerEs6ModuleExports(o.path,goog.global.$jscomp.require(o.getPathName()),n)}),t.loaded()}}function n(){var t=goog.global.document,e=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(e),r()}),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+e+'");')+"</script>";t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}var o=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)e(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,t.loaded()):t.pause();else{var a=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||e();var s=1<t.pending().length,u=s&&goog.DebugLoader_.IS_OLD_IE_;if(s=goog.Dependency.defer_&&(s||goog.isDocumentLoading_()),u||s)t.defer(function(){r()});else{var l=goog.global.document;if(u=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,a&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!u){goog.Dependency.defer_=!0,t.pause();var c=l.onreadystatechange;l.onreadystatechange=function(){"interactive"==l.readyState&&(l.onreadystatechange=c,r(),t.resume()),goog.isFunction(c)&&c.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?n():r()}}},goog.TransformedDependency.prototype.transform=function(t){},goog.TranspiledDependency=function(t,e,r,n,o,a){goog.TransformedDependency.call(this,t,e,r,n,o),this.transpiler=a},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(t){return this.transpiler.transpile(t,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(t,e,r,n,o){goog.TransformedDependency.call(this,t,e,r,n,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(t){return t},goog.GoogModuleDependency=function(t,e,r,n,o,a,s){goog.TransformedDependency.call(this,t,e,r,n,o),this.needsTranspile_=a,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(t){return this.needsTranspile_&&(t=this.transpiler_.transpile(t,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(t,e,r,n){e=e||[],t=t.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+t);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(o,t,e,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[o]=r,r=0;r<e.length;r++)this.idToPath_[e[r]]=o;this.idToPath_[t]=o},goog.DependencyFactory=function(t){this.transpiler=t},goog.DependencyFactory.prototype.createDependency=function(t,e,r,n,o,a){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(t,e,r,n,o,a,this.transpiler):a?new goog.TranspiledDependency(t,e,r,n,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(t,e,r,n,o):new goog.Es6ModuleDependency(t,e,r,n,o):new goog.Dependency(t,e,r,n,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(t){goog.debugLoader_.setDependencyFactory(t)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(t,e){goog.debugLoader_.bootstrap(t,e)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return e;try{e=r.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(t){goog.logToConsole_(t.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){for(var n in t)e.call(r,t[n],n,t)},goog.object.filter=function(t,e,r){var n,o={};for(n in t)e.call(r,t[n],n,t)&&(o[n]=t[n]);return o},goog.object.map=function(t,e,r){var n,o={};for(n in t)o[n]=e.call(r,t[n],n,t);return o},goog.object.some=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return!0;return!1},goog.object.every=function(t,e,r){for(var n in t)if(!e.call(r,t[n],n,t))return!1;return!0},goog.object.getCount=function(t){var e,r=0;for(e in t)r++;return r},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,r=[],n=0;for(e in t)r[n++]=t[e];return r},goog.object.getKeys=function(t){var e,r=[],n=0;for(e in t)r[n++]=e;return r},goog.object.getValueByKeys=function(t,e){var r=goog.isArrayLike(e),n=r?e:arguments;for(r=r?0:1;r<n.length;r++){if(null==t)return;t=t[n[r]]}return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog.object.findKey=function(t,e,r){for(var n in t)if(e.call(r,t[n],n,t))return n},goog.object.findValue=function(t,e,r){return(e=goog.object.findKey(t,e,r))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog.object.add=function(t,e,r){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,r)},goog.object.get=function(t,e,r){return null!==t&&e in t?t[e]:r},goog.object.set=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog.object.setWithReturnValueIfNotSet=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog.object.equals=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(var n in e)if(!(n in t))return!1;return!0},goog.object.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if(goog.isFunction(t.clone))return t.clone();for(var r in e="array"==e?[]:{},t)e[r]=goog.object.unsafeClone(t[r]);return e}return t},goog.object.transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])t[r]=n[r];for(var a=0;a<goog.object.PROTOTYPE_FIELDS_.length;a++)r=goog.object.PROTOTYPE_FIELDS_[a],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<e;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<e;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&Object.freeze(e=Object.create(t)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,r){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var n={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(t),a=0;a<o.length;a++)n[o[a]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var a=n}else t&&(o+=": "+t,a=e);throw Error(""+o,a||[])},jspb.asserts.assert=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return t||jspb.asserts.doAssertFailure("",null,e,n),t},jspb.asserts.assertString=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return"string"!=typeof t&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(t),t],e,n),t},jspb.asserts.assertArray=function(t,e,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return Array.isArray(t)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(t),t],e,n),t},jspb.asserts.fail=function(t,e){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(t?": "+t:""),r)},jspb.asserts.assertInstanceof=function(t,e,r,n){for(var o=[],a=3;a<arguments.length;++a)o[a-3]=arguments[a];return t instanceof e||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(e),jspb.asserts.getType(t)],r,o),t},jspb.asserts.getType=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(t){var e=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return r.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return r.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return r.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x7fffffffffffffff,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){t=t.split("%s");for(var r="",n=t.length-1,o=0;o<n;o++)r+=t[o]+(o<e.length?e[o]:"%s");return r+t[n]},goog.asserts.doAssertFailure_=function(t,e,r,n){var o="Assertion failed";if(r){o+=": "+r;var a=n}else t&&(o+=": "+t,a=e);t=new goog.asserts.AssertionError(""+o,a||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&null==t&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&"number"!=typeof t&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&"string"!=typeof t&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&"boolean"!=typeof t&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,r,n){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],r,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof t&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.indexOf.call(t,e,r)}:function(t,e,r){if(r=null==r?0:0>r?Math.max(0,t.length+r):r,"string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,r);for(;r<t.length;r++)if(r in t&&t[r]===e)return r;return -1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.lastIndexOf.call(t,e,null==r?t.length-1:r)}:function(t,e,r){if(0>(r=null==r?t.length-1:r)&&(r=Math.max(0,t.length+r)),"string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.lastIndexOf(e,r);for(;0<=r;r--)if(r in t&&t[r]===e)return r;return -1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,r){goog.asserts.assert(null!=t.length),Array.prototype.forEach.call(t,e,r)}:function(t,e,r){for(var n=t.length,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)a in o&&e.call(r,o[a],a,t)},goog.array.forEachRight=function(t,e,r){var n=t.length,o="string"==typeof t?t.split(""):t;for(--n;0<=n;--n)n in o&&e.call(r,o[n],n,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.filter.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=[],a=0,s="string"==typeof t?t.split(""):t,u=0;u<n;u++)if(u in s){var l=s[u];e.call(r,l,u,t)&&(o[a++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.map.call(t,e,r)}:function(t,e,r){for(var n=t.length,o=Array(n),a="string"==typeof t?t.split(""):t,s=0;s<n;s++)s in a&&(o[s]=e.call(r,a[s],s,t));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,r,n){return goog.asserts.assert(null!=t.length),n&&(e=goog.bind(e,n)),Array.prototype.reduce.call(t,e,r)}:function(t,e,r,n){var o=r;return goog.array.forEach(t,function(r,a){o=e.call(n,o,r,a,t)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,r,n){return goog.asserts.assert(null!=t.length),goog.asserts.assert(null!=e),n&&(e=goog.bind(e,n)),Array.prototype.reduceRight.call(t,e,r)}:function(t,e,r,n){var o=r;return goog.array.forEachRight(t,function(r,a){o=e.call(n,o,r,a,t)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.some.call(t,e,r)}:function(t,e,r){for(var n=t.length,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o&&e.call(r,o[a],a,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,r){return goog.asserts.assert(null!=t.length),Array.prototype.every.call(t,e,r)}:function(t,e,r){for(var n=t.length,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o&&!e.call(r,o[a],a,t))return!1;return!0},goog.array.count=function(t,e,r){var n=0;return goog.array.forEach(t,function(t,o,a){e.call(r,t,o,a)&&++n},r),n},goog.array.find=function(t,e,r){return 0>(e=goog.array.findIndex(t,e,r))?null:"string"==typeof t?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,r){for(var n=t.length,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o&&e.call(r,o[a],a,t))return a;return -1},goog.array.findRight=function(t,e,r){return 0>(e=goog.array.findIndexRight(t,e,r))?null:"string"==typeof t?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,r){var n=t.length,o="string"==typeof t?t.split(""):t;for(--n;0<=n;n--)if(n in o&&e.call(r,o[n],n,t))return n;return -1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return 0==t.length},goog.array.clear=function(t){if(!Array.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,r){goog.array.splice(t,r,0,e)},goog.array.insertArrayAt=function(t,e,r){goog.partial(goog.array.splice,t,r,0).apply(null,e)},goog.array.insertBefore=function(t,e,r){var n;2==arguments.length||0>(n=goog.array.indexOf(t,r))?t.push(e):goog.array.insertAt(t,e,n)},goog.array.remove=function(t,e){var r;return(r=0<=(e=goog.array.indexOf(t,e)))&&goog.array.removeAt(t,e),r},goog.array.removeLast=function(t,e){return 0<=(e=goog.array.lastIndexOf(t,e))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},goog.array.removeIf=function(t,e,r){return 0<=(e=goog.array.findIndex(t,e,r))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,r){var n=0;return goog.array.forEachRight(t,function(o,a){e.call(r,o,a,t)&&goog.array.removeAt(t,a)&&n++}),n},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var o=t.length||0,a=n.length||0;t.length=o+a;for(var s=0;s<a;s++)t[o+s]=n[s]}else t.push(n)}},goog.array.splice=function(t,e,r,n){return goog.asserts.assert(null!=t.length),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,r){return goog.asserts.assert(null!=t.length),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,r)},goog.array.removeDuplicates=function(t,e,r){e=e||t;var n=function(t){return goog.isObject(t)?"o"+goog.getUid(t):(typeof t).charAt(0)+t};r=r||n,n={};for(var o=0,a=0;a<t.length;){var s=t[a++],u=r(s);Object.prototype.hasOwnProperty.call(n,u)||(n[u]=!0,e[o++]=s)}e.length=o},goog.array.binarySearch=function(t,e,r){return goog.array.binarySearch_(t,r||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,r){return goog.array.binarySearch_(t,e,!0,void 0,r)},goog.array.binarySearch_=function(t,e,r,n,o){for(var a,s=0,u=t.length;s<u;){var l=s+(u-s>>>1),c=r?e.call(o,t[l],l,t):e(n,t[l]);0<c?s=l+1:(u=l,a=!c)}return a?s:-s-1},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var r=Array(t.length),n=0;n<t.length;n++)r[n]={index:n,value:t[n]};var o=e||goog.array.defaultCompare;for(goog.array.sort(r,function(t,e){return o(t.value,e.value)||t.index-e.index}),n=0;n<t.length;n++)t[n]=r[n].value},goog.array.sortByKey=function(t,e,r){var n=r||goog.array.defaultCompare;goog.array.sort(t,function(t,r){return n(e(t),e(r))})},goog.array.sortObjectsByKey=function(t,e,r){goog.array.sortByKey(t,function(t){return t[e]},r)},goog.array.isSorted=function(t,e,r){e=e||goog.array.defaultCompare;for(var n=1;n<t.length;n++){var o=e(t[n-1],t[n]);if(0<o||0==o&&r)return!1}return!0},goog.array.equals=function(t,e,r){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var n=t.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<n;o++)if(!r(t[o],e[o]))return!1;return!0},goog.array.compare3=function(t,e,r){r=r||goog.array.defaultCompare;for(var n=Math.min(t.length,e.length),o=0;o<n;o++){var a=r(t[o],e[o]);if(0!=a)return a}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,r){return 0>(r=goog.array.binarySearch(t,e,r))&&(goog.array.insertAt(t,e,-(r+1)),!0)},goog.array.binaryRemove=function(t,e,r){return 0<=(e=goog.array.binarySearch(t,e,r))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,r){for(var n={},o=0;o<t.length;o++){var a=t[o],s=e.call(r,a,o,t);void 0!==s&&(n[s]||(n[s]=[])).push(a)}return n},goog.array.toObject=function(t,e,r){var n={};return goog.array.forEach(t,function(o,a){n[e.call(r,o,a,t)]=o}),n},goog.array.range=function(t,e,r){var n=[],o=0,a=t;if(r=r||1,void 0!==e&&(o=t,a=e),0>r*(a-o))return[];if(0<r)for(t=o;t<a;t+=r)n.push(t);else for(t=o;t>a;t+=r)n.push(t);return n},goog.array.repeat=function(t,e){for(var r=[],n=0;n<e;n++)r[n]=t;return r},goog.array.flatten=function(t){for(var e=[],r=0;r<arguments.length;r++){var n=arguments[r];if(Array.isArray(n))for(var o=0;o<n.length;o+=8192){var a=goog.array.slice(n,o,o+8192);a=goog.array.flatten.apply(null,a);for(var s=0;s<a.length;s++)e.push(a[s])}else e.push(n)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(null!=t.length),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,r){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=r&&r<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,r,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a][n]);e.push(o)}return e},goog.array.shuffle=function(t,e){e=e||Math.random;for(var r=t.length-1;0<r;r--){var n=Math.floor(e()*(r+1)),o=t[r];t[r]=t[n],t[n]=o}},goog.array.copyByIndex=function(t,e){var r=[];return goog.array.forEach(e,function(e){r.push(t[e])}),r},goog.array.concatMap=function(t,e,r){return goog.array.concat.apply([],goog.array.map(t,e,r))},goog.crypt={},goog.crypt.stringToByteArray=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);255<o&&(e[r++]=255&o,o>>=8),e[r++]=o}return e},goog.crypt.byteArrayToString=function(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",r=0;r<t.length;r+=8192){var n=goog.array.slice(t,r,r+8192);e+=String.fromCharCode.apply(null,n)}return e},goog.crypt.byteArrayToHex=function(t,e){return goog.array.map(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join(e||"")},goog.crypt.hexToByteArray=function(t){goog.asserts.assert(0==t.length%2,"Key string length must be multiple of 2");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substring(r,r+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e[r++]=o:(2048>o?e[r++]=o>>6|192:(55296==(64512&o)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[r++]=o>>18|240,e[r++]=o>>12&63|128):e[r++]=o>>12|224,e[r++]=o>>6&63|128),e[r++]=63&o|128)}return e},goog.crypt.utf8ByteArrayToString=function(t){for(var e=[],r=0,n=0;r<t.length;){var o=t[r++];if(128>o)e[n++]=String.fromCharCode(o);else if(191<o&&224>o){var a=t[r++];e[n++]=String.fromCharCode((31&o)<<6|63&a)}else if(239<o&&365>o){a=t[r++];var s=t[r++];o=((7&o)<<18|(63&a)<<12|(63&s)<<6|63&t[r++])-65536,e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(1023&o))}else a=t[r++],s=t[r++],e[n++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&s)}return e.join("")},goog.crypt.xorByteArray=function(t,e){goog.asserts.assert(t.length==e.length,"XOR array lengths must match");for(var r=[],n=0;n<t.length;n++)r.push(t[n]^e[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(t);r&&void 0!==r[e]&&(t&&(t instanceof r[e]||!(t instanceof r.Location||t instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return void 0===t?"undefined":null===t?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,r=e&&(e.defaultView||e.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(t){}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.push.apply(e,r),t.apply(this,e)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(r){return e?t==r:t===r}},goog.functions.compose=function(t,e){var r=arguments,n=r.length;return function(){var t;n&&(t=r[n-1].apply(this,arguments));for(var e=n-2;0<=e;e--)t=r[e].call(this,t);return t}},goog.functions.sequence=function(t){var e=arguments,r=e.length;return function(){for(var t,n=0;n<r;n++)t=e[n].apply(this,arguments);return t}},goog.functions.and=function(t){var e=arguments,r=e.length;return function(){for(var t=0;t<r;t++)if(!e[t].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,r=e.length;return function(){for(var t=0;t<r;t++)if(e[t].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var r=function(){};return r.prototype=t.prototype,r=new r,t.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(e=t(),r=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var t=e;e=null,t()}}},goog.functions.debounce=function(t,e,r){var n=0;return function(o){goog.global.clearTimeout(n);var a=arguments;n=goog.global.setTimeout(function(){t.apply(r,a)},e)}},goog.functions.throttle=function(t,e,r){var n=0,o=!1,a=[],s=function(){n=0,o&&(o=!1,u())},u=function(){n=goog.global.setTimeout(s,e),t.apply(r,a)};return function(t){a=arguments,n?o=!0:u()}},goog.functions.rateLimit=function(t,e,r){var n=0,o=function(){n=0};return function(a){n||(n=goog.global.setTimeout(o,e),t.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return!0===goog.dom.tags.VOID_TAGS_[t]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(t){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(t){},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(null!=t)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(t){var e=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==e){e=new e;for(var r=0;r<arguments.length;r++)e.append(arguments[r]);return e.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(t,e,r){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==n){n=new n;for(var o=0;o<t.length;o++)n.append(t[o],r);return n.getBlob(e)}if(void 0!==goog.global.Blob)return n={},e&&(n.type=e),r&&(n.endings=r),new Blob(t,n);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return"number"==typeof t?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:null==t?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){return e=(void 0===e?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,t.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){var r=0,n=0,o=!1;for(t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<t.length;e++){var a=t[e];goog.i18n.bidi.startsWithRtl(a)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?o=!0:goog.i18n.bidi.hasAnyLtr(a)?n++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(o=!0)}return 0==n?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(t,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(t,e){var r=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return t=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof goog.string.Const?goog.string.Const.unwrap(t):encodeURIComponent(String(t))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,r,n){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",r=0;r<t.length;r++)e+=goog.string.Const.unwrap(t[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.fromSafeScript=function(t){return t=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(t)],"text/javascript"),t=goog.fs.url.createObjectUrl(t),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){return t=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,r){if(null==r)return e;if("string"==typeof r)return r?t+encodeURIComponent(r):"";for(var n in r){var o=r[n];o=Array.isArray(o)?o:[o];for(var a=0;a<o.length;a++){var s=o[a];null!=s&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(s)))}}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.internal.endsWith=function(t,e){var r=t.length-e.length;return 0<=r&&t.indexOf(e,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){return(t=String(t).toLowerCase())<(e=String(e).toLowerCase())?-1:t==e?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return -1!=t.indexOf(e)},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){var r=0;t=goog.string.internal.trim(String(t)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var n=Math.max(t.length,e.length),o=0;0==r&&o<n;o++){var a=t[o]||"",s=e[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;r=0==a[1].length?0:parseInt(a[1],10);var u=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,u)||goog.string.internal.compareElements_(0==a[2].length,0==s[2].length)||goog.string.internal.compareElements_(a[2],s[2]),a=a[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.html.SafeUrl=function(t,e){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SafeUrl.isSafeMimeType(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromMediaSource=function(t){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),t=t instanceof MediaSource?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SafeUrl.isSafeMimeType(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch(t){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,r){return(t=t.exec(e))?(t=t[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(t){return goog.string.Const.unwrap(t)})).indexOf(t)&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){return t instanceof goog.html.SafeUrl?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)&&(e=goog.html.SafeUrl.fromDataUrl(t)).getTypedStringValue()==t)?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,r="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var n=t[e];null!=n&&(r+=e+":"+(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,r=!0,n=0;n<t.length;n++){var o=t.charAt(n);"'"==o&&r?e=!e:'"'==o&&e&&(r=!r)}return e&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<t.length;n++){var o=t.charAt(n);if("]"==o){if(e)return!1;e=!0}else if("["==o){if(!e)return!1;e=!1}else if(!e&&!r.test(o))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,function(t,e,r,n){var o="";return r=r.replace(/^(['"])(.*)\1$/,function(t,e,r){return o=e,r}),t=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),e+o+t+o+n})},goog.html.SafeStyle.concat=function(t){var e="",r=function(t){Array.isArray(t)?goog.array.forEach(t,r):e+=goog.html.SafeStyle.unwrap(t)};return goog.array.forEach(arguments,r),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var r=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),t=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},r=[],n=0;n<t.length;n++){var o=t[n];if(e[o])r.push(e[o]);else if(goog.object.contains(e,o)&&r.pop()!=o)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(t){var e="",r=function(t){Array.isArray(t)?goog.array.forEach(t,r):e+=goog.html.SafeStyleSheet.unwrap(t)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];e=r.exec(t);)n.push([e[1],e[2],e[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(t){return r[t=goog.array.find(t,n)]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var r={};goog.array.forEach(e,function(t){r[t[0]]=t[1]});var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var r=/MSIE +([\d\.]+)/.exec(t);if(r&&r[1]){if(t=/Trident\/(\d.\d)/.exec(t),"7.0"==r[1]){if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0"}else e=r[1]}return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e="object"==typeof t,r=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(r=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(t){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(t)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,r){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,r)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+t+">.":"");if(t.toUpperCase() in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+t+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(t,e,r,n){t&&goog.html.TrustedResourceUrl.unwrap(t);var o={};return o.src=t||null,o.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.createSandboxIframe=function(t,e,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,o.srcdoc=e||null,o.sandbox="",t=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){return goog.html.TrustedResourceUrl.unwrap(t),t=goog.html.SafeHtml.combineAttributes({src:t},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(t,e){for(var r in e){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(n=0,r="",t=goog.array.concat(t);n<t.length;n++)r+=goog.html.SafeScript.unwrap(t[n]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,t)},goog.html.SafeHtml.createStyle=function(t,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var r="";t=goog.array.concat(t);for(var n=0;n<t.length;n++)r+=goog.html.SafeStyleSheet.unwrap(t[n]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,t)},goog.html.SafeHtml.createMetaRefresh=function(t,e){return t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==e.toLowerCase()){if(goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)r=goog.html.SafeHtml.getStyleValue_(r);else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"")}else{if(/^on/i.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" requires goog.string.Const value, "'+r+'" given.':"");if(e.toLowerCase() in goog.html.SafeHtml.URL_ATTRIBUTES_){if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else if("string"==typeof r)r=goog.html.SafeUrl.sanitize(r).getTypedStringValue();else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"")}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert("string"==typeof r||"number"==typeof r,"String or number value expected, got "+typeof r+" with value: "+r),e+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t:"");return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,r,n){return(e=goog.html.SafeHtml.create(e,r,n)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var r=(t=goog.html.SafeHtml.htmlEscape(t)).getDirection(),n=[],o=function(t){Array.isArray(t)?goog.array.forEach(t,o):(t=goog.html.SafeHtml.htmlEscape(t),n.push(goog.html.SafeHtml.unwrap(t)),t=t.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=t:t!=goog.i18n.bidi.Dir.NEUTRAL&&r!=t&&(r=null))};return goog.array.forEach(e,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(t)),r)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=t,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,r){var n=null,o="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return null==r?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+t+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+t+">",n=n.getDirection()),(t=e&&e.dir)&&(n=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var r="";if(e)for(var n in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var o=e[n];null!=o&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,n,o))}return r},goog.html.SafeHtml.combineAttributes=function(t,e,r){var n,o={};for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];if(r)for(n in r){var a=n.toLowerCase();if(a in t)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+a+'" attribute, got "'+n+'" with value "'+r[n]+'"':"");a in e&&delete o[a],o[n]=r[n]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,r){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,r){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),(!goog.DEBUG||!!t.firstChild)&&(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!e.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setButtonFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setInputFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,r){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrap(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):e instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(e):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.assign(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.replaceLocation=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.replace(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.openInWindow=function(t,e,r,n,o){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e=e||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",e.open(goog.html.SafeUrl.unwrap(t),r,n,o)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,r){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),r)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var r=t.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&"~">=t||""<=t&&"">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,r){if(t==e)return 0;if(!t)return -1;if(!e)return 1;for(var n=t.toLowerCase().match(r),o=e.toLowerCase().match(r),a=Math.min(n.length,o.length),s=0;s<a;s++){r=n[s];var u=o[s];if(r!=u)return isNaN(t=parseInt(r,10))||isNaN(e=parseInt(u,10))||!(t-e)?r<u?-1:1:t-e}return n.length!=o.length?n.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(t,e){var o=r[t];return o||("#"==e.charAt(0)&&(isNaN(e=Number("0"+e.substr(1)))||(o=String.fromCharCode(e))),o||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),t+" ")),o=n.firstChild.nodeValue.slice(0,-1)),r[t]=o)})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=e.charAt(0)||isNaN(e=Number("0"+e.substr(1)))?t:String.fromCharCode(e)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=1==r?e:e.charAt(n);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,r){return r&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),r&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,r,n){if(r&&(t=goog.string.unescapeEntities(t)),n&&t.length>e){n>e&&(n=e);var o=t.length-n;t=t.substring(0,e-n)+"..."+t.substring(o)}else t.length>e&&(n=Math.floor(e/2),o=t.length-n,t=t.substring(0,n+e%2)+"..."+t.substring(o));return r&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var n=t.charAt(r),o=n.charCodeAt(0);e[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=goog.string.escapeChar(t.charAt(r));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var r=t;else 256>e?(r="\\x",(16>e||256<e)&&(r+="0")):(r="\\u",4096>e&&(r+="0")),r+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,r){var n=t;return 0<=e&&e<t.length&&0<r&&(n=t.substr(0,e)+t.substr(e+r,t.length-e-r)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){return e=RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,"")},goog.string.replaceAll=function(t,e,r){return e=RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,r){return -1==(r=(t=void 0!==r?t.toFixed(r):String(t)).indexOf("."))&&(r=t.length),goog.string.repeat("0",Math.max(0,e-r))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,r=0;r<t.length;++r)e=31*e+t.charCodeAt(r)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){return e="string"==typeof e?goog.string.regExpEscape(e):"\\s",t.replace(RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(t,e,r){return e+r.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),"string"==typeof t?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,r){t=t.split(e);for(var n=[];0<r&&t.length;)n.push(t.shift()),r--;return t.length&&n.push(t.join(e)),n},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var r=-1,n=0;n<e.length;n++)if(""!=e[n]){var o=t.lastIndexOf(e[n]);o>r&&(r=o)}return -1==r?t:t.slice(r+1)},goog.string.editDistance=function(t,e){var r=[],n=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)r[o]=o;for(o=0;o<t.length;o++){n[0]=o+1;for(var a=0;a<e.length;a++)n[a+1]=Math.min(n[a]+1,r[a+1]+1,r[a]+Number(t[o]!=e[a]));for(a=0;a<r.length;a++)r[a]=n[a]}return n[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,r=goog.labs.userAgent.engine.getEngineTuple_(t);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):r[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var r=t[e];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){return(t=goog.array.find(t,function(t){return e==t[0]}))&&t[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(t){}return!1},goog.reflect.cache=function(t,e,r,n){return n=n?n(e):e,Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=r(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&null!=(e=goog.userAgent.getDocumentMode_())&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()||parseInt(goog.userAgent.VERSION,10)||void 0}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(t){return goog.string.contains(goog.crypt.base64.paddingChars_,t)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(t,e){goog.asserts.assert(goog.isArrayLike(t),"encodeByteArray takes an array as a parameter"),void 0===e&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var r=[],n=0;n<t.length;n+=3){var o=t[n],a=n+1<t.length,s=a?t[n+1]:0,u=n+2<t.length,l=u?t[n+2]:0,c=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,u||(l=64,a||(s=64)),r.push(e[c],e[o],e[s]||"",e[l]||"")}return r.join("")},goog.crypt.base64.encodeString=function(t,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(t):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(t),e)},goog.crypt.base64.decodeString=function(t,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(t);var r="";return goog.crypt.base64.decodeStringInternal_(t,function(t){r+=String.fromCharCode(t)}),r},goog.crypt.base64.decodeStringToByteArray=function(t,e){var r=[];return goog.crypt.base64.decodeStringInternal_(t,function(t){r.push(t)}),r},goog.crypt.base64.decodeStringToUint8Array=function(t){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=t.length,r=3*e/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(t[e-1])&&(r=goog.crypt.base64.isPadding_(t[e-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(t,function(t){n[o++]=t}),n.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(t,e){function r(e){for(;n<t.length;){var r=t.charAt(n++),o=goog.crypt.base64.charToByteMap_[r];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return e}goog.crypt.base64.init_();for(var n=0;;){var o=r(-1),a=r(0),s=r(64),u=r(64);if(64===u&&-1===o)break;e(o<<2|a>>4),64!=s&&(e(a<<4&240|s>>2),64!=u&&e(s<<6&192|u))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=t.concat(e[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var o=0;o<n.length;o++){var a=n[o],s=goog.crypt.base64.charToByteMap_[a];void 0===s?goog.crypt.base64.charToByteMap_[a]=o:goog.asserts.assert(s===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(t){var e=t>>>0;t=Math.floor((t-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=t},jspb.utils.splitInt64=function(t){var e=0>t,r=(t=Math.abs(t))>>>0;t=Math.floor((t-r)/jspb.BinaryConstants.TWO_TO_32)>>>0,e&&(t=~t>>>0,4294967295<(r=(~r>>>0)+1)&&(r=0,4294967295<++t&&(t=0))),jspb.utils.split64Low=r,jspb.utils.split64High=t},jspb.utils.splitZigzag64=function(t){var e=0>t;t=2*Math.abs(t),jspb.utils.splitUint64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;e&&(0==t?0==r?r=t=4294967295:(r--,t=4294967295):t--),jspb.utils.split64Low=t,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(t){var e=0>t?1:0;if(0===(t=e?-t:t))0<1/t?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(t<jspb.BinaryConstants.FLOAT32_MIN)t=Math.round(t/1401298464324817e-60),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t)>>>0;else{var r=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-r),16777216<=(t=Math.round(t*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|r+127<<23|8388607&t)>>>0}},jspb.utils.splitFloat64=function(t){var e=0>t?1:0;if(0===(t=e?-t:t))jspb.utils.split64High=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(t>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var r=t/5e-324;t=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(e<<31|t)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=t))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;t=(r=t*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|n+1023<<20|t)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),o=t.charCodeAt(3),a=t.charCodeAt(4),s=t.charCodeAt(5),u=t.charCodeAt(6);t=t.charCodeAt(7),jspb.utils.split64Low=e+(r<<8)+(n<<16)+(o<<24)>>>0,jspb.utils.split64High=a+(s<<8)+(u<<16)+(t<<24)>>>0},jspb.utils.joinUint64=function(t,e){return e*jspb.BinaryConstants.TWO_TO_32+(t>>>0)},jspb.utils.joinInt64=function(t,e){var r=2147483648&e;return r&&(e=~e>>>0,0==(t=~t+1>>>0)&&(e=e+1>>>0)),t=jspb.utils.joinUint64(t,e),r?-t:t},jspb.utils.toZigzag64=function(t,e,r){var n=e>>31;return r(t<<1^n,(e<<1|t>>>31)^n)},jspb.utils.joinZigzag64=function(t,e){return jspb.utils.fromZigzag64(t,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(t,e,r){var n=-(1&t);return r((t>>>1|e<<31)^n,e>>>1^n)},jspb.utils.joinFloat32=function(t,e){e=2*(t>>31)+1;var r=t>>>23&255;return t&=8388607,255==r?t?NaN:1/0*e:0==r?1401298464324817e-60*e*t:e*Math.pow(2,r-150)*(t+8388608)},jspb.utils.joinFloat64=function(t,e){var r=2*(e>>31)+1,n=e>>>20&2047;return t=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+t,2047==n?t?NaN:1/0*r:0==n?5e-324*r*t:r*Math.pow(2,n-1075)*(t+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(t,e){function r(t,e){return t=t?String(t):"",e?"0000000".slice(t.length)+t:t}if(2097151>=e)return""+jspb.utils.joinUint64(t,e);var n=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*n+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,1e7<=t&&(n+=Math.floor(t/1e7),t%=1e7),1e7<=n&&(e+=Math.floor(n/1e7),n%=1e7),r(e,0)+r(n,e)+r(t,1)},jspb.utils.joinSignedDecimalString=function(t,e){var r=2147483648&e;return r&&(e=~e+(0==(t=~t+1>>>0)?1:0)>>>0),t=jspb.utils.joinUnsignedDecimalString(t,e),r?"-"+t:t},jspb.utils.hash64ToDecimalString=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(t,r):jspb.utils.joinUnsignedDecimalString(t,r)},jspb.utils.hash64ArrayToDecimalStrings=function(t,e){for(var r=Array(t.length),n=0;n<t.length;n++)r[n]=jspb.utils.hash64ToDecimalString(t[n],e);return r},jspb.utils.decimalStringToHash64=function(t){function e(t,e){for(var r=0;8>r&&(1!==t||0<e);r++)e=t*o[r]+e,o[r]=255&e,e>>>=8}function r(){for(var t=0;8>t;t++)o[t]=255&~o[t]}jspb.asserts.assert(0<t.length);var n=!1;"-"===t[0]&&(n=!0,t=t.slice(1));for(var o=[0,0,0,0,0,0,0,0],a=0;a<t.length;a++)e(10,t.charCodeAt(a)-jspb.utils.ZERO_CHAR_CODE_);return n&&(r(),e(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(t){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t))},jspb.utils.toHexDigit_=function(t){return String.fromCharCode(10>t?jspb.utils.ZERO_CHAR_CODE_+t:jspb.utils.A_CHAR_CODE_-10+t)},jspb.utils.fromHexCharCode_=function(t){return t>=jspb.utils.A_CHAR_CODE_?t-jspb.utils.A_CHAR_CODE_+10:t-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(t){var e=Array(18);e[0]="0",e[1]="x";for(var r=0;8>r;r++){var n=t.charCodeAt(7-r);e[2*r+2]=jspb.utils.toHexDigit_(n>>4),e[2*r+3]=jspb.utils.toHexDigit_(15&n)}return e.join("")},jspb.utils.hexStringToHash64=function(t){t=t.toLowerCase(),jspb.asserts.assert(18==t.length),jspb.asserts.assert("0"==t[0]),jspb.asserts.assert("x"==t[1]);for(var e="",r=0;8>r;r++)e=String.fromCharCode(16*jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+2))+jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+3)))+e;return e},jspb.utils.hash64ToNumber=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinInt64(t,r):jspb.utils.joinUint64(t,r)},jspb.utils.numberToHash64=function(t){return jspb.utils.splitInt64(t),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(t,e,r){for(var n=0,o=e;o<r;o++)n+=t[o]>>7;return r-e-n},jspb.utils.countVarintFields=function(t,e,r,n){var o=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;e<r&&t[e++]==n;)for(o++;;){var a=t[e++];if(0==(128&a))break}else for(;e<r;){for(a=n;128<a;){if(t[e]!=(127&a|128))return o;e++,a>>=7}if(t[e++]!=a)break;for(o++;0!=(128&(a=t[e++])););}return o},jspb.utils.countFixedFields_=function(t,e,r,n,o){var a=0;if(128>n)for(;e<r&&t[e++]==n;)a++,e+=o;else for(;e<r;){for(var s=n;128<s;){if(t[e++]!=(127&s|128))return a;s>>=7}if(t[e++]!=s)break;a++,e+=o}return a},jspb.utils.countFixed32Fields=function(t,e,r,n){return jspb.utils.countFixedFields_(t,e,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(t,e,r,n){return jspb.utils.countFixedFields_(t,e,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(t,e,r,n){var o=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;e<r;){for(var a=n;128<a;){if(t[e++]!=(127&a|128))return o;a>>=7}if(t[e++]!=a)break;o++;for(var s=0,u=1;s+=(127&(a=t[e++]))*u,u*=128,0!=(128&a););e+=s}return o},jspb.utils.debugBytesToTextFormat=function(t){var e='"';if(t){t=jspb.utils.byteSourceToUint8Array(t);for(var r=0;r<t.length;r++)e+="\\x",16>t[r]&&(e+="0"),e+=t[r].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(t){return"string"==typeof t?goog.string.quote(t):t.toString()},jspb.utils.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++){var n=t.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");e[r]=n}return e},jspb.utils.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?goog.crypt.base64.decodeStringToUint8Array(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(t,e,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,t&&this.setBlock(t,e,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(t,e,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return t&&n.setBlock(t,e,r),n}return new jspb.BinaryDecoder(t,e,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(t,e,r){this.bytes_=jspb.utils.byteSourceToUint8Array(t),this.start_=void 0!==e?e:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(t){this.end_=t},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(t){this.cursor_=t},jspb.BinaryDecoder.prototype.advance=function(t){this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(t){for(var e=128,r=0,n=0,o=0;4>o&&128<=e;o++)r|=(127&(e=this.bytes_[this.cursor_++]))<<7*o;if(128<=e&&(r|=(127&(e=this.bytes_[this.cursor_++]))<<28,n|=(127&e)>>4),128<=e)for(o=0;5>o&&128<=e;o++)n|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3;if(128>e)return t(r>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(t){return this.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(t){var e=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,o=0,a=r+7;a>=r;a--)n=n<<8|e[a],o=o<<8|e[a+4];return t(n,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(t){for(;128<t;)this.cursor_--,t>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var t=this.bytes_,e=t[this.cursor_+0],r=127&e;return 128>e?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+1]))<<7,128>e)?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+2]))<<14,128>e)?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+3]))<<21,128>e)?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(e=t[this.cursor_+4]))<<28,128>e)?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readUint16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(t,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(t,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var t=this.readUint32();return jspb.utils.joinFloat32(t,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(t,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(t){var e=this.bytes_,r=this.cursor_;t=r+t;for(var n=[],o="";r<t;){var a=e[r++];if(128>a)n.push(a);else if(192>a)continue;else if(224>a){var s=e[r++];n.push((31&a)<<6|63&s)}else if(240>a){s=e[r++];var u=e[r++];n.push((15&a)<<12|(63&s)<<6|63&u)}else 248>a&&(a=((7&a)<<18|(63&(s=e[r++]))<<12|(63&(u=e[r++]))<<6|63&e[r++])-65536,n.push((a>>10&1023)+55296,(1023&a)+56320));8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=goog.crypt.byteArrayToString(n),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readString(t)},jspb.BinaryDecoder.prototype.readBytes=function(t){if(0>t||this.cursor_+t>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var t=this.bytes_,e=this.cursor_,r=t[e+0],n=t[e+1],o=t[e+2],a=t[e+3],s=t[e+4],u=t[e+5],l=t[e+6];return t=t[e+7],this.cursor_+=8,String.fromCharCode(r,n,o,a,s,u,l,t)},jspb.BinaryReader=function(t,e,r){this.decoder_=jspb.BinaryDecoder.alloc(t,e,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(t,e,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return t&&n.decoder_.setBlock(t,e,r),n}return new jspb.BinaryReader(t,e,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(t,e,r){this.decoder_.setBlock(t,e,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(t){this.decoder_.advance(t)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3;return(t&=7)!=jspb.BinaryConstants.WireType.VARINT&&t!=jspb.BinaryConstants.WireType.FIXED32&&t!=jspb.BinaryConstants.WireType.FIXED64&&t!=jspb.BinaryConstants.WireType.DELIMITED&&t!=jspb.BinaryConstants.WireType.START_GROUP&&t!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",t,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=t,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var t=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==t;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var t=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=t&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(t,e){null===this.readCallbacks_&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[t]),this.readCallbacks_[t]=e},jspb.BinaryReader.prototype.runReadCallback=function(t){return jspb.asserts.assert(null!==this.readCallbacks_),t=this.readCallbacks_[t],jspb.asserts.assert(t),t(this)},jspb.BinaryReader.prototype.readAny=function(t){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(t);var e=jspb.BinaryConstants.FieldType;switch(t){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(t,e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),e(t,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(t,e,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==t),r(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),r=e+t;return t=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,t),this.decoder_.setCursor(r),t},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(t)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(t)},jspb.BinaryReader.prototype.readPackedField_=function(t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var r=[];this.decoder_.getCursor()<e;)r.push(t.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(t,e){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<t;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(t,e){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(t),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(t){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);127<t;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(t){if(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),0<=t)this.writeUnsignedVarint32(t);else{for(var e=0;9>e;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((t<<1^t>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(t){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(t){var e=this;jspb.utils.splitHash64(t),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(t,r){e.writeSplitVarint64(t>>>0,r>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&256>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&65536>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-128<=t&&128>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-32768<=t&&32768>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT32_MAX&&t<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(t),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT64_MAX&&t<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(t){jspb.asserts.assert("boolean"==typeof t||"number"==typeof t),this.buffer_.push(t?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(t)},jspb.BinaryEncoder.prototype.writeBytes=function(t){this.buffer_.push.apply(this.buffer_,t)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(t){jspb.utils.splitHash64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(t){jspb.utils.splitHash64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(t){var e=this.buffer_.length;jspb.asserts.assertString(t);for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n){if(55296<=n&&56319>=n&&r+1<t.length){var o=t.charCodeAt(r+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}}return this.buffer_.length-e},jspb.arith={},jspb.arith.UInt64=function(t,e){this.lo=t,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(t){return new jspb.arith.UInt64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(t){return new jspb.arith.UInt64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(t,e){var r=65535&t;t>>>=16;var n=65535&e,o=e>>>16;for(e=r*n+65536*(r*o&65535)+65536*(t*n&65535),r=t*o+(r*o>>>16)+(t*n>>>16);4294967296<=e;)e-=4294967296,r+=1;return new jspb.arith.UInt64(e>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(t){var e=jspb.arith.UInt64.mul32x32(this.lo,t);return(t=jspb.arith.UInt64.mul32x32(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},jspb.arith.UInt64.prototype.div=function(t){if(0==t)return[];var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);t=new jspb.arith.UInt64(t,0);for(var n=new jspb.arith.UInt64(1,0);!t.msb();)t=t.leftShift(),n=n.leftShift();for(;!n.zero();)0>=t.cmp(r)&&(e=e.add(n),r=r.sub(t)),t=t.rightShift(),n=n.rightShift();return[e,r]},jspb.arith.UInt64.prototype.toString=function(){for(var t="",e=this;!e.zero();){var r=(e=e.div(10))[0];t=e[1].lo+t,e=r}return""==t&&(t="0"),t},jspb.arith.UInt64.fromString=function(t){for(var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<t.length;n++){if("0">t[n]||"9"<t[n])return null;var o=parseInt(t[n],10);r.lo=o,e=e.mul(10).add(r)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(t,e){this.lo=t,this.hi=e},jspb.arith.Int64.prototype.add=function(t){return new jspb.arith.Int64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(t){return new jspb.arith.Int64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var t=0!=(2147483648&this.hi),e=new jspb.arith.UInt64(this.lo,this.hi);return t&&(e=new jspb.arith.UInt64(0,0).sub(e)),(t?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(t){var e=0<t.length&&"-"==t[0];return(e&&(t=t.substring(1)),null===(t=jspb.arith.UInt64.fromString(t)))?null:(e&&(t=new jspb.arith.UInt64(0,0).sub(t)),new jspb.arith.Int64(t.lo,t.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(t){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},jspb.BinaryWriter.prototype.beginDelimited_=function(t){return this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),t=this.encoder_.end(),this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},jspb.BinaryWriter.prototype.endDelimited_=function(t){var e=t.pop();for(e=this.totalLength_+this.encoder_.length()-e,jspb.asserts.assert(0<=e);127<e;)t.push(127&e|128),e>>>=7,this.totalLength_++;t.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(t,e,r){this.appendUint8Array_(t.subarray(e,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(t,e,r){null!=t&&null!=e&&null!=r&&this.writeSerializedMessage(t,e,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(0==this.bookmarks_.length);for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,r=e.length,n=0,o=0;o<r;o++){var a=e[o];t.set(a,n),n+=a.length}return e=this.encoder_.end(),t.set(e,n),n+=e.length,jspb.asserts.assert(n==t.length),this.blocks_=[t],t},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(t){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),t)},jspb.BinaryWriter.prototype.beginSubMessage=function(t){this.bookmarks_.push(this.beginDelimited_(t))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(t,e){jspb.asserts.assert(1<=t&&t==Math.floor(t)),this.encoder_.writeUnsignedVarint32(8*t+e)},jspb.BinaryWriter.prototype.writeAny=function(t,e,r){var n=jspb.BinaryConstants.FieldType;switch(t){case n.DOUBLE:this.writeDouble(e,r);break;case n.FLOAT:this.writeFloat(e,r);break;case n.INT64:this.writeInt64(e,r);break;case n.UINT64:this.writeUint64(e,r);break;case n.INT32:this.writeInt32(e,r);break;case n.FIXED64:this.writeFixed64(e,r);break;case n.FIXED32:this.writeFixed32(e,r);break;case n.BOOL:this.writeBool(e,r);break;case n.STRING:this.writeString(e,r);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(e,r);break;case n.UINT32:this.writeUint32(e,r);break;case n.ENUM:this.writeEnum(e,r);break;case n.SFIXED32:this.writeSfixed32(e,r);break;case n.SFIXED64:this.writeSfixed64(e,r);break;case n.SINT32:this.writeSint32(e,r);break;case n.SINT64:this.writeSint64(e,r);break;case n.FHASH64:this.writeFixedHash64(e,r);break;case n.VHASH64:this.writeVarintHash64(e,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(t,e){null!=e&&(e=parseInt(e,10),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt64=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(t,e){null!=e&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(t,e){null!=e&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(t,e){null!=e&&(e=parseInt(e,10),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint64=function(t,e){null!=e&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(t,e){null!=e&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(t,e){null!=e&&this.writeZigzagVarintHash64_(t,e)},jspb.BinaryWriter.prototype.writeSint64String=function(t,e){null!=e&&this.writeZigzagVarint64String_(t,e)},jspb.BinaryWriter.prototype.writeFixed32=function(t,e){null!=e&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(t,e){null!=e&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(t,e){null!=e&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(t,e){null!=e&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(t,e){null!=e&&(jspb.asserts.assert("boolean"==typeof e||"number"==typeof e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(t,e){null!=e&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(t,e){null!=e&&(t=this.beginDelimited_(t),this.encoder_.writeString(e),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(t,e){null!=e&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(t,e,r){null!=e&&(t=this.beginDelimited_(t),r(e,this),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(t,e,r){null!=e&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t),t=this.beginDelimited_(3),r(e,this),this.endDelimited_(t),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(t,e,r){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e,this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(t,e){null!=e&&(jspb.asserts.assert(8==e.length),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(t,e){null!=e&&(jspb.asserts.assert(8==e.length),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(e,r,function(t,e){n.writeSplitVarint64(t>>>0,e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeInt32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(t,e,r,n){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitFixed64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(t,e,r,n){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitVarint64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(t,e,r,n){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitZigzagVarint64(t,r(e[o]),n(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeInt64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeUnsignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeUint32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeUnsignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeUint64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeZigzagVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeZigzagVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeZigzagVarint64String_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeZigzagVarintHash64_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeFixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeFixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeFixed64String(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSfixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSfixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSfixed64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeFloat(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeDouble(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeBool(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeEnum(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeString(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeBytes(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(t,e,r){if(null!=e)for(var n=0;n<e.length;n++){var o=this.beginDelimited_(t);r(e[n],this),this.endDelimited_(o)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(t,e,r){if(null!=e)for(var n=0;n<e.length;n++)this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e[n],this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeFixedHash64(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeVarintHash64(t,e[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(t,e,r,n){if(null!=e){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitFixed64(r(e[o]),n(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(t,e,r,n){if(null!=e){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitVarint64(r(e[o]),n(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(t,e,r,n){if(null!=e){t=this.beginDelimited_(t);for(var o=this.encoder_,a=0;a<e.length;a++)jspb.utils.toZigzag64(r(e[a]),n(e[a]),function(t,e){o.writeSplitVarint64(t>>>0,e>>>0)});this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var n=jspb.arith.Int64.fromString(e[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var n=jspb.arith.UInt64.fromString(e[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[r]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(e[r]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeUint32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeUint64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++){var r=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeInt32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64String(e[t])},jspb.BinaryWriter.prototype.writePackedFloat=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeFloat(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeDouble(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),t=0;t<e.length;t++)this.encoder_.writeBool(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeEnum(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeFixedHash64(e[t])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeVarintHash64(e[r]);this.endDelimited_(t)}},jspb.Map=function(t,e){this.arr_=t,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var t=0;t<this.arr_.length;t++){var e=this.arr_[t],r=e[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var t,e=this.map_;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),t=0;t<e.length;t++){var n=this.map_[e[t]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(t,e){for(var r=this.toArray(),n=[],o=0;o<r.length;o++){var a=this.map_[r[o][0].toString()];this.wrapEntry_(a);var s=a.valueWrapper;s?(jspb.asserts.assert(e),n.push([a.key,e(t,s)])):n.push([a.key,a.value])}return n},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(t,e,r){e=new jspb.Map([],e);for(var n=0;n<t.length;n++){var o=t[n][0],a=r(t[n][1]);e.set(o,a)}return e},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(t){this.idx_=0,this.arr_=t},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(t){t=t.toString();var e=this.map_.hasOwnProperty(t);return delete this.map_[t],this.arrClean=!1,e},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var n=this.map_[e[r]];t.push([n.key,n.value])}return t},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var n=this.map_[e[r]];t.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.map_[e[r]].key);return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.wrapEntry_(this.map_[e[r]]));return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(t,e){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var o=this.map_[r[n]];t.call(e,this.wrapEntry_(o),o.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(t,e){var r=new jspb.Map.Entry_(t);return this.valueCtor_?(r.valueWrapper=e,r.value=e.toArray()):r.value=e,this.map_[t.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(t){return this.valueCtor_?(t.valueWrapper||(t.valueWrapper=new this.valueCtor_(t.value)),t.valueWrapper):t.value},jspb.Map.prototype.get=function(t){if(t=this.map_[t.toString()])return this.wrapEntry_(t)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(t){return t.toString() in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(t,e,r,n,o){var a=this.stringKeys_();a.sort();for(var s=0;s<a.length;s++){var u=this.map_[a[s]];e.beginSubMessage(t),r.call(e,1,u.key),this.valueCtor_?n.call(e,2,this.wrapEntry_(u),o):n.call(e,2,u.value),e.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(t,e,r,n,o,a,s){for(;e.nextField()&&!e.isEndGroup();){var u=e.getFieldNumber();1==u?a=r.call(e):2==u&&(t.valueCtor_?(jspb.asserts.assert(o),s||(s=new t.valueCtor_),n.call(e,s,o)):s=n.call(e))}jspb.asserts.assert(void 0!=a),jspb.asserts.assert(void 0!=s),t.set(a,s)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var t,e=this.map_,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r},jspb.Map.Entry_=function(t,e){this.key=t,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(t,e,r,n,o){this.fieldIndex=t,this.fieldName=e,this.ctor=r,this.toObjectFn=n,this.isRepeated=o},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(t,e,r,n,o,a){this.fieldInfo=t,this.binaryReaderFn=e,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=o,this.isPacked=a},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(t,e){return e+t.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(t,e){return e-t.arrayIndexOffset_},jspb.Message.initialize=function(t,e,r,n,o,a){if(t.wrappers_=null,e||(e=r?[r]:[]),t.messageId_=r?String(r):void 0,t.arrayIndexOffset_=0===r?-1:0,t.array=e,jspb.Message.initPivotAndExtensionObject_(t,n),t.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(t.repeatedFields=o),o)for(e=0;e<o.length;e++)(r=o[e])<t.pivot_?(r=jspb.Message.getIndex_(t,r),t.array[r]=t.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[r]=t.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(a&&a.length)for(e=0;e<a.length;e++)jspb.Message.computeOneofCase(t,a[e])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(t){return jspb.Message.ASSUME_LOCAL_ARRAYS?t instanceof Array:Array.isArray(t)},jspb.Message.isExtensionObject_=function(t){return null!==t&&"object"==typeof t&&!jspb.Message.isArray_(t)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(t,e){var r=t.array.length,n=-1;if(r&&(n=r-1,r=t.array[n],jspb.Message.isExtensionObject_(r))){t.pivot_=jspb.Message.getFieldNumber_(t,n),t.extensionObject_=r;return}-1<e?(t.pivot_=Math.max(e,jspb.Message.getFieldNumber_(t,n+1)),t.extensionObject_=null):t.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(t){var e=jspb.Message.getIndex_(t,t.pivot_);t.array[e]||(t.extensionObject_=t.array[e]={})},jspb.Message.toObjectList=function(t,e,r){for(var n=[],o=0;o<t.length;o++)n[o]=e.call(t[o],r,t[o]);return n},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(t,e,r,n,o){for(var a in r){var s=r[a],u=n.call(t,s);if(null!=u){for(var l in s.fieldName)if(s.fieldName.hasOwnProperty(l))break;e[l]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(u,s.toObjectFn,o):s.toObjectFn(o,u):u}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(t,e,r,n){for(var o in r){var a=r[o],s=a.fieldInfo;if(!a.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var u=n.call(t,s);if(null!=u){if(s.isMessageType()){if(a.binaryMessageSerializeFn)a.binaryWriterFn.call(e,s.fieldIndex,u,a.binaryMessageSerializeFn);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format")}else a.binaryWriterFn.call(e,s.fieldIndex,u)}}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(t,e,r,n,o){var a=r[e.getFieldNumber()];if(a){if(r=a.fieldInfo,!a.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var s=new r.ctor;a.binaryReaderFn.call(e,s,a.binaryMessageDeserializeFn)}else s=a.binaryReaderFn.call(e);r.isRepeated&&!a.isPacked?(e=n.call(t,r))?e.push(s):o.call(t,r,[s]):o.call(t,r,s)}else e.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(t,e){if(e<t.pivot_){e=jspb.Message.getIndex_(t,e);var r=t.array[e];return r===jspb.Message.EMPTY_LIST_SENTINEL_?t.array[e]=[]:r}if(t.extensionObject_)return(r=t.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?t.extensionObject_[e]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(t,e){return jspb.Message.getField(t,e)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(t,e){return null==(t=jspb.Message.getField(t,e))?t:+t},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(t,e){return null==(t=jspb.Message.getField(t,e))?t:!!t},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var n=0;n<r.length;n++)r[n]=+r[n];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var n=0;n<r.length;n++)r[n]=!!r[n];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(t){return null==t||"string"==typeof t?t:jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog.crypt.base64.encodeByteArray(t):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(t){return null==t||t instanceof Uint8Array?t:"string"==typeof t?goog.crypt.base64.decodeStringToUint8Array(t):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(t){return jspb.Message.assertConsistentTypes_(t),t.length&&"string"!=typeof t[0]?goog.array.map(t,jspb.Message.bytesAsB64):t},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(t){return jspb.Message.assertConsistentTypes_(t),!t.length||t[0]instanceof Uint8Array?t:goog.array.map(t,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(t){if(goog.DEBUG&&t&&1<t.length){var e=goog.typeOf(t[0]);goog.array.forEach(t,function(t){goog.typeOf(t)!=e&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(t)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(t,e,r){return null==(t=jspb.Message.getField(t,e))?r:t},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(t,e,r){return null==(t=jspb.Message.getBooleanField(t,e))?r:t},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(t,e,r){return null==(t=jspb.Message.getOptionalFloatingPointField(t,e))?r:t},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(t,e,r,n){if(t.wrappers_||(t.wrappers_={}),e in t.wrappers_)return t.wrappers_[e];var o=jspb.Message.getField(t,e);if(!o){if(r)return;o=[],jspb.Message.setField(t,e,o)}return t.wrappers_[e]=new jspb.Map(o,n)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(t,e,r){return jspb.asserts.assertInstanceof(t,jspb.Message),e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=r),t},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),r!==n?jspb.Message.setField(t,e,r):e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(t),delete t.extensionObject_[e]),t},jspb.Message.addToRepeatedField=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),e=jspb.Message.getRepeatedField(t,e),void 0!=n?e.splice(n,0,r):e.push(r),t},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(t,e,r,n){return jspb.asserts.assertInstanceof(t,jspb.Message),(r=jspb.Message.computeOneofCase(t,r))&&r!==e&&void 0!==n&&(t.wrappers_&&r in t.wrappers_&&(t.wrappers_[r]=void 0),jspb.Message.setField(t,r,void 0)),jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(t,e){for(var r,n,o=0;o<e.length;o++){var a=e[o],s=jspb.Message.getField(t,a);null!=s&&(r=a,n=s,jspb.Message.setField(t,a,void 0))}return r?(jspb.Message.setField(t,r,n),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(t,e,r,n){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){var o=jspb.Message.getField(t,r);(n||o)&&(t.wrappers_[r]=new e(o))}return t.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(t,e,r){return jspb.Message.wrapRepeatedField_(t,e,r),(e=t.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[r]=[]),e},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(t,e,r){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(t,r),o=[],a=0;a<n.length;a++)o[a]=new e(n[a]);t.wrappers_[r]=o}},jspb.Message.setWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var n=r?r.toArray():r;return t.wrappers_[e]=r,jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(t,e,r,n){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var o=n?n.toArray():n;return t.wrappers_[e]=n,jspb.Message.setOneofField(t,e,r,o)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={}),r=r||[];for(var n=[],o=0;o<r.length;o++)n[o]=r[o].toArray();return t.wrappers_[e]=r,jspb.Message.setField(t,e,n)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(t,e,r,n,o){jspb.Message.wrapRepeatedField_(t,n,e);var a=t.wrappers_[e];return a||(a=t.wrappers_[e]=[]),r=r||new n,t=jspb.Message.getRepeatedField(t,e),void 0!=o?(a.splice(o,0,r),t.splice(o,0,r.toArray())):(a.push(r),t.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(t,e,r,n){for(var o={},a=0;a<t.length;a++)o[e.call(t[a])]=r?r.call(t[a],n,t[a]):t[a];return o},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var t in this.wrappers_){var e=this.wrappers_[t];if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&e[r].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(t){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=t.fieldIndex;if(t.isRepeated){if(t.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(e){return new t.ctor(e)})),this.wrappers_[e]}else if(t.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new t.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(t,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=t.fieldIndex;return t.isRepeated?(e=e||[],t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=goog.array.map(e,function(t){return t.toArray()})):this.extensionObject_[r]=e):t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=e?e.toArray():e):this.extensionObject_[r]=e,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var r=t.toArray();e=e.toArray();var n=[],o=0,a=r.length>e.length?r.length:e.length;for(t.getJsPbMessageId()&&(n[0]=t.getJsPbMessageId(),o=1);o<a;o++)jspb.Message.compareFields(r[o],e[o])||(n[o]=e[o]);return new t.constructor(n)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&jspb.Message.compareFields(t.toArray(),e.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(t,e){e=e||{};var r,n={};for(r in t=t||{})n[r]=0;for(r in e)n[r]=0;for(r in n)if(!jspb.Message.compareFields(t[r],e[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(t,e){if(t==e)return!0;if(!goog.isObject(t)||!goog.isObject(e))return!!("number"==typeof t&&isNaN(t)||"number"==typeof e&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}if(t.constructor===Array){var n=void 0,o=void 0,a=Math.max(t.length,e.length);for(r=0;r<a;r++){var s=t[r],u=e[r];if(s&&s.constructor==Object&&(jspb.asserts.assert(void 0===n),jspb.asserts.assert(r===t.length-1),n=s,s=void 0),u&&u.constructor==Object&&(jspb.asserts.assert(void 0===o),jspb.asserts.assert(r===e.length-1),o=u,u=void 0),!jspb.Message.compareFields(s,u))return!1}return!n&&!o||(n=n||{},o=o||{},jspb.Message.compareExtensions(n,o))}if(t.constructor===Object)return jspb.Message.compareExtensions(t,e);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(t){return jspb.Message.cloneMessage(t)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(t){return new t.constructor(jspb.Message.clone_(t.toArray()))},jspb.Message.copyInto=function(t,e){jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jspb.Message.clone(t);for(var r=e.toArray(),n=t.toArray(),o=r.length=0;o<n.length;o++)r[o]=n[o];e.wrappers_=t.wrappers_,e.extensionObject_=t.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(t){if(Array.isArray(t)){for(var e=Array(t.length),r=0;r<t.length;r++){var n=t[r];null!=n&&(e[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)return new Uint8Array(t);for(r in e={},t)null!=(n=t[r])&&(e[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n);return e},jspb.Message.registerMessageType=function(t,e){e.messageId=t},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},7296:(t,e,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},932:t=>{"use strict";var e="undefined"!=typeof BigInt&&BigInt;t.exports=function(){return"function"==typeof e&&"function"==typeof BigInt&&"bigint"==typeof e(42)&&"bigint"==typeof BigInt(42)}},1044:(t,e,r)=>{"use strict";var n=r(4429),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},8185:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return({__proto__:e}).foo===e.foo&&!(e instanceof r)}},1405:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5419);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(e in t[e]=n,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==n||!0!==a.enumerable)return!1}return!0}},6410:(t,e,r)=>{"use strict";var n=r(5419);t.exports=function(){return n()&&!!Symbol.toStringTag}},8824:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,a=r(8612);t.exports=a.call(n,o)},645:(t,e)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,r,n,o){var a,s,u=8*o-n-1,l=(1<<u)-1,c=l>>1,f=-7,d=r?o-1:0,p=r?-1:1,h=t[e+d];for(d+=p,a=h&(1<<-f)-1,h>>=-f,f+=u;f>0;a=256*a+t[e+d],d+=p,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=n;f>0;s=256*s+t[e+d],d+=p,f-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),a-=c}return(h?-1:1)*s*Math.pow(2,a-n)},e.write=function(t,e,r,n,o,a){var s,u,l,c=8*a-o-1,f=(1<<c)-1,d=f>>1,p=23===o?5960464477539062e-23:0,h=n?0:a-1,y=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(u=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=p/l:e+=p*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=f?(u=0,s=f):s+d>=1?(u=(e*l-1)*Math.pow(2,o),s+=d):(u=e*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;t[r+h]=255&u,h+=y,u/=256,o-=8);for(s=s<<o|u,c+=o;c>0;t[r+h]=255&s,h+=y,s/=256,c-=8);t[r+h-y]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},9496:(t,e,r)=>{"use strict";var n=r(8824),o=r(7478)(),a=r(4453),s={assert:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");if(o.assert(t),!s.has(t,e))throw new a("`"+e+"` is not present on `O`")},get:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var r=o.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var r=o.get(t);return!!r&&n(r,"$"+e)},set:function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new a("`O` is not an object");if("string"!=typeof e)throw new a("`slot` must be a string");var n=o.get(t);n||(n={},o.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(s),t.exports=s},2584:(t,e,r)=>{"use strict";var n=r(6410)(),o=r(1924)("Object.prototype.toString"),a=function(t){return(!n||!t||"object"!=typeof t||!(Symbol.toStringTag in t))&&"[object Arguments]"===o(t)},s=function(t){return!!a(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},u=function(){return a(arguments)}();a.isLegacyArguments=s,t.exports=u?a:s},635:(t,e,r)=>{"use strict";var n=r(5559),o=r(1924),a=r(210)("%ArrayBuffer%",!0),s=o("ArrayBuffer.prototype.byteLength",!0),u=o("Object.prototype.toString"),l=!!a&&!s&&new a(0).slice,c=!!l&&n(l);t.exports=s||c?function(t){if(!t||"object"!=typeof t)return!1;try{return s?s(t):c(t,0),!0}catch(t){return!1}}:a?function(t){return"[object ArrayBuffer]"===u(t)}:function(t){return!1}},3376:(t,e,r)=>{"use strict";if(r(932)()){var n=BigInt.prototype.valueOf,o=function(t){try{return n.call(t),!0}catch(t){}return!1};t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||o(t))}}else t.exports=function(t){return!1}},6814:(t,e,r)=>{"use strict";var n=r(1924),o=n("Boolean.prototype.toString"),a=n("Object.prototype.toString"),s=function(t){try{return o(t),!0}catch(t){return!1}},u="[object Boolean]",l=r(6410)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(l&&Symbol.toStringTag in t?s(t):a(t)===u)}},5320:t=>{"use strict";var e,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o(function(){throw 42},null,e)}catch(t){t!==r&&(o=null)}else o=null;var a=/^\s*class\b/,s=function(t){try{var e=n.call(t);return a.test(e)}catch(t){return!1}},u=function(t){try{if(s(t))return!1;return n.call(t),!0}catch(t){return!1}},l=Object.prototype.toString,c="[object Object]",f="[object Function]",d="[object GeneratorFunction]",p="[object HTMLAllCollection]",h="[object HTML document.all class]",y="[object HTMLCollection]",g="function"==typeof Symbol&&!!Symbol.toStringTag,m=!(0 in[,]),_=function(){return!1};if("object"==typeof document){var b=document.all;l.call(b)===l.call(document.all)&&(_=function(t){if((m||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return(e===p||e===h||e===y||e===c)&&null==t("")}catch(t){}return!1})}t.exports=o?function(t){if(_(t))return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;try{o(t,null,e)}catch(t){if(t!==r)return!1}return!s(t)&&u(t)}:function(t){if(_(t))return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if(g)return u(t);if(s(t))return!1;var e=l.call(t);return!!(e===f||e===d||/^\[object HTML/.test(e))&&u(t)}},8923:(t,e,r)=>{"use strict";var n=Date.prototype.getDay,o=function(t){try{return n.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,s="[object Date]",u=r(6410)();t.exports=function(t){return"object"==typeof t&&null!==t&&(u?o(t):a.call(t)===s)}},8662:(t,e,r)=>{"use strict";var n,o=Object.prototype.toString,a=Function.prototype.toString,s=/^\s*(?:function)?\*/,u=r(6410)(),l=Object.getPrototypeOf,c=function(){if(!u)return!1;try{return Function("return function*() {}")()}catch(t){}};t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(a.call(t)))return!0;if(!u)return"[object GeneratorFunction]"===o.call(t);if(!l)return!1;if(void 0===n){var e=c();n=!!e&&l(e)}return l(t)===n}},8379:t=>{"use strict";var e,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(e=function(t){return!1});var o=r?Map.prototype.has:null,a=n?Set.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},8611:t=>{"use strict";t.exports=function(t){return t!=t}},360:(t,e,r)=>{"use strict";var n=r(5559),o=r(4289),a=r(8611),s=r(9415),u=r(3194),l=n(s(),Number);o(l,{getPolyfill:s,implementation:a,shim:u}),t.exports=l},9415:(t,e,r)=>{"use strict";var n=r(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},3194:(t,e,r)=>{"use strict";var n=r(4289),o=r(9415);t.exports=function(){var t=o();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},4578:(t,e,r)=>{"use strict";var n=Number.prototype.toString,o=function(t){try{return n.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,s="[object Number]",u=r(6410)();t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(u?o(t):a.call(t)===s)}},8420:(t,e,r)=>{"use strict";var n,o,a,s,u=r(1924),l=r(6410)();if(l){n=u("Object.prototype.hasOwnProperty"),o=u("RegExp.prototype.exec"),a={};var c=function(){throw a};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var f=u("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor,p="[object RegExp]";t.exports=l?function(t){if(!t||"object"!=typeof t)return!1;var e=d(t,"lastIndex");if(!(e&&n(e,"value")))return!1;try{o(t,s)}catch(t){return t===a}}:function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&f(t)===p}},9572:t=>{"use strict";var e,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(e=function(t){return!1});var o=r?Map.prototype.has:null,a=n?Set.prototype.has:null;e||a||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},2579:(t,e,r)=>{"use strict";var n=r(1924)("SharedArrayBuffer.prototype.byteLength",!0);t.exports=n?function(t){if(!t||"object"!=typeof t)return!1;try{return n(t),!0}catch(t){return!1}}:function(t){return!1}},9981:(t,e,r)=>{"use strict";var n=String.prototype.valueOf,o=function(t){try{return n.call(t),!0}catch(t){return!1}},a=Object.prototype.toString,s="[object String]",u=r(6410)();t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(u?o(t):a.call(t)===s)}},2636:(t,e,r)=>{"use strict";var n=Object.prototype.toString;if(r(1405)()){var o=Symbol.prototype.toString,a=/^Symbol\(.*\)$/,s=function(t){return"symbol"==typeof t.valueOf()&&a.test(o.call(t))};t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==n.call(t))return!1;try{return s(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},5692:(t,e,r)=>{"use strict";var n=r(6430);t.exports=function(t){return!!n(t)}},1718:t=>{"use strict";var e,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(e=function(t){return!1});var o=r?r.prototype.has:null,a=n?n.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t,o),a)try{a.call(t,a)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},5899:(t,e,r)=>{"use strict";var n=r(210),o=r(1924),a=n("%WeakSet%",!0),s=o("WeakSet.prototype.has",!0);if(s){var u=o("WeakMap.prototype.has",!0);t.exports=function(t){if(!t||"object"!=typeof t)return!1;try{if(s(t,s),u)try{u(t,u)}catch(t){return!0}return t instanceof a}catch(t){}return!1}}else t.exports=function(t){return!1}},5826:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),a=r(7667),s=r(1327),u=r(1866);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},8407:(t,e,r)=>{var n=r(7040),o=r(4125),a=r(2117),s=r(7518),u=r(4705);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),a=r(6e3),s=r(9916),u=r(5265);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),o=r(619),a=r(2385);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=a,t.exports=s},6384:(t,e,r)=>{var n=r(8407),o=r(7465),a=r(3779),s=r(7599),u=r(4758),l=r(4309);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=u,c.prototype.set=l,t.exports=c},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},4963:t=>{function e(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[o++]=s)}return a}t.exports=e},4636:(t,e,r)=>{var n=r(2545),o=r(5694),a=r(1469),s=r(4144),u=r(5776),l=r(6719),c=Object.prototype.hasOwnProperty;function f(t,e){var r=a(t),f=!r&&o(t),d=!r&&!f&&s(t),p=!r&&!f&&!d&&l(t),h=r||f||d||p,y=h?n(t.length,String):[],g=y.length;for(var m in t)(e||c.call(t,m))&&!(h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,g)))&&y.push(m);return y}t.exports=f},2488:t=>{function e(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}t.exports=e},2908:t=>{function e(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}t.exports=e},8470:(t,e,r)=>{var n=r(7813);function o(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return -1}t.exports=o},8866:(t,e,r)=>{var n=r(2488),o=r(1469);function a(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}t.exports=a},4239:(t,e,r)=>{var n=r(2705),o=r(9607),a=r(2333),s="[object Null]",u="[object Undefined]",l=n?n.toStringTag:void 0;function c(t){return null==t?void 0===t?u:s:l&&l in Object(t)?o(t):a(t)}t.exports=c},9454:(t,e,r)=>{var n=r(4239),o=r(7005),a="[object Arguments]";function s(t){return o(t)&&n(t)==a}t.exports=s},939:(t,e,r)=>{var n=r(2492),o=r(7005);function a(t,e,r,s,u){return t===e||(null!=t&&null!=e&&(o(t)||o(e))?n(t,e,r,s,a,u):t!=t&&e!=e)}t.exports=a},2492:(t,e,r)=>{var n=r(6384),o=r(7114),a=r(8351),s=r(6096),u=r(4160),l=r(1469),c=r(4144),f=r(6719),d=1,p="[object Arguments]",h="[object Array]",y="[object Object]",g=Object.prototype.hasOwnProperty;function m(t,e,r,m,_,b){var w=l(t),E=l(e),v=w?h:u(t),S=E?h:u(e);v=v==p?y:v,S=S==p?y:S;var T=v==y,O=S==y,A=v==S;if(A&&c(t)){if(!c(e))return!1;w=!0,T=!1}if(A&&!T)return b||(b=new n),w||f(t)?o(t,e,r,m,_,b):a(t,e,v,r,m,_,b);if(!(r&d)){var I=T&&g.call(t,"__wrapped__"),N=O&&g.call(e,"__wrapped__");if(I||N){var D=I?t.value():t,R=N?e.value():e;return b||(b=new n),_(D,R,r,m,b)}}return!!A&&(b||(b=new n),s(t,e,r,m,_,b))}t.exports=m},2958:(t,e,r)=>{var n=r(6384),o=r(939),a=1,s=2;function u(t,e,r,u){var l=r.length,c=l,f=!u;if(null==t)return!c;for(t=Object(t);l--;){var d=r[l];if(f&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++l<c;){var p=(d=r[l])[0],h=t[p],y=d[1];if(f&&d[2]){if(void 0===h&&!(p in t))return!1}else{var g=new n;if(u)var m=u(h,y,p,t,e,g);if(!(void 0===m?o(y,h,a|s,u,g):m))return!1}}return!0}t.exports=u},8458:(t,e,r)=>{var n=r(3560),o=r(5346),a=r(3218),s=r(346),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,d=c.hasOwnProperty,p=RegExp("^"+f.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(t){return!(!a(t)||o(t))&&(n(t)?p:l).test(s(t))}t.exports=h},8749:(t,e,r)=>{var n=r(4239),o=r(1780),a=r(7005),s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",y="[object Object]",g="[object RegExp]",m="[object Set]",_="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",v="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",R={};function C(t){return a(t)&&o(t.length)&&!!R[n(t)]}R["[object Float32Array]"]=R[v]=R[S]=R[T]=R[O]=R[A]=R[I]=R[N]=R[D]=!0,R[s]=R[u]=R[w]=R[l]=R[E]=R[c]=R[f]=R[d]=R[p]=R[h]=R[y]=R[g]=R[m]=R[_]=R[b]=!1,t.exports=C},280:(t,e,r)=>{var n=r(5726),o=r(6916),a=Object.prototype.hasOwnProperty;function s(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}t.exports=s},2545:t=>{function e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}t.exports=e},1717:t=>{function e(t){return function(e){return t(e)}}t.exports=e},4757:t=>{function e(t,e){return t.has(e)}t.exports=e},4852:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},7114:(t,e,r)=>{var n=r(8668),o=r(2908),a=r(4757),s=1,u=2;function l(t,e,r,l,c,f){var d=r&s,p=t.length,h=e.length;if(p!=h&&!(d&&h>p))return!1;var y=f.get(t),g=f.get(e);if(y&&g)return y==e&&g==t;var m=-1,_=!0,b=r&u?new n:void 0;for(f.set(t,e),f.set(e,t);++m<p;){var w=t[m],E=e[m];if(l)var v=d?l(E,w,m,e,t,f):l(w,E,m,t,e,f);if(void 0!==v){if(v)continue;_=!1;break}if(b){if(!o(e,function(t,e){if(!a(b,e)&&(w===t||c(w,t,r,l,f)))return b.push(e)})){_=!1;break}}else if(!(w===E||c(w,E,r,l,f))){_=!1;break}}return f.delete(t),f.delete(e),_}t.exports=l},8351:(t,e,r)=>{var n=r(2705),o=r(1149),a=r(7813),s=r(7114),u=r(8776),l=r(1814),c=1,f=2,d="[object Boolean]",p="[object Date]",h="[object Error]",y="[object Map]",g="[object Number]",m="[object RegExp]",_="[object Set]",b="[object String]",w="[object Symbol]",E="[object ArrayBuffer]",v="[object DataView]",S=n?n.prototype:void 0,T=S?S.valueOf:void 0;function O(t,e,r,n,S,O,A){switch(r){case v:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case E:if(t.byteLength!=e.byteLength||!O(new o(t),new o(e)))break;return!0;case d:case p:case g:return a(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case y:var I=u;case _:var N=n&c;if(I||(I=l),t.size!=e.size&&!N)break;var D=A.get(t);if(D)return D==e;n|=f,A.set(t,e);var R=s(I(t),I(e),n,S,O,A);return A.delete(t),R;case w:if(T)return T.call(t)==T.call(e)}return!1}t.exports=O},6096:(t,e,r)=>{var n=r(8234),o=1,a=Object.prototype.hasOwnProperty;function s(t,e,r,s,u,l){var c=r&o,f=n(t),d=f.length;if(d!=n(e).length&&!c)return!1;for(var p=d;p--;){var h=f[p];if(!(c?h in e:a.call(e,h)))return!1}var y=l.get(t),g=l.get(e);if(y&&g)return y==e&&g==t;var m=!0;l.set(t,e),l.set(e,t);for(var _=c;++p<d;){var b=t[h=f[p]],w=e[h];if(s)var E=c?s(w,b,h,e,t,l):s(b,w,h,t,e,l);if(!(void 0===E?b===w||u(b,w,r,s,l):E)){m=!1;break}_||(_="constructor"==h)}if(m&&!_){var v=t.constructor,S=e.constructor;v!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof S&&S instanceof S)&&(m=!1)}return l.delete(t),l.delete(e),m}t.exports=s},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),a=r(3674);function s(t){return n(t,a,o)}t.exports=s},5050:(t,e,r)=>{var n=r(7019);function o(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}t.exports=o},1499:(t,e,r)=>{var n=r(9162),o=r(3674);function a(t){for(var e=o(t),r=e.length;r--;){var a=e[r],s=t[a];e[r]=[a,s,n(s)]}return e}t.exports=a},852:(t,e,r)=>{var n=r(8458),o=r(7801);function a(t,e){var r=o(t,e);return n(r)?r:void 0}t.exports=a},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=n?n.toStringTag:void 0;function l(t){var e=a.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[u]=r:delete t[u]),o}t.exports=l},9551:(t,e,r)=>{var n=r(4963),o=r(479),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:n(s(t=Object(t)),function(e){return a.call(t,e)})}:o;t.exports=u},4160:(t,e,r)=>{var n=r(8552),o=r(7071),a=r(3818),s=r(8525),u=r(577),l=r(4239),c=r(346),f="[object Map]",d="[object Object]",p="[object Promise]",h="[object Set]",y="[object WeakMap]",g="[object DataView]",m=c(n),_=c(o),b=c(a),w=c(s),E=c(u),v=l;(n&&v(new n(new ArrayBuffer(1)))!=g||o&&v(new o)!=f||a&&v(a.resolve())!=p||s&&v(new s)!=h||u&&v(new u)!=y)&&(v=function(t){var e=l(t),r=e==d?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return g;case _:return f;case b:return p;case w:return h;case E:return y}return e}),t.exports=v},7801:t=>{function e(t,e){return null==t?void 0:t[e]}t.exports=e},1789:(t,e,r)=>{var n=r(4536);function o(){this.__data__=n?n(null):{},this.size=0}t.exports=o},401:t=>{function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},7667:(t,e,r)=>{var n=r(4536),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;function s(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return a.call(e,t)?e[t]:void 0}t.exports=s},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;function a(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}t.exports=a},1866:(t,e,r)=>{var n=r(4536),o="__lodash_hash_undefined__";function a(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}t.exports=a},5776:t=>{var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,n){var o=typeof t;return!!(n=null==n?e:n)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<n}t.exports=n},7019:t=>{function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},5346:(t,e,r)=>{var n=r(4852),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a(t){return!!o&&o in t}t.exports=a},5726:t=>{var e=Object.prototype;function r(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}t.exports=r},9162:(t,e,r)=>{var n=r(3218);function o(t){return t==t&&!n(t)}t.exports=o},7040:t=>{function e(){this.__data__=[],this.size=0}t.exports=e},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;function a(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}t.exports=a},2117:(t,e,r)=>{var n=r(8470);function o(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}t.exports=o},7518:(t,e,r)=>{var n=r(8470);function o(t){return n(this.__data__,t)>-1}t.exports=o},4705:(t,e,r)=>{var n=r(8470);function o(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}t.exports=o},4785:(t,e,r)=>{var n=r(1989),o=r(8407),a=r(7071);function s(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}t.exports=s},1285:(t,e,r)=>{var n=r(5050);function o(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}t.exports=o},6e3:(t,e,r)=>{var n=r(5050);function o(t){return n(this,t).get(t)}t.exports=o},9916:(t,e,r)=>{var n=r(5050);function o(t){return n(this,t).has(t)}t.exports=o},5265:(t,e,r)=>{var n=r(5050);function o(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}t.exports=o},8776:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}t.exports=e},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o&&n.process,u=function(){try{var t=a&&a.require&&a.require("util").types;if(t)return t;return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;function r(t){return e.call(t)}t.exports=r},5569:t=>{function e(t,e){return function(r){return t(e(r))}}t.exports=e},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},619:t=>{var e="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,e),this}t.exports=r},2385:t=>{function e(t){return this.__data__.has(t)}t.exports=e},1814:t=>{function e(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}t.exports=e},7465:(t,e,r)=>{var n=r(8407);function o(){this.__data__=new n,this.size=0}t.exports=o},3779:t=>{function e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=e},7599:t=>{function e(t){return this.__data__.get(t)}t.exports=e},4758:t=>{function e(t){return this.__data__.has(t)}t.exports=e},4309:(t,e,r)=>{var n=r(8407),o=r(7071),a=r(3369),s=200;function u(t,e){var r=this.__data__;if(r instanceof n){var u=r.__data__;if(!o||u.length<s-1)return u.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(u)}return r.set(t,e),this.size=r.size,this}t.exports=u},346:t=>{var e=Function.prototype.toString;function r(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=r},7813:t=>{function e(t,e){return t===e||t!=t&&e!=e}t.exports=e},5694:(t,e,r)=>{var n=r(9454),o=r(7005),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!u.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},1240:(t,e,r)=>{var n=r(3560),o=r(1780);function a(t){return null!=t&&o(t.length)&&!n(t)}t.exports=a},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),a=e&&!e.nodeType&&e,s=a&&t&&!t.nodeType&&t,u=s&&s.exports===a?n.Buffer:void 0,l=(u?u.isBuffer:void 0)||o;t.exports=l},3560:(t,e,r)=>{var n=r(4239),o=r(3218),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";function c(t){if(!o(t))return!1;var e=n(t);return e==s||e==u||e==a||e==l}t.exports=c},1780:t=>{var e=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}t.exports=r},6379:(t,e,r)=>{var n=r(2958),o=r(1499);function a(t,e){return t===e||n(t,e,o(e))}t.exports=a},3218:t=>{function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},7005:t=>{function e(t){return null!=t&&"object"==typeof t}t.exports=e},6719:(t,e,r)=>{var n=r(8749),o=r(1717),a=r(1167),s=a&&a.isTypedArray,u=s?o(s):n;t.exports=u},3674:(t,e,r)=>{var n=r(4636),o=r(280),a=r(1240);function s(t){return a(t)?n(t):o(t)}t.exports=s},479:t=>{function e(){return[]}t.exports=e},5062:t=>{function e(){return!1}t.exports=e},9593:(t,e,r)=>{"use strict";let n=r(3908),o=Symbol("max"),a=Symbol("length"),s=Symbol("lengthCalculator"),u=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),f=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),y=()=>1;class g{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw TypeError("max must be a non-negative number");this[o]=t.max||1/0;let e=t.length||y;if(this[s]="function"!=typeof e?y:e,this[u]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[c]=t.dispose,this[f]=t.noDisposeOnSet||!1,this[h]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw TypeError("max must be a non-negative number");this[o]=t||1/0,b(this)}get max(){return this[o]}set allowStale(t){this[u]=!!t}get allowStale(){return this[u]}set maxAge(t){if("number"!=typeof t)throw TypeError("maxAge must be a non-negative number");this[l]=t,b(this)}get maxAge(){return this[l]}set lengthCalculator(t){"function"!=typeof t&&(t=y),t!==this[s]&&(this[s]=t,this[a]=0,this[d].forEach(t=>{t.length=this[s](t.value,t.key),this[a]+=t.length})),b(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(t,e){e=e||this;for(let r=this[d].tail;null!==r;){let n=r.prev;v(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[d].head;null!==r;){let n=r.next;v(this,t,r,e),r=n}}keys(){return this[d].toArray().map(t=>t.key)}values(){return this[d].toArray().map(t=>t.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(t=>this[c](t.key,t.value)),this[p]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(t=>!_(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[d]}set(t,e,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,u=this[s](e,t);if(this[p].has(t)){if(u>this[o])return w(this,this[p].get(t)),!1;let s=this[p].get(t).value;return this[c]&&!this[f]&&this[c](t,s.value),s.now=n,s.maxAge=r,s.value=e,this[a]+=u-s.length,s.length=u,this.get(t),b(this),!0}let h=new E(t,e,u,n,r);return h.length>this[o]?(this[c]&&this[c](t,e),!1):(this[a]+=h.length,this[d].unshift(h),this[p].set(t,this[d].head),b(this),!0)}has(t){return!!this[p].has(t)&&!_(this,this[p].get(t).value)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){let t=this[d].tail;return t?(w(this,t),t.value):null}del(t){w(this,this[p].get(t))}load(t){this.reset();let e=Date.now();for(let r=t.length-1;r>=0;r--){let n=t[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{let t=o-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[p].forEach((t,e)=>m(this,e,!1))}}let m=(t,e,r)=>{let n=t[p].get(e);if(n){let e=n.value;if(_(t,e)){if(w(t,n),!t[u])return}else r&&(t[h]&&(n.value.now=Date.now()),t[d].unshiftNode(n));return e.value}},_=(t,e)=>{if(!e||!e.maxAge&&!t[l])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[l]&&r>t[l]},b=t=>{if(t[a]>t[o])for(let e=t[d].tail;t[a]>t[o]&&null!==e;){let r=e.prev;w(t,e),e=r}},w=(t,e)=>{if(e){let r=e.value;t[c]&&t[c](r.key,r.value),t[a]-=r.length,t[p].delete(r.key),t[d].removeNode(e)}};class E{constructor(t,e,r,n,o){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=o||0}}let v=(t,e,r,n)=>{let o=r.value;_(t,o)&&(w(t,r),t[u]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};t.exports=g},6520:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},3908:(t,e,r)=>{"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}function o(t,e,r){var n=e===t.head?new u(r,null,e,t):new u(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function a(t,e){t.tail=new u(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new u(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function u(t,e,r,n){if(!(this instanceof u))return new u(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=u,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)a(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,o=this.head;null!==o;)r.push(t.call(e,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,o=this.tail;null!==o;)r.push(t.call(e,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=0;null!==n;o++)r=t(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;null!==n;o--)r=t(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var t=Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,a=this.head;null!==a&&o<t;o++)a=a.next;for(;null!==a&&o<e;o++,a=a.next)r.push(a.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,a=this.tail;null!==a&&o>e;o--)a=a.prev;for(;null!==a&&o>t;o--,a=a.prev)r.push(a.value);return r},n.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,n=this.head;null!==n&&r<t;r++)n=n.next;for(var a=[],r=0;n&&r<e;r++)a.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var r=2;r<arguments.length;r++)n=o(this,n,arguments[r]);return a},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(6520)(n)}catch(t){}},2568:(t,e,r)=>{!function(){var e=r(1012),n=r(487).utf8,o=r(76),a=r(487).bin,s=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?a.stringToBytes(t):n.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var u=e.bytesToWords(t),l=8*t.length,c=1732584193,f=-271733879,d=-1732584194,p=271733878,h=0;h<u.length;h++)u[h]=(u[h]<<8|u[h]>>>24)&16711935|(u[h]<<24|u[h]>>>8)&4278255360;u[l>>>5]|=128<<l%32,u[(l+64>>>9<<4)+14]=l;for(var y=s._ff,g=s._gg,m=s._hh,_=s._ii,h=0;h<u.length;h+=16){var b=c,w=f,E=d,v=p;c=y(c,f,d,p,u[h+0],7,-680876936),p=y(p,c,f,d,u[h+1],12,-389564586),d=y(d,p,c,f,u[h+2],17,606105819),f=y(f,d,p,c,u[h+3],22,-1044525330),c=y(c,f,d,p,u[h+4],7,-176418897),p=y(p,c,f,d,u[h+5],12,1200080426),d=y(d,p,c,f,u[h+6],17,-1473231341),f=y(f,d,p,c,u[h+7],22,-45705983),c=y(c,f,d,p,u[h+8],7,1770035416),p=y(p,c,f,d,u[h+9],12,-1958414417),d=y(d,p,c,f,u[h+10],17,-42063),f=y(f,d,p,c,u[h+11],22,-1990404162),c=y(c,f,d,p,u[h+12],7,1804603682),p=y(p,c,f,d,u[h+13],12,-40341101),d=y(d,p,c,f,u[h+14],17,-1502002290),f=y(f,d,p,c,u[h+15],22,1236535329),c=g(c,f,d,p,u[h+1],5,-165796510),p=g(p,c,f,d,u[h+6],9,-1069501632),d=g(d,p,c,f,u[h+11],14,643717713),f=g(f,d,p,c,u[h+0],20,-373897302),c=g(c,f,d,p,u[h+5],5,-701558691),p=g(p,c,f,d,u[h+10],9,38016083),d=g(d,p,c,f,u[h+15],14,-660478335),f=g(f,d,p,c,u[h+4],20,-405537848),c=g(c,f,d,p,u[h+9],5,568446438),p=g(p,c,f,d,u[h+14],9,-1019803690),d=g(d,p,c,f,u[h+3],14,-187363961),f=g(f,d,p,c,u[h+8],20,1163531501),c=g(c,f,d,p,u[h+13],5,-1444681467),p=g(p,c,f,d,u[h+2],9,-51403784),d=g(d,p,c,f,u[h+7],14,1735328473),f=g(f,d,p,c,u[h+12],20,-1926607734),c=m(c,f,d,p,u[h+5],4,-378558),p=m(p,c,f,d,u[h+8],11,-2022574463),d=m(d,p,c,f,u[h+11],16,1839030562),f=m(f,d,p,c,u[h+14],23,-35309556),c=m(c,f,d,p,u[h+1],4,-1530992060),p=m(p,c,f,d,u[h+4],11,1272893353),d=m(d,p,c,f,u[h+7],16,-155497632),f=m(f,d,p,c,u[h+10],23,-1094730640),c=m(c,f,d,p,u[h+13],4,681279174),p=m(p,c,f,d,u[h+0],11,-358537222),d=m(d,p,c,f,u[h+3],16,-722521979),f=m(f,d,p,c,u[h+6],23,76029189),c=m(c,f,d,p,u[h+9],4,-640364487),p=m(p,c,f,d,u[h+12],11,-421815835),d=m(d,p,c,f,u[h+15],16,530742520),f=m(f,d,p,c,u[h+2],23,-995338651),c=_(c,f,d,p,u[h+0],6,-198630844),p=_(p,c,f,d,u[h+7],10,1126891415),d=_(d,p,c,f,u[h+14],15,-1416354905),f=_(f,d,p,c,u[h+5],21,-57434055),c=_(c,f,d,p,u[h+12],6,1700485571),p=_(p,c,f,d,u[h+3],10,-1894986606),d=_(d,p,c,f,u[h+10],15,-1051523),f=_(f,d,p,c,u[h+1],21,-2054922799),c=_(c,f,d,p,u[h+8],6,1873313359),p=_(p,c,f,d,u[h+15],10,-30611744),d=_(d,p,c,f,u[h+6],15,-1560198380),f=_(f,d,p,c,u[h+13],21,1309151649),c=_(c,f,d,p,u[h+4],6,-145523070),p=_(p,c,f,d,u[h+11],10,-1120210379),d=_(d,p,c,f,u[h+2],15,718787259),f=_(f,d,p,c,u[h+9],21,-343485551),c=c+b>>>0,f=f+w>>>0,d=d+E>>>0,p=p+v>>>0}return e.endian([c,f,d,p])};s._ff=function(t,e,r,n,o,a,s){var u=t+(e&r|~e&n)+(o>>>0)+s;return(u<<a|u>>>32-a)+e},s._gg=function(t,e,r,n,o,a,s){var u=t+(e&n|r&~n)+(o>>>0)+s;return(u<<a|u>>>32-a)+e},s._hh=function(t,e,r,n,o,a,s){var u=t+(e^r^n)+(o>>>0)+s;return(u<<a|u>>>32-a)+e},s._ii=function(t,e,r,n,o,a,s){var u=t+(r^(e|~n))+(o>>>0)+s;return(u<<a|u>>>32-a)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,r){if(null==t)throw Error("Illegal argument "+t);var n=e.wordsToBytes(s(t,r));return r&&r.asBytes?n:r&&r.asString?a.bytesToString(n):e.bytesToHex(n)}}()},76:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(e(t)||r(t)||!!t._isBuffer)}},832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dirent=void 0;var n=r(5561),o=r(9568),a=n.constants.S_IFMT,s=n.constants.S_IFDIR,u=n.constants.S_IFREG,l=n.constants.S_IFBLK,c=n.constants.S_IFCHR,f=n.constants.S_IFLNK,d=n.constants.S_IFIFO,p=n.constants.S_IFSOCK,h=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var n=new t,a=e.getNode().mode;return n.name=(0,o.strToEncoding)(e.getName(),r),n.mode=a,n},t.prototype._checkModeProperty=function(t){return(this.mode&a)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(u)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(l)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(c)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(f)},t.prototype.isFIFO=function(){return this._checkModeProperty(d)},t.prototype.isSocket=function(){return this._checkModeProperty(p)},t}();e.Dirent=h,e.default=h},1507:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=void 0;var n=r(5561),o=r(3103),a=n.constants.S_IFMT,s=n.constants.S_IFDIR,u=n.constants.S_IFREG,l=n.constants.S_IFBLK,c=n.constants.S_IFCHR,f=n.constants.S_IFLNK,d=n.constants.S_IFIFO,p=n.constants.S_IFSOCK,h=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var n=new t,a=e.uid,s=e.gid,u=e.atime,l=e.mtime,c=e.ctime,f=r?o.default:function(t){return t};n.uid=f(a),n.gid=f(s),n.rdev=f(0),n.blksize=f(4096),n.ino=f(e.ino),n.size=f(e.getSize()),n.blocks=f(1),n.atime=u,n.mtime=l,n.ctime=c,n.birthtime=c,n.atimeMs=f(u.getTime()),n.mtimeMs=f(l.getTime());var d=f(c.getTime());return n.ctimeMs=d,n.birthtimeMs=d,n.dev=f(0),n.mode=f(e.mode),n.nlink=f(e.nlink),n},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&a)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(s)},t.prototype.isFile=function(){return this._checkModeProperty(u)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(l)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(c)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(f)},t.prototype.isFIFO=function(){return this._checkModeProperty(d)},t.prototype.isSocket=function(){return this._checkModeProperty(p)},t}();e.Stats=h,e.default=h},5561:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.constants=void 0,e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},9568:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strToEncoding=e.assertEncoding=e.ENCODING_UTF8=void 0;var n=r(6426),o=r(6978);function a(t){if(t&&!n.Buffer.isEncoding(t))throw new o.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)}function s(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new n.Buffer(t):new n.Buffer(t).toString(r):t}e.ENCODING_UTF8="utf8",e.assertEncoding=a,e.strToEncoding=s},3103:(t,e)=>{"function"==typeof BigInt?e.default=BigInt:e.default=function(){throw Error("BigInt is not supported in this environment.")}},6551:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.fs=e.createFsFromVolume=e.vol=e.Volume=void 0;var o=r(1507),a=r(832),s=r(6898),u=r(5659),l=u.fsSyncMethods,c=u.fsAsyncMethods,f=r(5561),d=f.constants.F_OK,p=f.constants.R_OK,h=f.constants.W_OK,y=f.constants.X_OK;function g(t){for(var e={F_OK:d,R_OK:p,W_OK:h,X_OK:y,constants:f.constants,Stats:o.default,Dirent:a.default},r=0,n=l;r<n.length;r++){var u=n[r];"function"==typeof t[u]&&(e[u]=t[u].bind(t))}for(var g=0,m=c;g<m.length;g++){var u=m[g];"function"==typeof t[u]&&(e[u]=t[u].bind(t))}return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=s.toUnixTimestamp,e}e.Volume=s.Volume,e.vol=new s.Volume,e.createFsFromVolume=g,e.fs=g(e.vol),t.exports=n(n({},t.exports),e.fs),t.exports.semantic=!0},6426:function(t,e,r){"use strict";var n=this&&this.__spreadArray||function(t,e,r){if(r||2==arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferFrom=e.bufferAllocUnsafe=e.Buffer=void 0;var o=r(8764);function a(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(o.Buffer.bind.apply(o.Buffer,n([void 0,t],e,!1)))}Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return o.Buffer}});var s=o.Buffer.allocUnsafe||a;e.bufferAllocUnsafe=s;var u=o.Buffer.from||a;e.bufferFrom=u},6978:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.E=e.AssertionError=e.message=e.RangeError=e.TypeError=e.Error=void 0;var o=r(9282),a=r(9539),s="undefined"==typeof Symbol?"_kCode":Symbol("code"),u={};function l(t){return function(t){function e(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=t.call(this,d(e,r))||this;return o.code=e,o[s]=e,o.name="".concat(t.prototype.name," [").concat(o[s],"]"),o}return n(e,t),e}(t)}var c="undefined"!=typeof globalThis?globalThis:r.g,f=function(t){function r(r){var n=this;if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");return(n=r.message?t.call(this,r.message)||this:t.call(this,"".concat(a.inspect(r.actual).slice(0,128)," ")+"".concat(r.operator," ").concat(a.inspect(r.expected).slice(0,128)))||this).generatedMessage=!r.message,n.name="AssertionError [ERR_ASSERTION]",n.code="ERR_ASSERTION",n.actual=r.actual,n.expected=r.expected,n.operator=r.operator,e.Error.captureStackTrace(n,r.stackStartFunction),n}return n(r,t),r}(c.Error);function d(t,e){o.strictEqual(typeof t,"string");var r,n=u[t];if(o(n,"An invalid error message key was used: ".concat(t,".")),"function"==typeof n)r=n;else{if(r=a.format,void 0===e||0===e.length)return n;e.unshift(n)}return String(r.apply(null,e))}function p(t,e){u[t]="function"==typeof e?e:String(e)}function h(t,e,r){if(o(t,"name is required"),e.includes("not ")?(n="must not be",e=e.split("not ")[1]):n="must be",Array.isArray(t)){var n,a,s=t.map(function(t){return'"'.concat(t,'"')}).join(", ");a="The ".concat(s," arguments ").concat(n," ").concat(g(e,"type"))}else if(t.includes(" argument"))a="The ".concat(t," ").concat(n," ").concat(g(e,"type"));else{var u=t.includes(".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(n," ").concat(g(e,"type"))}return arguments.length>=3&&(a+=". Received type ".concat(null!==r?typeof r:"null")),a}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o(t.length>0,"At least one arg needs to be specified");var r="The ",n=t.length;switch(t=t.map(function(t){return'"'.concat(t,'"')}),n){case 1:r+="".concat(t[0]," argument");break;case 2:r+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:r+=t.slice(0,n-1).join(", ")+", and ".concat(t[n-1]," arguments")}return"".concat(r," must be specified")}function g(t,e){if(o(t,"expected is required"),o("string"==typeof e,"thing is required"),!Array.isArray(t))return"of ".concat(e," ").concat(String(t));var r=t.length;return(o(r>0,"At least one expected value needs to be specified"),t=t.map(function(t){return String(t)}),r>2)?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}function m(t,e){return e?"Attempt to write outside buffer bounds":'"'.concat(t,'" is outside of buffer bounds')}e.AssertionError=f,e.message=d,e.E=p,e.Error=l(c.Error),e.TypeError=l(c.TypeError),e.RangeError=l(c.RangeError),p("ERR_ARG_NOT_ITERABLE","%s must be iterable"),p("ERR_ASSERTION","%s"),p("ERR_BUFFER_OUT_OF_BOUNDS",m),p("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),p("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),p("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),p("ERR_DNS_SET_SERVERS_FAILED",function(t,e){return'c-ares failed to set servers: "'.concat(t,'" [').concat(e,"]")}),p("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),p("ERR_ENCODING_NOT_SUPPORTED",function(t){return'The "'.concat(t,'" encoding is not supported')}),p("ERR_ENCODING_INVALID_ENCODED_DATA",function(t){return"The encoded data was not valid for encoding ".concat(t)}),p("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),p("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),p("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),p("ERR_INDEX_OUT_OF_RANGE","Index out of range"),p("ERR_INVALID_ARG_TYPE",h),p("ERR_INVALID_ARRAY_LENGTH",function(t,e,r){return o.strictEqual(typeof r,"number"),'The array "'.concat(t,'" (length ').concat(r,") must be of length ").concat(e,".")}),p("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),p("ERR_INVALID_CALLBACK","Callback must be a function"),p("ERR_INVALID_CHAR","Invalid character in %s"),p("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),p("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),p("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),p("ERR_INVALID_FILE_URL_PATH","File URL path %s"),p("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),p("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),p("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'.concat(String(e),'" is invalid for option "').concat(t,'"')}),p("ERR_INVALID_OPT_VALUE_ENCODING",function(t){return'The value "'.concat(String(t),'" is invalid for option "encoding"')}),p("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),p("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),p("ERR_INVALID_THIS",'Value of "this" must be of type %s'),p("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),p("ERR_INVALID_URL","Invalid URL: %s"),p("ERR_INVALID_URL_SCHEME",function(t){return"The URL must be ".concat(g(t,"scheme"))}),p("ERR_IPC_CHANNEL_CLOSED","Channel closed"),p("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),p("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),p("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),p("ERR_MISSING_ARGS",y),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),p("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),p("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),p("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),p("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),p("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),p("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),p("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),p("ERR_SOCKET_CANNOT_SEND","Unable to send data"),p("ERR_SOCKET_CLOSED","Socket is closed"),p("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),p("ERR_STDERR_CLOSE","process.stderr cannot be closed"),p("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),p("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),p("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),p("ERR_TLS_DH_PARAM_SIZE",function(t){return"DH parameter size ".concat(t," is less than 2048")}),p("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),p("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),p("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),p("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),p("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),p("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),p("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),p("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),p("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),p("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")},1172:function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.File=e.Link=e.Node=e.SEP=void 0;var o=r(4880),a=r(6426),s=r(5561),u=r(7187),l=r(1507),c=s.constants.S_IFMT,f=s.constants.S_IFDIR,d=s.constants.S_IFREG,p=s.constants.S_IFLNK,h=s.constants.O_APPEND,y=function(){var t,e;return null!==(e=null===(t=o.default.getuid)||void 0===t?void 0:t.call(o.default))&&void 0!==e?e:0},g=function(){var t,e;return null!==(e=null===(t=o.default.getgid)||void 0===t?void 0:t.call(o.default))&&void 0!==e?e:0};e.SEP="/";var m=function(t){function e(e,r){void 0===r&&(r=438);var n=t.call(this)||this;return n._uid=y(),n._gid=g(),n._atime=new Date,n._mtime=new Date,n._ctime=new Date,n._perm=438,n.mode=d,n._nlink=1,n._perm=r,n.mode|=r,n.ino=e,n}return n(e,t),Object.defineProperty(e.prototype,"ctime",{get:function(){return this._ctime},set:function(t){this._ctime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},set:function(t){this._uid=t,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gid",{get:function(){return this._gid},set:function(t){this._gid=t,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"atime",{get:function(){return this._atime},set:function(t){this._atime=t,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mtime",{get:function(){return this._mtime},set:function(t){this._mtime=t,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"perm",{get:function(){return this._perm},set:function(t){this._perm=t,this.ctime=new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nlink",{get:function(){return this._nlink},set:function(t){this._nlink=t,this.ctime=new Date},enumerable:!1,configurable:!0}),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.atime=new Date,this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=(0,a.bufferFrom)(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.atime=new Date,this.buf||this.setBuffer((0,a.bufferAllocUnsafe)(0)),(0,a.bufferFrom)(this.buf)},e.prototype.setBuffer=function(t){this.buf=(0,a.bufferFrom)(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~c|t},e.prototype.setIsFile=function(){this.setModeProperty(d)},e.prototype.setIsDirectory=function(){this.setModeProperty(f)},e.prototype.setIsSymlink=function(){this.setModeProperty(p)},e.prototype.isFile=function(){return(this.mode&c)===d},e.prototype.isDirectory=function(){return(this.mode&c)===f},e.prototype.isSymlink=function(){return(this.mode&c)===p},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===n&&(n=0),this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0)),n+r>this.buf.length){var o=(0,a.bufferAllocUnsafe)(n+r);this.buf.copy(o,0,0,this.buf.length),this.buf=o}return t.copy(this.buf,n,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===n&&(n=0),this.atime=new Date,this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0));var o=r;return o>t.byteLength&&(o=t.byteLength),o+n>this.buf.length&&(o=this.buf.length-n),this.buf.copy(t,e,n,n+o),o},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t){if(this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=(0,a.bufferAllocUnsafe)(t);this.buf.copy(e),e.fill(0,this.buf.length),this.buf=e}}else this.buf=(0,a.bufferAllocUnsafe)(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=y()),void 0===e&&(e=g()),!!(4&this.perm)||e===this.gid&&!!(32&this.perm)||t===this.uid&&!!(256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=y()),void 0===e&&(e=g()),!!(2&this.perm)||e===this.gid&&!!(16&this.perm)||t===this.uid&&!!(128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(u.EventEmitter);e.Node=m;var _=function(t){function r(e,r,n){var o=t.call(this)||this;return o.children={},o._steps=[],o.ino=0,o.length=0,o.vol=e,o.parent=r,o.name=n,o.syncSteps(),o}return n(r,t),Object.defineProperty(r.prototype,"steps",{get:function(){return this._steps},set:function(t){this._steps=t;for(var e=0,r=Object.entries(this.children);e<r.length;e++){var n=r[e],o=n[0],a=n[1];"."!==o&&".."!==o&&(null==a||a.syncSteps())}},enumerable:!1,configurable:!0}),r.prototype.setNode=function(t){this.node=t,this.ino=t.ino},r.prototype.getNode=function(){return this.node},r.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var n=new r(this.vol,this,t);return n.setNode(e),e.isDirectory()&&(n.children["."]=n,n.getNode().nlink++),this.setChild(t,n),n},r.prototype.setChild=function(t,e){return void 0===e&&(e=new r(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,e.getNode().isDirectory()&&(e.children[".."]=this,this.getNode().nlink++),this.getNode().mtime=new Date,this.emit("child:add",e,this),e},r.prototype.deleteChild=function(t){t.getNode().isDirectory()&&(delete t.children[".."],this.getNode().nlink--),delete this.children[t.getName()],this.length--,this.getNode().mtime=new Date,this.emit("child:delete",t,this)},r.prototype.getChild=function(t){if(this.getNode().mtime=new Date,Object.hasOwnProperty.call(this.children,t))return this.children[t]},r.prototype.getPath=function(){return this.steps.join(e.SEP)},r.prototype.getName=function(){return this.steps[this.steps.length-1]},r.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length||r>=e)return this;var n=t[r],o=this.getChild(n);return o?o.walk(t,e,r+1):null},r.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},r.prototype.syncSteps=function(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]},r}(u.EventEmitter);e.Link=_;var b=function(){function t(t,e,r,n){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=n}return t.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return l.default.build(this.node)},t.prototype.write=function(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof n&&(n=this.position),this.flags&h&&(n=this.getSize());var o=this.node.write(t,e,r,n);return this.position=n+o,o},t.prototype.read=function(t,e,r,n){void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof n&&(n=this.position);var o=this.node.read(t,e,r,n);return this.position=n+o,o},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}();e.File=b},4880:(t,e,r)=>{"use strict";var n=r(4155);Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=void 0;var o=function(){if(void 0!==n)return n;try{return r(4155)}catch(t){return}};function a(){var t=o()||{};return t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=r(6015).default),t.emitWarning||(t.emitWarning=function(t,e){console.warn("".concat(e).concat(e?": ":"").concat(t))}),t.env||(t.env={}),t}e.createProcess=a,e.default=a()},6133:function(t,e){"use strict";var r=this&&this.__spreadArray||function(t,e,r){if(r||2==arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};function n(t,e,n){return void 0===n&&(n=function(t){return t}),function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return new Promise(function(a,s){t[e].bind(t).apply(void 0,r(r([],o,!1),[function(t,e){return t?s(t):a(n(e))}],!1))})}}Object.defineProperty(e,"__esModule",{value:!0}),e.FileHandle=void 0;var o=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return n(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return n(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return n(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return n(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return n(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,r,o){return n(this.vol,"read",function(e){return{bytesRead:e,buffer:t}})(this.fd,t,e,r,o)},t.prototype.readFile=function(t){return n(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return n(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return n(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return n(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return n(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,r,o){return n(this.vol,"write",function(e){return{bytesWritten:e,buffer:t}})(this.fd,t,e,r,o)},t.prototype.writeFile=function(t,e){return n(this.vol,"writeFile")(this.fd,t,e)},t}();function a(t){return"undefined"==typeof Promise?null:{FileHandle:o,access:function(e,r){return n(t,"access")(e,r)},appendFile:function(e,r,a){return n(t,"appendFile")(e instanceof o?e.fd:e,r,a)},chmod:function(e,r){return n(t,"chmod")(e,r)},chown:function(e,r,o){return n(t,"chown")(e,r,o)},copyFile:function(e,r,o){return n(t,"copyFile")(e,r,o)},lchmod:function(e,r){return n(t,"lchmod")(e,r)},lchown:function(e,r,o){return n(t,"lchown")(e,r,o)},link:function(e,r){return n(t,"link")(e,r)},lstat:function(e,r){return n(t,"lstat")(e,r)},mkdir:function(e,r){return n(t,"mkdir")(e,r)},mkdtemp:function(e,r){return n(t,"mkdtemp")(e,r)},open:function(e,r,a){return n(t,"open",function(e){return new o(t,e)})(e,r,a)},readdir:function(e,r){return n(t,"readdir")(e,r)},readFile:function(e,r){return n(t,"readFile")(e instanceof o?e.fd:e,r)},readlink:function(e,r){return n(t,"readlink")(e,r)},realpath:function(e,r){return n(t,"realpath")(e,r)},rename:function(e,r){return n(t,"rename")(e,r)},rmdir:function(e){return n(t,"rmdir")(e)},rm:function(e,r){return n(t,"rm")(e,r)},stat:function(e,r){return n(t,"stat")(e,r)},symlink:function(e,r,o){return n(t,"symlink")(e,r,o)},truncate:function(e,r){return n(t,"truncate")(e,r)},unlink:function(e){return n(t,"unlink")(e)},utimes:function(e,r,o){return n(t,"utimes")(e,r,o)},writeFile:function(e,r,a){return n(t,"writeFile")(e instanceof o?e.fd:e,r,a)}}}e.FileHandle=o,e.default=a},6015:(t,e,r)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),n="function"==typeof setImmediate?setImmediate.bind("undefined"!=typeof globalThis?globalThis:r.g):setTimeout.bind("undefined"!=typeof globalThis?globalThis:r.g),e.default=n},8369:(t,e,r)=>{"use strict";function n(t,e,n){var o=setTimeout.apply("undefined"!=typeof globalThis?globalThis:r.g,arguments);return o&&"object"==typeof o&&"function"==typeof o.unref&&o.unref(),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},6898:function(t,e,r){"use strict";var n,o,a=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=this&&this.__spreadArray||function(t,e,r){if(r||2==arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.FSWatcher=e.StatWatcher=e.Volume=e.toUnixTimestamp=e.bufferToEncoding=e.dataToBuffer=e.dataToStr=e.pathToSteps=e.filenameToSteps=e.pathToFilename=e.flagsToNumber=e.FLAGS=void 0;var u=r(6470),l=r(1172),c=r(1507),f=r(832),d=r(6426),p=r(6015),h=r(4880),y=r(8369),g=r(2830),m=r(5561),_=r(7187),b=r(9568),w=r(6978),E=r(9539),v=r(6133),S=u.resolve,T=m.constants.O_RDONLY,O=m.constants.O_WRONLY,A=m.constants.O_RDWR,I=m.constants.O_CREAT,N=m.constants.O_EXCL,D=m.constants.O_TRUNC,R=m.constants.O_APPEND,C=m.constants.O_SYNC,M=m.constants.O_DIRECTORY,x=m.constants.F_OK,k=m.constants.COPYFILE_EXCL,L=m.constants.COPYFILE_FICLONE_FORCE,F=u.posix?u.posix:u,P=F.sep,B=F.relative,U=F.join,j=F.dirname,W="win32"===h.default.platform,H=128,z={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int"},V=function(t){return"Expected options to be either an object or a string, but got ".concat(t," instead")},$="ENOENT",q="EBADF",G="EINVAL",Y="EPERM",K="EPROTO",Z="EEXIST",J="ENOTDIR",X="EMFILE",Q="EACCES",tt="EISDIR",te="ENOTEMPTY",tr="ENOSYS",tn="ERR_FS_EISDIR";function ti(t,e,r,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n="");var o="";switch(r&&(o=" '".concat(r,"'")),n&&(o+=" -> '".concat(n,"'")),t){case $:return"ENOENT: no such file or directory, ".concat(e).concat(o);case q:return"EBADF: bad file descriptor, ".concat(e).concat(o);case G:return"EINVAL: invalid argument, ".concat(e).concat(o);case Y:return"EPERM: operation not permitted, ".concat(e).concat(o);case K:return"EPROTO: protocol error, ".concat(e).concat(o);case Z:return"EEXIST: file already exists, ".concat(e).concat(o);case J:return"ENOTDIR: not a directory, ".concat(e).concat(o);case tt:return"EISDIR: illegal operation on a directory, ".concat(e).concat(o);case Q:return"EACCES: permission denied, ".concat(e).concat(o);case te:return"ENOTEMPTY: directory not empty, ".concat(e).concat(o);case X:return"EMFILE: too many open files, ".concat(e).concat(o);case tr:return"ENOSYS: function not implemented, ".concat(e).concat(o);case tn:return"[ERR_FS_EISDIR]: Path is a directory: ".concat(e," returned EISDIR (is a directory) ").concat(r);default:return"".concat(t,": error occurred, ").concat(e).concat(o)}}function to(t,e,r,n,o){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===o&&(o=Error);var a=new o(ti(t,e,r,n));return a.code=t,r&&(a.path=r),a}function ta(t){if("number"==typeof t)return t;if("string"==typeof t){var e=n[t];if(void 0!==e)return e}throw new w.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function ts(t,e){if(!e)return t;var r,n=typeof e;switch(n){case"string":r=Object.assign({},t,{encoding:e});break;case"object":r=Object.assign({},t,e);break;default:throw TypeError(V(n))}return"buffer"!==r.encoding&&(0,b.assertEncoding)(r.encoding),r}function tu(t){return function(e){return ts(t,e)}}function tl(t){if("function"!=typeof t)throw TypeError(z.CB);return t}function tc(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),tl(r)]}}!function(t){t[t.r=T]="r",t[t["r+"]=A]="r+",t[t.rs=T|C]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=A|C]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=O|I|D]="w",t[t.wx=O|I|D|N]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=A|I|D]="w+",t[t["wx+"]=A|I|D|N]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=O|R|I]="a",t[t.ax=O|R|I|N]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=A|R|I]="a+",t[t["ax+"]=A|R|I|N]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(n=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=ta;var tf={encoding:"utf8"},td=tu(tf),tp=tc(td),th=tu({flag:"r"}),ty={encoding:"utf8",mode:438,flag:n[n.w]},tg=tu(ty),tm={encoding:"utf8",mode:438,flag:n[n.a]},t_=tu(tm),tb=tc(t_),tw=tu(tf),tE=tc(tw),tv={mode:511,recursive:!1},tS=function(t){return"number"==typeof t?Object.assign({},tv,{mode:t}):Object.assign({},tv,t)},tT={recursive:!1},tO=function(t){return Object.assign({},tT,t)},tA=tc(tu(tf)),tI=tu({encoding:"utf8",withFileTypes:!1}),tN=tc(tI),tD={bigint:!1},tR=function(t){return void 0===t&&(t={}),Object.assign({},tD,t)},tC=function(t,e){return"function"==typeof t?[tR(),t]:[tR(t),tl(e)]};function tM(t){if(""!==t.hostname)throw new w.TypeError("ERR_INVALID_FILE_URL_HOST",h.default.platform);for(var e=t.pathname,r=0;r<e.length;r++)if("%"===e[r]){var n=32|e.codePointAt(r+2);if("2"===e[r+1]&&102===n)throw new w.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(e)}function tx(t){if("string"!=typeof t&&!d.Buffer.isBuffer(t)){try{if(!(t instanceof r(8119).URL))throw TypeError(z.PATH_STR)}catch(t){throw TypeError(z.PATH_STR)}t=tM(t)}var e=String(t);return tH(e),e}e.pathToFilename=tx;var tk=function(t,e){return void 0===e&&(e=h.default.cwd()),S(e,t)};if(W){var tL=tk,tF=r(4290).Z4;tk=function(t,e){return tF(tL(t,e))}}function tP(t,e){var r=tk(t,e).substring(1);return r?r.split(P):[]}function tB(t){return tP(tx(t))}function tU(t,e){return(void 0===e&&(e=b.ENCODING_UTF8),d.Buffer.isBuffer(t))?t.toString(e):t instanceof Uint8Array?(0,d.bufferFrom)(t).toString(e):String(t)}function tj(t,e){return(void 0===e&&(e=b.ENCODING_UTF8),d.Buffer.isBuffer(t))?t:t instanceof Uint8Array?(0,d.bufferFrom)(t):(0,d.bufferFrom)(String(t),e)}function tW(t,e){return e&&"buffer"!==e?t.toString(e):t}function tH(t,e){if(-1!==(""+t).indexOf("\0")){var r=Error("Path must be a string without null bytes");if(r.code=$,"function"!=typeof e)throw r;return h.default.nextTick(e,r),!1}return!0}function tz(t,e){return"number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?tV(e):void 0}function tV(t,e){var r=tz(t,e);if("number"!=typeof r||isNaN(r))throw TypeError(z.MODE_INT);return r}function t$(t){return t>>>0===t}function tq(t){if(!t$(t))throw TypeError(z.FD)}function tG(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return t<0?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function tY(t){if("number"!=typeof t)throw TypeError(z.UID)}function tK(t){if("number"!=typeof t)throw TypeError(z.GID)}function tZ(t){var e={};function r(t,n){for(var o in n){var a=n[o],s=U(t,o);"string"==typeof a?e[s]=a:"object"==typeof a&&null!==a&&Object.keys(a).length>0?r(s,a):e[s]=null}}return r("",t),e}e.filenameToSteps=tP,e.pathToSteps=tB,e.dataToStr=tU,e.dataToBuffer=tj,e.bufferToEncoding=tW,e.toUnixTimestamp=tG;var tJ=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0,v.default)(this),this.statWatchers={},this.props=Object.assign({Node:l.Node,Link:l.Link,File:l.File},t);var e=this.createLink();e.setNode(this.createNode(!0));var r=this;this.StatWatcher=function(t){function e(){return t.call(this,r)||this}return a(e,t),e}(tQ);var n=t1;this.ReadStream=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,s([r],e,!1))||this}return a(e,t),e}(n);var o=t6;this.WriteStream=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,s([r],e,!1))||this}return a(e,t),e}(o),this.FSWatcher=function(t){function e(){return t.call(this,r)||this}return a(e,t),e}(t4),e.setChild(".",e),e.getNode().nlink++,e.setChild("..",e),e.getNode().nlink++,this.root=e}return t.fromJSON=function(e,r){var n=new t;return n.fromJSON(e,r),n},t.fromNestedJSON=function(e,r){var n=new t;return n.fromNestedJSON(e,r),n},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),t.prototype.createLink=function(t,e,r,n){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,n))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295,this.ino)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){void 0===t&&(t=!1);var r=new this.props.Node(this.newInoNumber(),e);return t&&r.setIsDirectory(),this.inodes[r.ino]=r,r},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substring(2,8);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=tP(t),n=this.getLink(r);if(!n)throw to($,e,t);return n},t.prototype.getResolvedLink=function(t){for(var e="string"==typeof t?tP(t):t,r=this.root,n=0;n<e.length;){var o=e[n];if(!(r=r.getChild(o)))return null;var a=r.getNode();if(a.isSymlink()){e=a.symlink.concat(e.slice(n+1)),r=this.root,n=0;continue}n++}return r},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw to($,e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw to(J,e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){var r=t instanceof Array?t:tP(t),n=this.getLinkParent(r);if(!n)throw to($,e,P+r.join(P));if(!n.getNode().isDirectory())throw to(J,e,P+r.join(P));return n},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(!t$(t))throw TypeError(z.FD);var r=this.getFileByFd(t);if(!r)throw to(q,e);return r},t.prototype.wrapAsync=function(t,e,r){var n=this;tl(r),(0,p.default)(function(){var o;try{o=t.apply(n,e)}catch(t){r(t);return}r(null,o)})},t.prototype._toJSON=function(t,e,r){void 0===t&&(t=this.root),void 0===e&&(e={});var n,o=!0,a=t.children;for(var s in t.getNode().isFile()&&((n={})[t.getName()]=t.parent.getChild(t.getName()),a=n,t=t.parent),a)if("."!==s&&".."!==s){o=!1;var u=t.getChild(s);if(!u)throw Error("_toJSON: unexpected undefined");var l=u.getNode();if(l.isFile()){var c=u.getPath();r&&(c=B(r,c)),e[c]=l.getString()}else l.isDirectory()&&this._toJSON(u,e,r)}var f=t.getPath();return r&&(f=B(r,f)),f&&o&&(e[f]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n=[];if(t){t instanceof Array||(t=[t]);for(var o=0,a=t;o<a.length;o++){var s=tx(a[o]),u=this.getResolvedLink(s);u&&n.push(u)}}else n.push(this.root);if(!n.length)return e;for(var l=0,c=n;l<c.length;l++){var u=c[l];this._toJSON(u,e,r?u.getPath():"")}return e},t.prototype.fromJSON=function(t,e){for(var r in void 0===e&&(e=h.default.cwd()),t){var n=t[r];if(r=tk(r,e),"string"==typeof n){var o=j(r);this.mkdirpBase(o,511),this.writeFileSync(r,n)}else this.mkdirpBase(r,511)}},t.prototype.fromNestedJSON=function(t,e){this.fromJSON(tZ(t),e)},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw to(X,"open",t.getPath());var n=t;if(r&&(n=this.resolveSymlinks(t)),!n)throw to($,"open",t.getPath());var o=n.getNode();if(o.isDirectory()){if((e&(T|A|O))!==T)throw to(tt,"open",t.getPath())}else if(e&M)throw to(J,"open",t.getPath());if(!(e&O)&&!o.canRead())throw to(Q,"open",t.getPath());var a=new this.props.File(t,o,e,this.newFdNumber());return this.fds[a.fd]=a,this.openFiles++,e&D&&a.truncate(),a},t.prototype.openFile=function(t,e,r,n){void 0===n&&(n=!0);var o=tP(t),a=n?this.getResolvedLink(o):this.getLink(o);if(a&&e&N)throw to(Z,"open",t);if(!a&&e&I){var s=this.getResolvedLink(o.slice(0,o.length-1));if(!s)throw to($,"open",P+o.join(P));e&I&&"number"==typeof r&&(a=this.createLink(s,o[o.length-1],!1,r))}if(a)return this.openLink(a,e,n);throw to($,"open",t)},t.prototype.openBase=function(t,e,r,n){void 0===n&&(n=!0);var o=this.openFile(t,e,r,n);if(!o)throw to($,"open",t);return o.fd},t.prototype.openSync=function(t,e,r){void 0===r&&(r=438);var n=tV(r),o=tx(t),a=ta(e);return this.openBase(o,a,n)},t.prototype.open=function(t,e,r,n){var o=r,a=n;"function"==typeof r&&(o=438,a=r);var s=tV(o=o||438),u=tx(t),l=ta(e);this.wrapAsync(this.openBase,[u,l,s],a)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){tq(t);var e=this.getFileByFdOrThrow(t,"close");this.closeFile(e)},t.prototype.close=function(t,e){tq(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"!=typeof t)return this.openFile(tx(t),e,r);var n=this.fds[t];if(!n)throw to($);return n},t.prototype.readBase=function(t,e,r,n,o){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(n),o)},t.prototype.readSync=function(t,e,r,n,o){return tq(t),this.readBase(t,e,r,n,o)},t.prototype.read=function(t,e,r,n,o,a){var s=this;if(tl(a),0===n)return h.default.nextTick(function(){a&&a(null,0,e)});(0,p.default)(function(){try{var u=s.readBase(t,e,r,n,o);a(null,u,e)}catch(t){a(t)}})},t.prototype.readFileBase=function(t,e,r){var n,o,a="number"==typeof t&&t$(t);if(a)o=t;else{var s=tP(tx(t)),u=this.getResolvedLink(s);if(u&&u.getNode().isDirectory())throw to(tt,"open",u.getPath());o=this.openSync(t,e)}try{n=tW(this.getFileByFdOrThrow(o).getBuffer(),r)}finally{a||this.closeSync(o)}return n},t.prototype.readFileSync=function(t,e){var r=th(e),n=ta(r.flag);return this.readFileBase(t,n,r.encoding)},t.prototype.readFile=function(t,e,r){var n=tc(th)(e,r),o=n[0],a=n[1],s=ta(o.flag);this.wrapAsync(this.readFileBase,[t,s,o.encoding],a)},t.prototype.writeBase=function(t,e,r,n,o){return this.getFileByFdOrThrow(t,"write").write(e,r,n,o)},t.prototype.writeSync=function(t,e,r,n,o){tq(t);var a,s,u,l,c="string"!=typeof e;c?(s=0|(r||0),u=n,l=o):(l=r,a=n);var f=tj(e,a);return c?void 0===u&&(u=f.length):(s=0,u=f.length),this.writeBase(t,f,s,u,l)},t.prototype.write=function(t,e,r,n,o,a){var s,u,l,c,f,d=this;tq(t);var h=typeof e,y=typeof r,g=typeof n,m=typeof o;"string"!==h?"function"===y?f=r:"function"===g?(s=0|r,f=n):"function"===m?(s=0|r,u=n,f=o):(s=0|r,u=n,l=o,f=a):"function"===y?f=r:"function"===g?(l=r,f=n):"function"===m&&(l=r,c=n,f=o);var _=tj(e,c);"string"!==h?void 0===u&&(u=_.length):(s=0,u=_.length);var b=tl(f);(0,p.default)(function(){try{var r=d.writeBase(t,_,s,u,l);"string"!==h?b(null,r,_):b(null,r,e)}catch(t){b(t)}})},t.prototype.writeFileBase=function(t,e,r,n){var o,a="number"==typeof t;o=a?t:this.openBase(tx(t),r,n);var s=0,u=e.length,l=r&R?void 0:0;try{for(;u>0;){var c=this.writeSync(o,e,s,u,l);s+=c,u-=c,void 0!==l&&(l+=c)}}finally{a||this.closeSync(o)}},t.prototype.writeFileSync=function(t,e,r){var n=tg(r),o=ta(n.flag),a=tV(n.mode),s=tj(e,n.encoding);this.writeFileBase(t,s,o,a)},t.prototype.writeFile=function(t,e,r,n){var o=r,a=n;"function"==typeof r&&(o=ty,a=r);var s=tl(a),u=tg(o),l=ta(u.flag),c=tV(u.mode),f=tj(e,u.encoding);this.wrapAsync(this.writeFileBase,[t,f,l,c],s)},t.prototype.linkBase=function(t,e){var r=tP(t),n=this.getLink(r);if(!n)throw to($,"link",t,e);var o=tP(e),a=this.getLinkParent(o);if(!a)throw to($,"link",t,e);var s=o[o.length-1];if(a.getChild(s))throw to(Z,"link",t,e);var u=n.getNode();u.nlink++,a.createChild(s,u)},t.prototype.copyFileBase=function(t,e,r){var o=this.readFileSync(t);if(r&k&&this.existsSync(e))throw to(Z,"copyFile",t,e);if(r&L)throw to(tr,"copyFile",t,e);this.writeFileBase(e,o,n.w,438)},t.prototype.copyFileSync=function(t,e,r){var n=tx(t),o=tx(e);return this.copyFileBase(n,o,0|(r||0))},t.prototype.copyFile=function(t,e,r,n){var o,a,s=tx(t),u=tx(e);"function"==typeof r?(o=0,a=r):(o=r,a=n),tl(a),this.wrapAsync(this.copyFileBase,[s,u,o],a)},t.prototype.linkSync=function(t,e){var r=tx(t),n=tx(e);this.linkBase(r,n)},t.prototype.link=function(t,e,r){var n=tx(t),o=tx(e);this.wrapAsync(this.linkBase,[n,o],r)},t.prototype.unlinkBase=function(t){var e=tP(t),r=this.getLink(e);if(!r)throw to($,"unlink",t);if(r.length)throw Error("Dir not empty...");this.deleteLink(r);var n=r.getNode();n.nlink--,n.nlink<=0&&this.deleteNode(n)},t.prototype.unlinkSync=function(t){var e=tx(t);this.unlinkBase(e)},t.prototype.unlink=function(t,e){var r=tx(t);this.wrapAsync(this.unlinkBase,[r],e)},t.prototype.symlinkBase=function(t,e){var r=tP(e),n=this.getLinkParent(r);if(!n)throw to($,"symlink",t,e);var o=r[r.length-1];if(n.getChild(o))throw to(Z,"symlink",t,e);var a=n.createChild(o);return a.getNode().makeSymlink(tP(t)),a},t.prototype.symlinkSync=function(t,e,r){var n=tx(t),o=tx(e);this.symlinkBase(n,o)},t.prototype.symlink=function(t,e,r,n){var o=tl("function"==typeof r?r:n),a=tx(t),s=tx(e);this.wrapAsync(this.symlinkBase,[a,s],o)},t.prototype.realpathBase=function(t,e){var r=tP(t),n=this.getResolvedLink(r);if(!n)throw to($,"realpath",t);return(0,b.strToEncoding)(n.getPath()||"/",e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(tx(t),tw(e).encoding)},t.prototype.realpath=function(t,e,r){var n=tE(e,r),o=n[0],a=n[1],s=tx(t);this.wrapAsync(this.realpathBase,[s,o.encoding],a)},t.prototype.lstatBase=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=this.getLink(tP(t));if(n)return c.default.build(n.getNode(),e);if(r)throw to($,"lstat",t)},t.prototype.lstatSync=function(t,e){var r=tR(e),n=r.throwIfNoEntry,o=void 0===n||n,a=r.bigint,s=void 0!==a&&a;return this.lstatBase(tx(t),s,o)},t.prototype.lstat=function(t,e,r){var n=tC(e,r),o=n[0],a=o.throwIfNoEntry,s=void 0===a||a,u=o.bigint,l=void 0!==u&&u,c=n[1];this.wrapAsync(this.lstatBase,[tx(t),l,s],c)},t.prototype.statBase=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!0);var n=this.getResolvedLink(tP(t));if(n)return c.default.build(n.getNode(),e);if(r)throw to($,"stat",t)},t.prototype.statSync=function(t,e){var r=tR(e),n=r.bigint,o=void 0===n||n,a=r.throwIfNoEntry,s=void 0===a||a;return this.statBase(tx(t),o,s)},t.prototype.stat=function(t,e,r){var n=tC(e,r),o=n[0],a=o.bigint,s=void 0!==a&&a,u=o.throwIfNoEntry,l=void 0===u||u,c=n[1];this.wrapAsync(this.statBase,[tx(t),s,l],c)},t.prototype.fstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getFileByFd(t);if(!r)throw to(q,"fstat");return c.default.build(r.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,tR(e).bigint)},t.prototype.fstat=function(t,e,r){var n=tC(e,r),o=n[0],a=n[1];this.wrapAsync(this.fstatBase,[t,o.bigint],a)},t.prototype.renameBase=function(t,e){var r=this.getLink(tP(t));if(!r)throw to($,"rename",t,e);var n=tP(e),o=this.getLinkParent(n);if(!o)throw to($,"rename",t,e);var a=r.parent;a&&a.deleteChild(r);var u=n[n.length-1];r.name=u,r.steps=s(s([],o.steps,!0),[u],!1),o.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){var r=tx(t),n=tx(e);this.renameBase(r,n)},t.prototype.rename=function(t,e,r){var n=tx(t),o=tx(e);this.wrapAsync(this.renameBase,[n,o],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(tx(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,n=tx(t);if("function"!=typeof e)throw Error(z.CB);(0,p.default)(function(){try{e(r.existsBase(n))}catch(t){e(!1)}})},t.prototype.accessBase=function(t,e){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=x);var r=tx(t);e|=0,this.accessBase(r,e)},t.prototype.access=function(t,e,r){var n,o=x;"function"!=typeof e?(o=0|e,n=tl(r)):n=e;var a=tx(t);this.wrapAsync(this.accessBase,[a,o],n)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=tm);var n=t_(r);(!n.flag||t$(t))&&(n.flag="a"),this.writeFileSync(t,e,n)},t.prototype.appendFile=function(t,e,r,n){var o=tb(r,n),a=o[0],s=o[1];(!a.flag||t$(t))&&(a.flag="a"),this.writeFile(t,e,a,s)},t.prototype.readdirBase=function(t,e){var r=tP(t),n=this.getResolvedLink(r);if(!n)throw to($,"readdir",t);if(!n.getNode().isDirectory())throw to(J,"scandir",t);if(e.withFileTypes){var o=[];for(var a in n.children){var s=n.getChild(a);s&&"."!==a&&".."!==a&&o.push(f.default.build(s,e.encoding))}return W||"buffer"===e.encoding||o.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),o}var u=[];for(var l in n.children)"."!==l&&".."!==l&&u.push((0,b.strToEncoding)(l,e.encoding));return W||"buffer"===e.encoding||u.sort(),u},t.prototype.readdirSync=function(t,e){var r=tI(e),n=tx(t);return this.readdirBase(n,r)},t.prototype.readdir=function(t,e,r){var n=tN(e,r),o=n[0],a=n[1],s=tx(t);this.wrapAsync(this.readdirBase,[s,o],a)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw to(G,"readlink",t);var n=P+r.symlink.join(P);return(0,b.strToEncoding)(n,e)},t.prototype.readlinkSync=function(t,e){var r=td(e),n=tx(t);return this.readlinkBase(n,r.encoding)},t.prototype.readlink=function(t,e,r){var n=tp(e,r),o=n[0],a=n[1],s=tx(t);this.wrapAsync(this.readlinkBase,[s,o.encoding],a)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var n="number"==typeof e?e:0,o=tl("number"==typeof e?r:e);this.wrapAsync(this.ftruncateBase,[t,n],o)},t.prototype.truncateBase=function(t,e){var r=this.openSync(t,"r+");try{this.ftruncateSync(r,e)}finally{this.closeSync(r)}},t.prototype.truncateSync=function(t,e){if(t$(t))return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var n="number"==typeof e?e:0,o=tl("number"==typeof e?r:e);if(t$(t))return this.ftruncate(t,n,o);this.wrapAsync(this.truncateBase,[t,n],o)},t.prototype.futimesBase=function(t,e,r){var n=this.getFileByFdOrThrow(t,"futimes").node;n.atime=new Date(1e3*e),n.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,tG(e),tG(r))},t.prototype.futimes=function(t,e,r,n){this.wrapAsync(this.futimesBase,[t,tG(e),tG(r)],n)},t.prototype.utimesBase=function(t,e,r){var n=this.openSync(t,"r");try{this.futimesBase(n,e,r)}finally{this.closeSync(n)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(tx(t),tG(e),tG(r))},t.prototype.utimes=function(t,e,r,n){this.wrapAsync(this.utimesBase,[tx(t),tG(e),tG(r)],n)},t.prototype.mkdirBase=function(t,e){var r=tP(t);if(!r.length)throw to(Z,"mkdir",t);var n=this.getLinkParentAsDirOrThrow(t,"mkdir"),o=r[r.length-1];if(n.getChild(o))throw to(Z,"mkdir",t);n.createChild(o,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){for(var r=tk(t),n=r.substring(1),o=n?n.split(P):[],a=this.root,s=!1,u=0;u<o.length;u++){var l=o[u];if(!a.getNode().isDirectory())throw to(J,"mkdir",a.getPath());var c=a.getChild(l);if(c){if(c.getNode().isDirectory())a=c;else throw to(J,"mkdir",c.getPath())}else a=a.createChild(l,this.createNode(!0,e)),s=!0}return s?r:void 0},t.prototype.mkdirSync=function(t,e){var r=tS(e),n=tV(r.mode,511),o=tx(t);if(r.recursive)return this.mkdirpBase(o,n);this.mkdirBase(o,n)},t.prototype.mkdir=function(t,e,r){var n=tS(e),o=tl("function"==typeof e?e:r),a=tV(n.mode,511),s=tx(t);n.recursive?this.wrapAsync(this.mkdirpBase,[s,a],o):this.wrapAsync(this.mkdirBase,[s,a],o)},t.prototype.mkdirpSync=function(t,e){return this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var n="function"==typeof e?void 0:e,o=tl("function"==typeof e?e:r);this.mkdir(t,{mode:n,recursive:!0},o)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var n=t+this.genRndStr();try{return this.mkdirBase(n,511),(0,b.strToEncoding)(n,e)}catch(n){if(n.code===Z){if(r>1)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw n}},t.prototype.mkdtempSync=function(t,e){var r=td(e).encoding;if(!t||"string"!=typeof t)throw TypeError("filename prefix is required");return tH(t),this.mkdtempBase(t,r)},t.prototype.mkdtemp=function(t,e,r){var n=tp(e,r),o=n[0].encoding,a=n[1];if(!t||"string"!=typeof t)throw TypeError("filename prefix is required");tH(t)&&this.wrapAsync(this.mkdtempBase,[t,o],a)},t.prototype.rmdirBase=function(t,e){var r=tO(e),n=this.getLinkAsDirOrThrow(t,"rmdir");if(n.length&&!r.recursive)throw to(te,"rmdir",t);this.deleteLink(n)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(tx(t),e)},t.prototype.rmdir=function(t,e,r){var n=tO(e),o=tl("function"==typeof e?e:r);this.wrapAsync(this.rmdirBase,[tx(t),n],o)},t.prototype.rmBase=function(t,e){void 0===e&&(e={});var r=this.getResolvedLink(t);if(!r){if(!e.force)throw to($,"stat",t);return}if(r.getNode().isDirectory()&&!e.recursive)throw to(tn,"rm",t);this.deleteLink(r)},t.prototype.rmSync=function(t,e){this.rmBase(tx(t),e)},t.prototype.rm=function(t,e,r){var n=tA(e,r),o=n[0],a=n[1];this.wrapAsync(this.rmBase,[tx(t),o],a)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,tV(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,tV(e)],r)},t.prototype.chmodBase=function(t,e){var r=this.openSync(t,"r");try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.chmodSync=function(t,e){var r=tV(e),n=tx(t);this.chmodBase(n,r)},t.prototype.chmod=function(t,e,r){var n=tV(e),o=tx(t);this.wrapAsync(this.chmodBase,[o,n],r)},t.prototype.lchmodBase=function(t,e){var r=this.openBase(t,A,0,!1);try{this.fchmodBase(r,e)}finally{this.closeSync(r)}},t.prototype.lchmodSync=function(t,e){var r=tV(e),n=tx(t);this.lchmodBase(n,r)},t.prototype.lchmod=function(t,e,r){var n=tV(e),o=tx(t);this.wrapAsync(this.lchmodBase,[o,n],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){tY(e),tK(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,n){tY(e),tK(r),this.wrapAsync(this.fchownBase,[t,e,r],n)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){tY(e),tK(r),this.chownBase(tx(t),e,r)},t.prototype.chown=function(t,e,r,n){tY(e),tK(r),this.wrapAsync(this.chownBase,[tx(t),e,r],n)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){tY(e),tK(r),this.lchownBase(tx(t),e,r)},t.prototype.lchown=function(t,e,r,n){tY(e),tK(r),this.wrapAsync(this.lchownBase,[tx(t),e,r],n)},t.prototype.watchFile=function(t,e,r){var n=tx(t),o=e,a=r;if("function"==typeof o&&(a=e,o=null),"function"!=typeof a)throw Error('"watchFile()" requires a listener function');var s=5007,u=!0;o&&"object"==typeof o&&("number"==typeof o.interval&&(s=o.interval),"boolean"==typeof o.persistent&&(u=o.persistent));var l=this.statWatchers[n];return l||((l=new this.StatWatcher).start(n,u,s),this.statWatchers[n]=l),l.addListener("change",a),l},t.prototype.unwatchFile=function(t,e){var r=tx(t),n=this.statWatchers[r];n&&("function"==typeof e?n.removeListener("change",e):n.removeAllListeners("change"),0===n.listenerCount("change")&&(n.stop(),delete this.statWatchers[r]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){var n=tx(t),o=e;"function"==typeof e&&(r=e,o=null);var a=td(o),s=a.persistent,u=a.recursive,l=a.encoding;void 0===s&&(s=!0),void 0===u&&(u=!1);var c=new this.FSWatcher;return c.start(n,s,u,l),r&&c.addListener("change",r),c},t.fd=2147483647,t}();function tX(t){t.emit("stop")}e.Volume=tJ;var tQ=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return a(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=5007),this.filename=tx(t),this.setTimeout=e?setTimeout.bind("undefined"!=typeof globalThis?globalThis:r.g):y.default,this.interval=n,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),h.default.nextTick(tX,this)},e}(_.EventEmitter);function t0(t){(o=(0,d.bufferAllocUnsafe)(t)).used=0}function t1(t,e,r){if(!(this instanceof t1))return new t1(t,e,r);if(this._vol=t,void 0===(r=Object.assign({},ts(r,{}))).highWaterMark&&(r.highWaterMark=65536),g.Readable.call(this,r),this.path=tx(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function t2(t){this.close()}function t6(t,e,r){if(!(this instanceof t6))return new t6(t,e,r);if(this._vol=t,r=Object.assign({},ts(r,{})),g.Writable.call(this,r),this.path=tx(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw TypeError('"start" option must be a Number');if(this.start<0)throw Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}e.StatWatcher=tQ,E.inherits(t1,g.Readable),e.ReadStream=t1,t1.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,function(e,r){if(e){t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e);return}t.fd=r,t.emit("open",r),t.read()})},t1.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",function(){this._read(t)});if(!this.destroyed){(!o||o.length-o.used<H)&&t0(this._readableState.highWaterMark);var e=o,r=Math.min(o.length-o.used,t),n=o.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),r<=0)return this.push(null);var a=this;this._vol.read(this.fd,o,o.used,r,this.pos,s),void 0!==this.pos&&(this.pos+=r),o.used+=r}function s(t,r){if(t)a.autoClose&&a.destroy&&a.destroy(),a.emit("error",t);else{var o=null;r>0&&(a.bytesRead+=r,o=e.slice(n,n+r)),a.push(o)}}},t1.prototype._destroy=function(t,e){this.close(function(r){e(t||r)})},t1.prototype.close=function(t){var e,r=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd){if("number"!=typeof this.fd){this.once("open",t2);return}return h.default.nextTick(function(){return r.emit("close")})}"boolean"==typeof(null===(e=this._readableState)||void 0===e?void 0:e.closed)?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(t){t?r.emit("error",t):r.emit("close")}),this.fd=null},E.inherits(t6,g.Writable),e.WriteStream=t6,t6.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,(function(t,e){if(t){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t);return}this.fd=e,this.emit("open",e)}).bind(this))},t6.prototype._write=function(t,e,r){if(!(t instanceof d.Buffer||t instanceof Uint8Array))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(t,e,r)});var n=this;this._vol.write(this.fd,t,0,t.length,this.pos,function(t,e){if(t)return n.autoClose&&n.destroy&&n.destroy(),r(t);n.bytesWritten+=e,r()}),void 0!==this.pos&&(this.pos+=t.length)},t6.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(t,e)});for(var r=this,n=t.length,o=Array(n),a=0,s=0;s<n;s++){var u=t[s].chunk;o[s]=u,a+=u.length}var l=d.Buffer.concat(o);this._vol.write(this.fd,l,0,l.length,this.pos,function(t,n){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=n,e()}),void 0!==this.pos&&(this.pos+=a)},t6.prototype.close=function(t){var e,r=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd){if("number"!=typeof this.fd){this.once("open",t2);return}return h.default.nextTick(function(){return r.emit("close")})}"boolean"==typeof(null===(e=this._writableState)||void 0===e?void 0:e.closed)?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(t){t?r.emit("error",t):r.emit("close")}),this.fd=null},t6.prototype._destroy=t1.prototype._destroy,t6.prototype.destroySoon=t6.prototype.end;var t4=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=b.ENCODING_UTF8,r._listenerRemovers=new Map,r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return a(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,n){var o=this;void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===n&&(n=b.ENCODING_UTF8),this._filename=tx(t),this._steps=tP(this._filename),this._filenameEncoded=(0,b.strToEncoding)(this._filename),this._recursive=r,this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){var a=Error("watch ".concat(this._filename," ").concat(t.code));throw a.code=t.code,a.errno=t.code,a}var s=function(t){var e,r=t.getPath(),n=t.getNode(),a=function(){var t=B(o._filename,r);return t||(t=o._getName()),o.emit("change","change",t)};n.on("change",a);var s=null!==(e=o._listenerRemovers.get(n.ino))&&void 0!==e?e:[];s.push(function(){return n.removeListener("change",a)}),o._listenerRemovers.set(n.ino,s)},u=function(t){var e,n=t.getNode(),a=function(t){o.emit("change","rename",B(o._filename,t.getPath())),setTimeout(function(){s(t),u(t)})},l=function(t){var e=function(t){var r=t.getNode().ino,n=o._listenerRemovers.get(r);n&&(n.forEach(function(t){return t()}),o._listenerRemovers.delete(r)),Object.values(t.children).forEach(function(t){t&&e(t)})};e(t),o.emit("change","rename",B(o._filename,t.getPath()))};Object.entries(t.children).forEach(function(t){var e=t[0],r=t[1];r&&"."!==e&&".."!==e&&s(r)}),t.on("child:add",a),t.on("child:delete",l),(null!==(e=o._listenerRemovers.get(n.ino))&&void 0!==e?e:[]).push(function(){t.removeListener("child:add",a),t.removeListener("child:delete",l)}),r&&Object.entries(t.children).forEach(function(t){var e=t[0],r=t[1];r&&"."!==e&&".."!==e&&u(r)})};s(this._link),u(this._link);var l=this._link.parent;l&&(l.setMaxListeners(l.getMaxListeners()+1),l.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._listenerRemovers.forEach(function(t){t.forEach(function(t){return t()})}),this._listenerRemovers.clear();var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(_.EventEmitter);e.FSWatcher=t4},8053:t=>{!function(){let e=t=>new TextEncoder().encode(t);function r(t,r){"string"==typeof t&&(t=e(t));let n=t.length,o=r^n,a=0,s;for(;n>=4;)s=(65535&(s=255&t[a]|(255&t[++a])<<8|(255&t[++a])<<16|(255&t[++a])<<24))*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16)^(s=(65535&s)*1540483477+(((s>>>16)*1540483477&65535)<<16)),n-=4,++a;switch(n){case 3:o^=(255&t[a+2])<<16;case 2:o^=(255&t[a+1])<<8;case 1:o^=255&t[a],o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16)}return o^=o>>>13,o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16),(o^=o>>>15)>>>0}function n(t,r){let n,o,a,s,u,l,c,f;for("string"==typeof t&&(t=e(t)),n=3&t.length,o=t.length-n,a=r,u=3432918353,l=461845907,f=0;f<o;)c=255&t[f]|(255&t[++f])<<8|(255&t[++f])<<16|(255&t[++f])<<24,++f,a^=c=(65535&(c=(c=(65535&c)*u+(((c>>>16)*u&65535)<<16)&4294967295)<<15|c>>>17))*l+(((c>>>16)*l&65535)<<16)&4294967295,a=(65535&(s=(65535&(a=a<<13|a>>>19))*5+(((a>>>16)*5&65535)<<16)&4294967295))+27492+(((s>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(255&t[f+2])<<16;case 2:c^=(255&t[f+1])<<8;case 1:c^=255&t[f],a^=c=(65535&(c=(c=(65535&c)*u+(((c>>>16)*u&65535)<<16)&4294967295)<<15|c>>>17))*l+(((c>>>16)*l&65535)<<16)&4294967295}return a^=t.length,a^=a>>>16,a=(65535&a)*2246822507+(((a>>>16)*2246822507&65535)<<16)&4294967295,a^=a>>>13,a=(65535&a)*3266489909+(((a>>>16)*3266489909&65535)<<16)&4294967295,(a^=a>>>16)>>>0}let o=n;o.v2=r,o.v3=n,t.exports=o}()},631:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,u="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=u&&l&&"function"==typeof l.get?l.get:null,f=u&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,_=String.prototype.match,b=String.prototype.slice,w=String.prototype.replace,E=String.prototype.toUpperCase,v=String.prototype.toLowerCase,S=RegExp.prototype.test,T=Array.prototype.concat,O=Array.prototype.join,A=Array.prototype.slice,I=Math.floor,N="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C?"object":"symbol")?Symbol.toStringTag:null,x=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-I(-t):I(t);if(n!==t){var o=String(n),a=b.call(e,o.length+1);return w.call(o,r,"$&_")+"."+w.call(w.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(e,r,"$&_")}var F=r(4654),P=F.custom,B=Y(P)?P:null;function U(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function j(t){return w.call(String(t),/"/g,"&quot;")}function W(t){return"[object Array]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function H(t){return"[object Date]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function z(t){return"[object RegExp]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function V(t){return"[object Error]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function $(t){return"[object String]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function q(t){return"[object Number]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function G(t){return"[object Boolean]"===X(t)&&(!M||!("object"==typeof t&&M in t))}function Y(t){if(C)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!R)return!1;try{return R.call(t),!0}catch(t){}return!1}function K(t){if(!t||"object"!=typeof t||!N)return!1;try{return N.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,o,u){var l=n||{};if(J(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(J(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!J(l,"customInspect")||l.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(J(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(J(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=l.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return ts(e,l);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var h=String(e);return p?L(e,h):h}if("bigint"==typeof e){var g=String(e)+"n";return p?L(e,g):g}var m=void 0===l.depth?5:l.depth;if(void 0===o&&(o=0),o>=m&&m>0&&"object"==typeof e)return W(e)?"[Array]":"[Object]";var _=tp(l,o);if(void 0===u)u=[];else if(tt(u,e)>=0)return"[Circular]";function E(e,r,n){if(r&&(u=A.call(u)).push(r),n){var a={depth:l.depth};return J(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),t(e,a,o+1,u)}return t(e,l,o+1,u)}if("function"==typeof e&&!z(e)){var S=Q(e),I=ty(e,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(I.length>0?" { "+O.call(I,", ")+" }":"")}if(Y(e)){var D=C?w.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(e);return"object"!=typeof e||C?D:tl(D)}if(ta(e)){for(var P="<"+v.call(String(e.nodeName)),Z=e.attributes||[],tu=0;tu<Z.length;tu++)P+=" "+Z[tu].name+"="+U(j(Z[tu].value),"double",l);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+v.call(String(e.nodeName))+">"}if(W(e)){if(0===e.length)return"[]";var tg=ty(e,E);return _&&!td(tg)?"["+th(tg,_)+"]":"[ "+O.call(tg,", ")+" ]"}if(V(e)){var tm=ty(e,E);return"cause"in Error.prototype||!("cause"in e)||x.call(e,"cause")?0===tm.length?"["+String(e)+"]":"{ ["+String(e)+"] "+O.call(tm,", ")+" }":"{ ["+String(e)+"] "+O.call(T.call("[cause]: "+E(e.cause),tm),", ")+" }"}if("object"==typeof e&&d){if(B&&"function"==typeof e[B]&&F)return F(e,{depth:m-o});if("symbol"!==d&&"function"==typeof e.inspect)return e.inspect()}if(te(e)){var t_=[];return s&&s.call(e,function(t,r){t_.push(E(r,e,!0)+" => "+E(t,e))}),tf("Map",a.call(e),t_,_)}if(ti(e)){var tb=[];return f&&f.call(e,function(t){tb.push(E(t,e))}),tf("Set",c.call(e),tb,_)}if(tr(e))return tc("WeakMap");if(to(e))return tc("WeakSet");if(tn(e))return tc("WeakRef");if(q(e))return tl(E(Number(e)));if(K(e))return tl(E(N.call(e)));if(G(e))return tl(y.call(e));if($(e))return tl(E(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==r.g&&e===r.g)return"{ [object globalThis] }";if(!H(e)&&!z(e)){var tw=ty(e,E),tE=k?k(e)===Object.prototype:e instanceof Object||e.constructor===Object,tv=e instanceof Object?"":"null prototype",tS=!tE&&M&&Object(e)===e&&M in e?b.call(X(e),8,-1):tv?"Object":"",tT=(tE||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(tS||tv?"["+O.call(T.call([],tS||[],tv||[]),": ")+"] ":"");return 0===tw.length?tT+"{}":_?tT+"{"+th(tw,_)+"}":tT+"{ "+O.call(tw,", ")+" }"}return String(e)};var Z=Object.prototype.hasOwnProperty||function(t){return t in this};function J(t,e){return Z.call(t,e)}function X(t){return g.call(t)}function Q(t){if(t.name)return t.name;var e=_.call(m.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function tt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}function te(t){if(!a||!t||"object"!=typeof t)return!1;try{a.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}function tr(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}function tn(t){if(!h||!t||"object"!=typeof t)return!1;try{return h.call(t),!0}catch(t){}return!1}function ti(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{a.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}function to(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}function ta(t){return!!t&&"object"==typeof t&&(!!("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}function ts(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ts(b.call(t,0,e.maxStringLength),e)+n}return U(w.call(w.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,tu),"single",e)}function tu(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+E.call(e.toString(16))}function tl(t){return"Object("+t+")"}function tc(t){return t+" { ? }"}function tf(t,e,r,n){return t+" ("+e+") {"+(n?th(r,n):O.call(r,", "))+"}"}function td(t){for(var e=0;e<t.length;e++)if(tt(t[e],"\n")>=0)return!1;return!0}function tp(t,e){var r;if("	"===t.indent)r="	";else{if("number"!=typeof t.indent||!(t.indent>0))return null;r=O.call(Array(t.indent+1)," ")}return{base:r,prev:O.call(Array(e+1),r)}}function th(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+O.call(t,","+r)+"\n"+e.prev}function ty(t,e){var r,n=W(t),o=[];if(n){o.length=t.length;for(var a=0;a<t.length;a++)o[a]=J(t,a)?e(t[a],t):""}var s="function"==typeof D?D(t):[];if(C){r={};for(var u=0;u<s.length;u++)r["$"+s[u]]=s[u]}for(var l in t)J(t,l)&&(!n||String(Number(l))!==l||!(l<t.length))&&(C&&r["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?o.push(e(l,t)+": "+e(t[l],t)):o.push(l+": "+e(t[l],t))));if("function"==typeof D)for(var c=0;c<s.length;c++)x.call(t,s[c])&&o.push("["+e(s[c])+"]: "+e(t[s[c]],t));return o}},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:!!(t===r||e(t)&&e(r))}},609:(t,e,r)=>{"use strict";var n=r(4289),o=r(5559),a=r(4244),s=r(5624),u=r(2281),l=o(s(),Object);n(l,{getPolyfill:s,implementation:a,shim:u}),t.exports=l},5624:(t,e,r)=>{"use strict";var n=r(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(t,e,r)=>{"use strict";var n=r(5624),o=r(4289);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=r(1414),u=Object.prototype.propertyIsEnumerable,l=!u.call({toString:null},"toString"),c=u.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),y=function(t){if("undefined"==typeof window||!h)return d(t);try{return d(t)}catch(t){return!1}};n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===a.call(t),n=s(t),u=e&&"[object String]"===a.call(t),d=[];if(!e&&!r&&!n)throw TypeError("Object.keys called on a non-object");var p=c&&r;if(u&&t.length>0&&!o.call(t,0))for(var h=0;h<t.length;++h)d.push(String(h));if(n&&t.length>0)for(var g=0;g<t.length;++g)d.push(String(g));else for(var m in t)!(p&&"prototype"===m)&&o.call(t,m)&&d.push(String(m));if(l)for(var _=y(t),b=0;b<f.length;++b)!(_&&"constructor"===f[b])&&o.call(t,f[b])&&d.push(f[b]);return d}}t.exports=n},2215:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(1414),a=Object.keys,s=a?function(t){return a(t)}:r(8987),u=Object.keys;s.shim=function(){return Object.keys?!function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)&&(Object.keys=function(t){return o(t)?u(n.call(t)):u(t)}):Object.keys=s,Object.keys||s},t.exports=s},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},2837:(t,e,r)=>{"use strict";var n=r(2215),o=r(5419)(),a=r(1924),s=Object,u=a("Array.prototype.push"),l=a("Object.prototype.propertyIsEnumerable"),c=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw TypeError("target must be an object");var r=s(t);if(1==arguments.length)return r;for(var a=1;a<arguments.length;++a){var f=s(arguments[a]),d=n(f),p=o&&(Object.getOwnPropertySymbols||c);if(p)for(var h=p(f),y=0;y<h.length;++y){var g=h[y];l(f,g)&&u(d,g)}for(var m=0;m<d.length;++m){var _=d[m];if(l(f,_)){var b=f[_];r[_]=b}}}return r}},3533:(t,e,r)=>{"use strict";var n=r(4289),o=r(5559),a=r(2837),s=r(8162),u=r(4489),l=o.apply(s()),c=function(t,e){return l(Object,arguments)};n(c,{getPolyfill:s,implementation:a,shim:u}),t.exports=c},8162:(t,e,r)=>{"use strict";var n=r(2837),o=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),a="";for(var s in o)a+=s;return t!==a},a=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1};t.exports=function(){return!Object.assign||o()||a()?n:Object.assign}},4489:(t,e,r)=>{"use strict";var n=r(4289),o=r(8162);t.exports=function(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},4236:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var o in r)n(r,o)&&(t[o]=r[o])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,o){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),o);return}for(var a=0;a<n;a++)t[o+a]=e[r+a]},flattenChunks:function(t){var e,r,n,o,a,s;for(e=0,n=0,r=t.length;e<r;e++)n+=t[e].length;for(e=0,s=new Uint8Array(n),o=0,r=t.length;e<r;e++)a=t[e],s.set(a,o),o+=a.length;return s}},a={arraySet:function(t,e,r,n,o){for(var a=0;a<n;a++)t[o+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},6069:t=>{"use strict";function e(t,e,r,n){for(var o=65535&t|0,a=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do a=a+(o=o+e[n++]|0)|0;while(--s)o%=65521,a%=65521}return o|a<<16|0}t.exports=e},1619:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();function r(t,r,n,o){var a=e,s=o+n;t^=-1;for(var u=o;u<s;u++)t=t>>>8^a[(t^r[u])&255];return -1^t}t.exports=r},405:(t,e,r)=>{"use strict";var n,o=r(4236),a=r(342),s=r(6069),u=r(2869),l=r(8898),c=0,f=1,d=3,p=4,h=5,y=0,g=1,m=-2,_=-3,b=-5,w=-1,E=1,v=2,S=3,T=4,O=0,A=2,I=8,N=9,D=15,R=8,C=286,M=30,x=19,k=573,L=15,F=3,P=258,B=262,U=32,j=42,W=69,H=73,z=91,V=103,$=113,q=666,G=1,Y=2,K=3,Z=4,J=3;function X(t,e){return t.msg=l[e],e}function Q(t){return(t<<1)-(t>4?9:0)}function tt(t){for(var e=t.length;--e>=0;)t[e]=0}function te(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(o.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function tr(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,te(t.strm)}function tn(t,e){t.pending_buf[t.pending++]=e}function ti(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function to(t,e,r,n){var a=t.avail_in;return(a>n&&(a=n),0===a)?0:(t.avail_in-=a,o.arraySet(e,t.input,t.next_in,a,r),1===t.state.wrap?t.adler=s(t.adler,e,a,r):2===t.state.wrap&&(t.adler=u(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)}function ta(t,e){var r,n,o=t.max_chain_length,a=t.strstart,s=t.prev_length,u=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,c=t.window,f=t.w_mask,d=t.prev,p=t.strstart+P,h=c[a+s-1],y=c[a+s];t.prev_length>=t.good_match&&(o>>=2),u>t.lookahead&&(u=t.lookahead);do{if(c[(r=e)+s]!==y||c[r+s-1]!==h||c[r]!==c[a]||c[++r]!==c[a+1])continue;a+=2,r++;do;while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<p)if(n=P-(p-a),a=p-P,n>s){if(t.match_start=e,s=n,n>=u)break;h=c[a+s-1],y=c[a+s]}}while((e=d[e&f])>l&&0!=--o)return s<=t.lookahead?s:t.lookahead}function ts(t){var e,r,n,a,s,u=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-B)){o.arraySet(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,e=r=t.hash_size;do n=t.head[--e],t.head[e]=n>=u?n-u:0;while(--r)e=r=u;do n=t.prev[--e],t.prev[e]=n>=u?n-u:0;while(--r)a+=u}if(0===t.strm.avail_in)break;if(r=to(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=r,t.lookahead+t.insert>=F)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+F-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<F)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function tu(t,e){for(var r,n;;){if(t.lookahead<B){if(ts(t),t.lookahead<B&&e===c)return G;if(0===t.lookahead)break}if(r=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-B&&(t.match_length=ta(t,r)),t.match_length>=F){if(n=a._tr_tally(t,t.strstart-t.match_start,t.match_length-F),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=F){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length)t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask}else n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(tr(t,!1),0===t.strm.avail_out))return G}return(t.insert=t.strstart<F-1?t.strstart:F-1,e===p)?(tr(t,!0),0===t.strm.avail_out)?K:Z:t.last_lit&&(tr(t,!1),0===t.strm.avail_out)?G:Y}function tl(t,e){for(var r,n,o;;){if(t.lookahead<B){if(ts(t),t.lookahead<B&&e===c)return G;if(0===t.lookahead)break}if(r=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=F-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-B&&(t.match_length=ta(t,r),t.match_length<=5&&(t.strategy===E||t.match_length===F&&t.strstart-t.match_start>4096)&&(t.match_length=F-1)),t.prev_length>=F&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-F,n=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-F),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length)if(t.match_available=0,t.match_length=F-1,t.strstart++,n&&(tr(t,!1),0===t.strm.avail_out))return G}else if(t.match_available){if((n=a._tr_tally(t,0,t.window[t.strstart-1]))&&tr(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return G}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(n=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<F-1?t.strstart:F-1,e===p)?(tr(t,!0),0===t.strm.avail_out)?K:Z:t.last_lit&&(tr(t,!1),0===t.strm.avail_out)?G:Y}function tc(t,e){for(var r,n,o,s,u=t.window;;){if(t.lookahead<=P){if(ts(t),t.lookahead<=P&&e===c)return G;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=F&&t.strstart>0&&(n=u[o=t.strstart-1])===u[++o]&&n===u[++o]&&n===u[++o]){s=t.strstart+P;do;while(n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&n===u[++o]&&o<s)t.match_length=P-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=F?(r=a._tr_tally(t,1,t.match_length-F),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(tr(t,!1),0===t.strm.avail_out))return G}return(t.insert=0,e===p)?(tr(t,!0),0===t.strm.avail_out)?K:Z:t.last_lit&&(tr(t,!1),0===t.strm.avail_out)?G:Y}function tf(t,e){for(var r;;){if(0===t.lookahead&&(ts(t),0===t.lookahead)){if(e===c)return G;break}if(t.match_length=0,r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(tr(t,!1),0===t.strm.avail_out))return G}return(t.insert=0,e===p)?(tr(t,!0),0===t.strm.avail_out)?K:Z:t.last_lit&&(tr(t,!1),0===t.strm.avail_out)?G:Y}function td(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}function tp(t){t.window_size=2*t.w_size,tt(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=F-1,t.match_available=0,t.ins_h=0}function th(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*k),this.dyn_dtree=new o.Buf16((2*M+1)*2),this.bl_tree=new o.Buf16((2*x+1)*2),tt(this.dyn_ltree),tt(this.dyn_dtree),tt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*C+1),tt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),tt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ty(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:$,t.adler=2===e.wrap?0:1,e.last_flush=c,a._tr_init(e),y):X(t,m)}function tg(t){var e=ty(t);return e===y&&tp(t.state),e}function tm(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,y):m}function t_(t,e,r,n,a,s){if(!t)return m;var u=1;if(e===w&&(e=6),n<0?(u=0,n=-n):n>15&&(u=2,n-=16),a<1||a>N||r!==I||n<8||n>15||e<0||e>9||s<0||s>T)return X(t,m);8===n&&(n=9);var l=new th;return t.state=l,l.strm=t,l.wrap=u,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+F-1)/F),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=r,tg(t)}function tb(t,e){return t_(t,e,I,D,R,O)}function tw(t,e){if(!t||!t.state||e>h||e<0)return t?X(t,m):m;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===q&&e!==p)return X(t,0===t.avail_out?b:m);if(o.strm=t,r=o.last_flush,o.last_flush=e,o.status===j){if(2===o.wrap)t.adler=0,tn(o,31),tn(o,139),tn(o,8),o.gzhead?(tn(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),tn(o,255&o.gzhead.time),tn(o,o.gzhead.time>>8&255),tn(o,o.gzhead.time>>16&255),tn(o,o.gzhead.time>>24&255),tn(o,9===o.level?2:o.strategy>=v||o.level<2?4:0),tn(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(tn(o,255&o.gzhead.extra.length),tn(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=u(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=W):(tn(o,0),tn(o,0),tn(o,0),tn(o,0),tn(o,0),tn(o,9===o.level?2:o.strategy>=v||o.level<2?4:0),tn(o,J),o.status=$);else{var r,o,s,l,_=I+(o.w_bits-8<<4)<<8,w=-1;_|=(w=o.strategy>=v||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(_|=U),_+=31-_%31,o.status=$,ti(o,_),0!==o.strstart&&(ti(o,t.adler>>>16),ti(o,65535&t.adler)),t.adler=1}}if(o.status===W){if(o.gzhead.extra){for(s=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),te(t),s=o.pending,o.pending!==o.pending_buf_size));)tn(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=H)}else o.status=H}if(o.status===H){if(o.gzhead.name){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),te(t),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,tn(o,l)}while(0!==l)o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.gzindex=0,o.status=z)}else o.status=z}if(o.status===z){if(o.gzhead.comment){s=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),te(t),s=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,tn(o,l)}while(0!==l)o.gzhead.hcrc&&o.pending>s&&(t.adler=u(t.adler,o.pending_buf,o.pending-s,s)),0===l&&(o.status=V)}else o.status=V}if(o.status===V&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&te(t),o.pending+2<=o.pending_buf_size&&(tn(o,255&t.adler),tn(o,t.adler>>8&255),t.adler=0,o.status=$)):o.status=$),0!==o.pending){if(te(t),0===t.avail_out)return o.last_flush=-1,y}else if(0===t.avail_in&&Q(e)<=Q(r)&&e!==p)return X(t,b);if(o.status===q&&0!==t.avail_in)return X(t,b);if(0!==t.avail_in||0!==o.lookahead||e!==c&&o.status!==q){var E=o.strategy===v?tf(o,e):o.strategy===S?tc(o,e):n[o.level].func(o,e);if((E===K||E===Z)&&(o.status=q),E===G||E===K)return 0===t.avail_out&&(o.last_flush=-1),y;if(E===Y&&(e===f?a._tr_align(o):e!==h&&(a._tr_stored_block(o,0,0,!1),e===d&&(tt(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),te(t),0===t.avail_out))return o.last_flush=-1,y}return e!==p?y:o.wrap<=0?g:(2===o.wrap?(tn(o,255&t.adler),tn(o,t.adler>>8&255),tn(o,t.adler>>16&255),tn(o,t.adler>>24&255),tn(o,255&t.total_in),tn(o,t.total_in>>8&255),tn(o,t.total_in>>16&255),tn(o,t.total_in>>24&255)):(ti(o,t.adler>>>16),ti(o,65535&t.adler)),te(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?y:g)}function tE(t){var e;return t&&t.state?(e=t.state.status)!==j&&e!==W&&e!==H&&e!==z&&e!==V&&e!==$&&e!==q?X(t,m):(t.state=null,e===$?X(t,_):y):m}function tv(t,e){var r,n,a,u,l,c,f,d,p=e.length;if(!t||!t.state||2===(u=(r=t.state).wrap)||1===u&&r.status!==j||r.lookahead)return m;for(1===u&&(t.adler=s(t.adler,e,p,0)),r.wrap=0,p>=r.w_size&&(0===u&&(tt(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new o.Buf8(r.w_size),o.arraySet(d,e,p-r.w_size,r.w_size,0),e=d,p=r.w_size),l=t.avail_in,c=t.next_in,f=t.input,t.avail_in=p,t.next_in=0,t.input=e,ts(r);r.lookahead>=F;){n=r.strstart,a=r.lookahead-(F-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+F-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--a)r.strstart=n,r.lookahead=F-1,ts(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=F-1,r.match_available=0,t.next_in=c,t.input=f,t.avail_in=l,r.wrap=u,y}n=[new td(0,0,0,0,function(t,e){var r=65535;for(65535>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ts(t),0===t.lookahead&&e===c)return G;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,tr(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-B&&(tr(t,!1),0===t.strm.avail_out))return G}return(t.insert=0,e===p)?(tr(t,!0),0===t.strm.avail_out)?K:Z:(t.strstart>t.block_start&&(tr(t,!1),t.strm.avail_out),G)}),new td(4,4,8,4,tu),new td(4,5,16,8,tu),new td(4,6,32,32,tu),new td(4,4,16,16,tl),new td(8,16,32,32,tl),new td(8,16,128,128,tl),new td(8,32,128,256,tl),new td(32,128,258,1024,tl),new td(32,258,258,4096,tl)],e.deflateInit=tb,e.deflateInit2=t_,e.deflateReset=tg,e.deflateResetKeep=ty,e.deflateSetHeader=tm,e.deflate=tw,e.deflateEnd=tE,e.deflateSetDictionary=tv,e.deflateInfo="pako deflate (from Nodeca project)"},4264:t=>{"use strict";var e=30,r=12;t.exports=function(t,n){var o,a,s,u,l,c,f,d,p,h,y,g,m,_,b,w,E,v,S,T,O,A,I,N,D;o=t.state,a=t.next_in,N=t.input,s=a+(t.avail_in-5),u=t.next_out,D=t.output,l=u-(n-t.avail_out),c=u+(t.avail_out-257),f=o.dmax,d=o.wsize,p=o.whave,h=o.wnext,y=o.window,g=o.hold,m=o.bits,_=o.lencode,b=o.distcode,w=(1<<o.lenbits)-1,E=(1<<o.distbits)-1;n:do for(m<15&&(g+=N[a++]<<m,m+=8,g+=N[a++]<<m,m+=8),v=_[g&w];;){if(g>>>=S=v>>>24,m-=S,0==(S=v>>>16&255))D[u++]=65535&v;else if(16&S)for(T=65535&v,(S&=15)&&(m<S&&(g+=N[a++]<<m,m+=8),T+=g&(1<<S)-1,g>>>=S,m-=S),m<15&&(g+=N[a++]<<m,m+=8,g+=N[a++]<<m,m+=8),v=b[g&E];;){if(g>>>=S=v>>>24,m-=S,16&(S=v>>>16&255)){if(O=65535&v,m<(S&=15)&&(g+=N[a++]<<m,(m+=8)<S&&(g+=N[a++]<<m,m+=8)),(O+=g&(1<<S)-1)>f){t.msg="invalid distance too far back",o.mode=e;break n}if(g>>>=S,m-=S,O>(S=u-l)){if((S=O-S)>p&&o.sane){t.msg="invalid distance too far back",o.mode=e;break n}if(A=0,I=y,0===h){if(A+=d-S,S<T){T-=S;do D[u++]=y[A++];while(--S)A=u-O,I=D}}else if(h<S){if(A+=d+h-S,(S-=h)<T){T-=S;do D[u++]=y[A++];while(--S)if(A=0,h<T){T-=S=h;do D[u++]=y[A++];while(--S)A=u-O,I=D}}}else if(A+=h-S,S<T){T-=S;do D[u++]=y[A++];while(--S)A=u-O,I=D}for(;T>2;)D[u++]=I[A++],D[u++]=I[A++],D[u++]=I[A++],T-=3;T&&(D[u++]=I[A++],T>1&&(D[u++]=I[A++]))}else{A=u-O;do D[u++]=D[A++],D[u++]=D[A++],D[u++]=D[A++],T-=3;while(T>2)T&&(D[u++]=D[A++],T>1&&(D[u++]=D[A++]))}}else if((64&S)==0){v=b[(65535&v)+(g&(1<<S)-1)];continue}else{t.msg="invalid distance code",o.mode=e;break n}break}else if((64&S)==0){v=_[(65535&v)+(g&(1<<S)-1)];continue}else if(32&S){o.mode=r;break n}else{t.msg="invalid literal/length code",o.mode=e;break n}break}while(a<s&&u<c)a-=T=m>>3,m-=T<<3,g&=(1<<m)-1,t.next_in=a,t.next_out=u,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=u<c?257+(c-u):257-(u-c),o.hold=g,o.bits=m}},7948:(t,e,r)=>{"use strict";var n,o,a=r(4236),s=r(6069),u=r(2869),l=r(4264),c=r(9241),f=0,d=1,p=2,h=4,y=5,g=6,m=0,_=1,b=2,w=-2,E=-3,v=-4,S=-5,T=8,O=1,A=2,I=3,N=4,D=5,R=6,C=7,M=8,x=9,k=10,L=11,F=12,P=13,B=14,U=15,j=16,W=17,H=18,z=19,V=20,$=21,q=22,G=23,Y=24,K=25,Z=26,J=27,X=28,Q=29,tt=30,te=31,tr=852,tn=592,ti=15;function to(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ta(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ts(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=O,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(tr),e.distcode=e.distdyn=new a.Buf32(tn),e.sane=1,e.back=-1,m):w}function tu(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ts(t)):w}function tl(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?w:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,tu(t)):w}function tc(t,e){var r,n;return t?(n=new ta,t.state=n,n.window=null,(r=tl(t,e))!==m&&(t.state=null),r):w}function tf(t){return tc(t,ti)}var td=!0;function tp(t){if(td){var e;for(n=new a.Buf32(512),o=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(c(d,t.lens,0,288,n,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;c(p,t.lens,0,32,o,0,t.work,{bits:5}),td=!1}t.lencode=n,t.lenbits=9,t.distcode=o,t.distbits=5}function th(t,e,r,n){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new a.Buf8(s.wsize)),n>=s.wsize?(a.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>n&&(o=n),a.arraySet(s.window,e,r-n,o,s.wnext),(n-=o)?(a.arraySet(s.window,e,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}function ty(t,e){var r,n,o,tr,tn,ti,ta,ts,tu,tl,tc,tf,td,ty,tg,tm,t_,tb,tw,tE,tv,tS,tT,tO,tA=0,tI=new a.Buf8(4),tN=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;(r=t.state).mode===F&&(r.mode=P),tn=t.next_out,o=t.output,ta=t.avail_out,tr=t.next_in,n=t.input,ti=t.avail_in,ts=r.hold,tu=r.bits,tl=ti,tc=ta,tS=m;i:for(;;)switch(r.mode){case O:if(0===r.wrap){r.mode=P;break}for(;tu<16;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(2&r.wrap&&35615===ts){r.check=0,tI[0]=255&ts,tI[1]=ts>>>8&255,r.check=u(r.check,tI,2,0),ts=0,tu=0,r.mode=A;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ts)<<8)+(ts>>8))%31){t.msg="incorrect header check",r.mode=tt;break}if((15&ts)!==T){t.msg="unknown compression method",r.mode=tt;break}if(ts>>>=4,tu-=4,tv=(15&ts)+8,0===r.wbits)r.wbits=tv;else if(tv>r.wbits){t.msg="invalid window size",r.mode=tt;break}r.dmax=1<<tv,t.adler=r.check=1,r.mode=512&ts?k:F,ts=0,tu=0;break;case A:for(;tu<16;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(r.flags=ts,(255&r.flags)!==T){t.msg="unknown compression method",r.mode=tt;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=tt;break}r.head&&(r.head.text=ts>>8&1),512&r.flags&&(tI[0]=255&ts,tI[1]=ts>>>8&255,r.check=u(r.check,tI,2,0)),ts=0,tu=0,r.mode=I;case I:for(;tu<32;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.head&&(r.head.time=ts),512&r.flags&&(tI[0]=255&ts,tI[1]=ts>>>8&255,tI[2]=ts>>>16&255,tI[3]=ts>>>24&255,r.check=u(r.check,tI,4,0)),ts=0,tu=0,r.mode=N;case N:for(;tu<16;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.head&&(r.head.xflags=255&ts,r.head.os=ts>>8),512&r.flags&&(tI[0]=255&ts,tI[1]=ts>>>8&255,r.check=u(r.check,tI,2,0)),ts=0,tu=0,r.mode=D;case D:if(1024&r.flags){for(;tu<16;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.length=ts,r.head&&(r.head.extra_len=ts),512&r.flags&&(tI[0]=255&ts,tI[1]=ts>>>8&255,r.check=u(r.check,tI,2,0)),ts=0,tu=0}else r.head&&(r.head.extra=null);r.mode=R;case R:if(1024&r.flags&&((tf=r.length)>ti&&(tf=ti),tf&&(r.head&&(tv=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),a.arraySet(r.head.extra,n,tr,tf,tv)),512&r.flags&&(r.check=u(r.check,n,tf,tr)),ti-=tf,tr+=tf,r.length-=tf),r.length))break i;r.length=0,r.mode=C;case C:if(2048&r.flags){if(0===ti)break i;tf=0;do tv=n[tr+tf++],r.head&&tv&&r.length<65536&&(r.head.name+=String.fromCharCode(tv));while(tv&&tf<ti)if(512&r.flags&&(r.check=u(r.check,n,tf,tr)),ti-=tf,tr+=tf,tv)break i}else r.head&&(r.head.name=null);r.length=0,r.mode=M;case M:if(4096&r.flags){if(0===ti)break i;tf=0;do tv=n[tr+tf++],r.head&&tv&&r.length<65536&&(r.head.comment+=String.fromCharCode(tv));while(tv&&tf<ti)if(512&r.flags&&(r.check=u(r.check,n,tf,tr)),ti-=tf,tr+=tf,tv)break i}else r.head&&(r.head.comment=null);r.mode=x;case x:if(512&r.flags){for(;tu<16;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(ts!==(65535&r.check)){t.msg="header crc mismatch",r.mode=tt;break}ts=0,tu=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=F;break;case k:for(;tu<32;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}t.adler=r.check=to(ts),ts=0,tu=0,r.mode=L;case L:if(0===r.havedict)return t.next_out=tn,t.avail_out=ta,t.next_in=tr,t.avail_in=ti,r.hold=ts,r.bits=tu,b;t.adler=r.check=1,r.mode=F;case F:if(e===y||e===g)break i;case P:if(r.last){ts>>>=7&tu,tu-=7&tu,r.mode=J;break}for(;tu<3;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}switch(r.last=1&ts,tu-=1,3&(ts>>>=1)){case 0:r.mode=B;break;case 1:if(tp(r),r.mode=V,e===g){ts>>>=2,tu-=2;break i}break;case 2:r.mode=W;break;case 3:t.msg="invalid block type",r.mode=tt}ts>>>=2,tu-=2;break;case B:for(ts>>>=7&tu,tu-=7&tu;tu<32;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if((65535&ts)!=(ts>>>16^65535)){t.msg="invalid stored block lengths",r.mode=tt;break}if(r.length=65535&ts,ts=0,tu=0,r.mode=U,e===g)break i;case U:r.mode=j;case j:if(tf=r.length){if(tf>ti&&(tf=ti),tf>ta&&(tf=ta),0===tf)break i;a.arraySet(o,n,tr,tf,tn),ti-=tf,tr+=tf,ta-=tf,tn+=tf,r.length-=tf;break}r.mode=F;break;case W:for(;tu<14;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(r.nlen=(31&ts)+257,ts>>>=5,tu-=5,r.ndist=(31&ts)+1,ts>>>=5,tu-=5,r.ncode=(15&ts)+4,ts>>>=4,tu-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=tt;break}r.have=0,r.mode=H;case H:for(;r.have<r.ncode;){for(;tu<3;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.lens[tN[r.have++]]=7&ts,ts>>>=3,tu-=3}for(;r.have<19;)r.lens[tN[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,tT={bits:r.lenbits},tS=c(f,r.lens,0,19,r.lencode,0,r.work,tT),r.lenbits=tT.bits,tS){t.msg="invalid code lengths set",r.mode=tt;break}r.have=0,r.mode=z;case z:for(;r.have<r.nlen+r.ndist;){for(;tg=(tA=r.lencode[ts&(1<<r.lenbits)-1])>>>24,tm=tA>>>16&255,t_=65535&tA,!(tg<=tu);){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(t_<16)ts>>>=tg,tu-=tg,r.lens[r.have++]=t_;else{if(16===t_){for(tO=tg+2;tu<tO;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(ts>>>=tg,tu-=tg,0===r.have){t.msg="invalid bit length repeat",r.mode=tt;break}tv=r.lens[r.have-1],tf=3+(3&ts),ts>>>=2,tu-=2}else if(17===t_){for(tO=tg+3;tu<tO;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}ts>>>=tg,tu-=tg,tv=0,tf=3+(7&ts),ts>>>=3,tu-=3}else{for(tO=tg+7;tu<tO;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}ts>>>=tg,tu-=tg,tv=0,tf=11+(127&ts),ts>>>=7,tu-=7}if(r.have+tf>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=tt;break}for(;tf--;)r.lens[r.have++]=tv}}if(r.mode===tt)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=tt;break}if(r.lenbits=9,tT={bits:r.lenbits},tS=c(d,r.lens,0,r.nlen,r.lencode,0,r.work,tT),r.lenbits=tT.bits,tS){t.msg="invalid literal/lengths set",r.mode=tt;break}if(r.distbits=6,r.distcode=r.distdyn,tT={bits:r.distbits},tS=c(p,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,tT),r.distbits=tT.bits,tS){t.msg="invalid distances set",r.mode=tt;break}if(r.mode=V,e===g)break i;case V:r.mode=$;case $:if(ti>=6&&ta>=258){t.next_out=tn,t.avail_out=ta,t.next_in=tr,t.avail_in=ti,r.hold=ts,r.bits=tu,l(t,tc),tn=t.next_out,o=t.output,ta=t.avail_out,tr=t.next_in,n=t.input,ti=t.avail_in,ts=r.hold,tu=r.bits,r.mode===F&&(r.back=-1);break}for(r.back=0;tg=(tA=r.lencode[ts&(1<<r.lenbits)-1])>>>24,tm=tA>>>16&255,t_=65535&tA,!(tg<=tu);){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(tm&&(240&tm)==0){for(tb=tg,tw=tm,tE=t_;tg=(tA=r.lencode[tE+((ts&(1<<tb+tw)-1)>>tb)])>>>24,tm=tA>>>16&255,t_=65535&tA,!(tb+tg<=tu);){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}ts>>>=tb,tu-=tb,r.back+=tb}if(ts>>>=tg,tu-=tg,r.back+=tg,r.length=t_,0===tm){r.mode=Z;break}if(32&tm){r.back=-1,r.mode=F;break}if(64&tm){t.msg="invalid literal/length code",r.mode=tt;break}r.extra=15&tm,r.mode=q;case q:if(r.extra){for(tO=r.extra;tu<tO;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.length+=ts&(1<<r.extra)-1,ts>>>=r.extra,tu-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=G;case G:for(;tg=(tA=r.distcode[ts&(1<<r.distbits)-1])>>>24,tm=tA>>>16&255,t_=65535&tA,!(tg<=tu);){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if((240&tm)==0){for(tb=tg,tw=tm,tE=t_;tg=(tA=r.distcode[tE+((ts&(1<<tb+tw)-1)>>tb)])>>>24,tm=tA>>>16&255,t_=65535&tA,!(tb+tg<=tu);){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}ts>>>=tb,tu-=tb,r.back+=tb}if(ts>>>=tg,tu-=tg,r.back+=tg,64&tm){t.msg="invalid distance code",r.mode=tt;break}r.offset=t_,r.extra=15&tm,r.mode=Y;case Y:if(r.extra){for(tO=r.extra;tu<tO;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}r.offset+=ts&(1<<r.extra)-1,ts>>>=r.extra,tu-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=tt;break}r.mode=K;case K:if(0===ta)break i;if(tf=tc-ta,r.offset>tf){if((tf=r.offset-tf)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=tt;break}tf>r.wnext?(tf-=r.wnext,td=r.wsize-tf):td=r.wnext-tf,tf>r.length&&(tf=r.length),ty=r.window}else ty=o,td=tn-r.offset,tf=r.length;tf>ta&&(tf=ta),ta-=tf,r.length-=tf;do o[tn++]=ty[td++];while(--tf)0===r.length&&(r.mode=$);break;case Z:if(0===ta)break i;o[tn++]=r.length,ta--,r.mode=$;break;case J:if(r.wrap){for(;tu<32;){if(0===ti)break i;ti--,ts|=n[tr++]<<tu,tu+=8}if(tc-=ta,t.total_out+=tc,r.total+=tc,tc&&(t.adler=r.check=r.flags?u(r.check,o,tc,tn-tc):s(r.check,o,tc,tn-tc)),tc=ta,(r.flags?ts:to(ts))!==r.check){t.msg="incorrect data check",r.mode=tt;break}ts=0,tu=0}r.mode=X;case X:if(r.wrap&&r.flags){for(;tu<32;){if(0===ti)break i;ti--,ts+=n[tr++]<<tu,tu+=8}if(ts!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=tt;break}ts=0,tu=0}r.mode=Q;case Q:tS=_;break i;case tt:tS=E;break i;case te:return v;default:return w}return(t.next_out=tn,t.avail_out=ta,t.next_in=tr,t.avail_in=ti,r.hold=ts,r.bits=tu,(r.wsize||tc!==t.avail_out&&r.mode<tt&&(r.mode<J||e!==h))&&th(t,t.output,t.next_out,tc-t.avail_out))?(r.mode=te,v):(tl-=t.avail_in,tc-=t.avail_out,t.total_in+=tl,t.total_out+=tc,r.total+=tc,r.wrap&&tc&&(t.adler=r.check=r.flags?u(r.check,o,tc,t.next_out-tc):s(r.check,o,tc,t.next_out-tc)),t.data_type=r.bits+(r.last?64:0)+(r.mode===F?128:0)+(r.mode===V||r.mode===U?256:0),(0===tl&&0===tc||e===h)&&tS===m&&(tS=S),tS)}function tg(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,m}function tm(t,e){var r;return t&&t.state&&(2&(r=t.state).wrap)!=0?(r.head=e,e.done=!1,m):w}function t_(t,e){var r,n,o=e.length;return t&&t.state&&(0===(r=t.state).wrap||r.mode===L)?r.mode===L&&(n=s(n=1,e,o,0))!==r.check?E:th(t,e,o,o)?(r.mode=te,v):(r.havedict=1,m):w}e.inflateReset=tu,e.inflateReset2=tl,e.inflateResetKeep=ts,e.inflateInit=tf,e.inflateInit2=tc,e.inflate=ty,e.inflateEnd=tg,e.inflateGetHeader=tm,e.inflateSetDictionary=t_,e.inflateInfo="pako inflate (from Nodeca project)"},9241:(t,e,r)=>{"use strict";var n=r(4236),o=15,a=852,s=592,u=0,l=1,c=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,y,g,m,_,b){var w,E,v,S,T,O,A,I,N,D=b.bits,R=0,C=0,M=0,x=0,k=0,L=0,F=0,P=0,B=0,U=0,j=null,W=0,H=new n.Buf16(o+1),z=new n.Buf16(o+1),V=null,$=0;for(R=0;R<=o;R++)H[R]=0;for(C=0;C<y;C++)H[e[r+C]]++;for(k=D,x=o;x>=1&&0===H[x];x--);if(k>x&&(k=x),0===x)return g[m++]=20971520,g[m++]=20971520,b.bits=1,0;for(M=1;M<x&&0===H[M];M++);for(k<M&&(k=M),P=1,R=1;R<=o;R++)if(P<<=1,(P-=H[R])<0)return -1;if(P>0&&(t===u||1!==x))return -1;for(R=1,z[1]=0;R<o;R++)z[R+1]=z[R]+H[R];for(C=0;C<y;C++)0!==e[r+C]&&(_[z[e[r+C]]++]=C);if(t===u?(j=V=_,O=19):t===l?(j=f,W-=257,V=d,$-=257,O=256):(j=p,V=h,O=-1),U=0,C=0,R=M,T=m,L=k,F=0,v=-1,S=(B=1<<k)-1,t===l&&B>a||t===c&&B>s)return 1;for(;;){A=R-F,_[C]<O?(I=0,N=_[C]):_[C]>O?(I=V[$+_[C]],N=j[W+_[C]]):(I=96,N=0),w=1<<R-F,M=E=1<<L;do g[T+(U>>F)+(E-=w)]=A<<24|I<<16|N|0;while(0!==E)for(w=1<<R-1;U&w;)w>>=1;if(0!==w?(U&=w-1,U+=w):U=0,C++,0==--H[R]){if(R===x)break;R=e[r+_[C]]}if(R>k&&(U&S)!==v){for(0===F&&(F=k),T+=M,P=1<<(L=R-F);L+F<x&&!((P-=H[L+F])<=0);)L++,P<<=1;if(B+=1<<L,t===l&&B>a||t===c&&B>s)return 1;g[v=U&S]=k<<24|L<<16|T-m|0}}return 0!==U&&(g[T+U]=R-F<<24|4194304),b.bits=k,0}},8898:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(t,e,r)=>{"use strict";var n,o,a,s=r(4236),u=4,l=0,c=1,f=2;function d(t){for(var e=t.length;--e>=0;)t[e]=0}var p=0,h=1,y=2,g=3,m=258,_=29,b=256,w=286,E=30,v=19,S=573,T=15,O=16,A=7,I=256,N=16,D=17,R=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,F=Array(576);d(F);var P=Array(2*E);d(P);var B=Array(L);d(B);var U=Array(m-g+1);d(U);var j=Array(_);d(j);var W=Array(E);function H(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}function z(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function V(t){return t<256?B[t]:B[256+(t>>>7)]}function $(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function q(t,e,r){t.bi_valid>O-r?(t.bi_buf|=e<<t.bi_valid&65535,$(t,t.bi_buf),t.bi_buf=e>>O-t.bi_valid,t.bi_valid+=r-O):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function G(t,e,r){q(t,r[2*e],r[2*e+1])}function Y(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0)return r>>>1}function K(t){16===t.bi_valid?($(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function Z(t,e){var r,n,o,a,s,u,l=e.dyn_tree,c=e.max_code,f=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,y=e.stat_desc.max_length,g=0;for(a=0;a<=T;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<S;r++)(a=l[2*l[2*(n=t.heap[r])+1]+1]+1)>y&&(a=y,g++),l[2*n+1]=a,!(n>c)&&(t.bl_count[a]++,s=0,n>=h&&(s=p[n-h]),u=l[2*n],t.opt_len+=u*(a+s),d&&(t.static_len+=u*(f[2*n+1]+s)));if(0!==g){do{for(a=y-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[y]--,g-=2}while(g>0)for(a=y;0!==a;a--)for(n=t.bl_count[a];0!==n;)!((o=t.heap[--r])>c)&&(l[2*o+1]!==a&&(t.opt_len+=(a-l[2*o+1])*l[2*o],l[2*o+1]=a),n--)}}function J(t,e,r){var n,o,a=Array(T+1),s=0;for(n=1;n<=T;n++)a[n]=s=s+r[n-1]<<1;for(o=0;o<=e;o++){var u=t[2*o+1];0!==u&&(t[2*o]=Y(a[u]++,u))}}function X(){var t,e,r,s,u,l=Array(T+1);for(s=0,r=0;s<_-1;s++)for(t=0,j[s]=r;t<1<<C[s];t++)U[r++]=s;for(U[r-1]=s,u=0,s=0;s<16;s++)for(t=0,W[s]=u;t<1<<M[s];t++)B[u++]=s;for(u>>=7;s<E;s++)for(t=0,W[s]=u<<7;t<1<<M[s]-7;t++)B[256+u++]=s;for(e=0;e<=T;e++)l[e]=0;for(t=0;t<=143;)F[2*t+1]=8,t++,l[8]++;for(;t<=255;)F[2*t+1]=9,t++,l[9]++;for(;t<=279;)F[2*t+1]=7,t++,l[7]++;for(;t<=287;)F[2*t+1]=8,t++,l[8]++;for(J(F,w+1,l),t=0;t<E;t++)P[2*t+1]=5,P[2*t]=Y(t,5);n=new H(F,C,b+1,w,T),o=new H(P,M,0,E,T),a=new H([],x,0,v,A)}function Q(t){var e;for(e=0;e<w;e++)t.dyn_ltree[2*e]=0;for(e=0;e<E;e++)t.dyn_dtree[2*e]=0;for(e=0;e<v;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*I]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function tt(t){t.bi_valid>8?$(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function te(t,e,r,n){tt(t),n&&($(t,r),$(t,~r)),s.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function tr(t,e,r,n){var o=2*e,a=2*r;return t[o]<t[a]||t[o]===t[a]&&n[e]<=n[r]}function tn(t,e,r){for(var n=t.heap[r],o=r<<1;o<=t.heap_len&&(o<t.heap_len&&tr(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!tr(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n}function ti(t,e,r){var n,o,a,s,u=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],o=t.pending_buf[t.l_buf+u],u++,0===n?G(t,o,e):(G(t,(a=U[o])+b+1,e),0!==(s=C[a])&&q(t,o-=j[a],s),G(t,a=V(--n),r),0!==(s=M[a])&&q(t,n-=W[a],s));while(u<t.last_lit)G(t,I,e)}function to(t,e){var r,n,o,a=e.dyn_tree,s=e.stat_desc.static_tree,u=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(r=0,t.heap_len=0,t.heap_max=S;r<l;r++)0!==a[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,u&&(t.static_len-=s[2*o+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)tn(t,a,r);o=l;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],tn(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*o]=a[2*r]+a[2*n],t.depth[o]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=o,t.heap[1]=o++,tn(t,a,1);while(t.heap_len>=2)t.heap[--t.heap_max]=t.heap[1],Z(t,e),J(a,c,t.bl_count)}function ta(t,e,r){var n,o,a=-1,s=e[1],u=0,l=7,c=4;for(0===s&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)o=s,s=e[(n+1)*2+1],++u<l&&o===s||(u<c?t.bl_tree[2*o]+=u:0!==o?(o!==a&&t.bl_tree[2*o]++,t.bl_tree[2*N]++):u<=10?t.bl_tree[2*D]++:t.bl_tree[2*R]++,u=0,a=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function ts(t,e,r){var n,o,a=-1,s=e[1],u=0,l=7,c=4;for(0===s&&(l=138,c=3),n=0;n<=r;n++)if(o=s,s=e[(n+1)*2+1],!(++u<l)||o!==s){if(u<c)do G(t,o,t.bl_tree);while(0!=--u)else 0!==o?(o!==a&&(G(t,o,t.bl_tree),u--),G(t,N,t.bl_tree),q(t,u-3,2)):u<=10?(G(t,D,t.bl_tree),q(t,u-3,3)):(G(t,R,t.bl_tree),q(t,u-11,7));u=0,a=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function tu(t){var e;for(ta(t,t.dyn_ltree,t.l_desc.max_code),ta(t,t.dyn_dtree,t.d_desc.max_code),to(t,t.bl_desc),e=v-1;e>=3&&0===t.bl_tree[2*k[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function tl(t,e,r,n){var o;for(q(t,e-257,5),q(t,r-1,5),q(t,n-4,4),o=0;o<n;o++)q(t,t.bl_tree[2*k[o]+1],3);ts(t,t.dyn_ltree,e-1),ts(t,t.dyn_dtree,r-1)}function tc(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return l;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return c;for(e=32;e<b;e++)if(0!==t.dyn_ltree[2*e])return c;return l}d(W);var tf=!1;function td(t){tf||(X(),tf=!0),t.l_desc=new z(t.dyn_ltree,n),t.d_desc=new z(t.dyn_dtree,o),t.bl_desc=new z(t.bl_tree,a),t.bi_buf=0,t.bi_valid=0,Q(t)}function tp(t,e,r,n){q(t,(p<<1)+(n?1:0),3),te(t,e,r,!0)}function th(t){q(t,h<<1,3),G(t,I,F),K(t)}function ty(t,e,r,n){var o,a,s=0;t.level>0?(t.strm.data_type===f&&(t.strm.data_type=tc(t)),to(t,t.l_desc),to(t,t.d_desc),s=tu(t),o=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=o&&(o=a)):o=a=r+5,r+4<=o&&-1!==e?tp(t,e,r,n):t.strategy===u||a===o?(q(t,(h<<1)+(n?1:0),3),ti(t,F,P)):(q(t,(y<<1)+(n?1:0),3),tl(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ti(t,t.dyn_ltree,t.dyn_dtree)),Q(t),n&&tt(t)}function tg(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(U[r]+b+1)*2]++,t.dyn_dtree[2*V(e)]++),t.last_lit===t.lit_bufsize-1}e._tr_init=td,e._tr_stored_block=tp,e._tr_flush_block=ty,e._tr_tally=tg,e._tr_align=th},2292:t=>{"use strict";function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=e},6470:(t,e,r)=>{"use strict";var n=r(4155);function o(t){if("string"!=typeof t)throw TypeError("Path must be a string. Received "+JSON.stringify(t))}function a(t,e){for(var r,n="",o=0,a=-1,s=0,u=0;u<=t.length;++u){if(u<t.length)r=t.charCodeAt(u);else if(47===r)break;else r=47;if(47===r){if(a===u-1||1===s);else if(a!==u-1&&2===s){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",o=0):o=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=u,s=0;continue}}else if(2===n.length||1===n.length){n="",o=0,a=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),o=u-a-1;a=u,s=0}else 46===r&&-1!==s?++s:s=-1}return n}function s(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var u={resolve:function(){for(var t,e,r="",s=!1,u=arguments.length-1;u>=-1&&!s;u--)u>=0?e=arguments[u]:(void 0===t&&(t=n.cwd()),e=t),o(e),0!==e.length&&(r=e+"/"+r,s=47===e.charCodeAt(0));return(r=a(r,!s),s)?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(o(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return(0!==(t=a(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e)?"/"+t:t},isAbsolute:function(t){return o(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];o(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":u.normalize(t)},relative:function(t,e){if(o(t),o(e),t===e||(t=u.resolve(t))===(e=u.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,a=n-r,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var l=e.length-s,c=a<l?a:l,f=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===e.charCodeAt(s+d))return e.slice(s+d+1);if(0===d)return e.slice(s+d)}else a>c&&(47===t.charCodeAt(r+d)?f=d:0===d&&(f=0));break}var p=t.charCodeAt(r+d);if(p!==e.charCodeAt(s+d))break;47===p&&(f=d)}var h="";for(d=r+f+1;d<=n;++d)(d===n||47===t.charCodeAt(d))&&(0===h.length?h+="..":h+="/..");return h.length>0?h+e.slice(s+f):(s+=f,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(o(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,a=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!a){n=s;break}}else a=!1;return -1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw TypeError('"ext" argument must be a string');o(t);var r,n=0,a=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var u=e.length-1,l=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(47===c){if(!s){n=r+1;break}}else -1===l&&(s=!1,l=r+1),u>=0&&(c===e.charCodeAt(u)?-1==--u&&(a=r):(u=-1,a=l))}return n===a?a=l:-1===a&&(a=t.length),t.slice(n,a)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){n=r+1;break}}else -1===a&&(s=!1,a=r+1);return -1===a?"":t.slice(n,a)},extname:function(t){o(t);for(var e=-1,r=0,n=-1,a=!0,s=0,u=t.length-1;u>=0;--u){var l=t.charCodeAt(u);if(47===l){if(!a){r=u+1;break}continue}-1===n&&(a=!1,n=u+1),46===l?-1===e?e=u:1!==s&&(s=1):-1!==e&&(s=-1)}return -1===e||-1===n||0===s||1===s&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return s("/",t)},parse:function(t){o(t);var e,r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n=t.charCodeAt(0),a=47===n;a?(r.root="/",e=1):e=0;for(var s=-1,u=0,l=-1,c=!0,f=t.length-1,d=0;f>=e;--f){if(47===(n=t.charCodeAt(f))){if(!c){u=f+1;break}continue}-1===l&&(c=!1,l=f+1),46===n?-1===s?s=f:1!==d&&(d=1):-1!==s&&(d=-1)}return -1===s||-1===l||0===d||1===d&&s===l-1&&s===u+1?-1!==l&&(0===u&&a?r.base=r.name=t.slice(1,l):r.base=r.name=t.slice(u,l)):(0===u&&a?(r.name=t.slice(1,s),r.base=t.slice(1,l)):(r.name=t.slice(u,s),r.base=t.slice(u,l)),r.ext=t.slice(s,l)),u>0?r.dir=t.slice(0,u-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,t.exports=u},9908:t=>{"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},4155:t=>{var e,r,n,o=t.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function u(t){if(e===setTimeout)return setTimeout(t,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}function l(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:a}catch(t){e=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c=[],f=!1,d=-1;function p(){f&&n&&(f=!1,n.length?c=n.concat(c):d=-1,c.length&&h())}function h(){if(!f){var t=u(p);f=!0;for(var e=c.length;e;){for(n=c,c=[];++d<e;)n&&n[d].run();d=-1,e=c.length}n=null,f=!1,l(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new y(t,e)),1!==c.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},4281:t=>{"use strict";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var r={};function n(t,n,o){function a(t,e,r){return"string"==typeof n?n:n(t,e,r)}o||(o=Error);var s=function(t){function r(e,r,n){return t.call(this,a(e,r,n))||this}return e(r,t),r}(o);s.prototype.name=o.name,s.prototype.code=t,r[t]=s}function o(t,e){if(!Array.isArray(t))return"of ".concat(e," ").concat(String(t));var r=t.length;return(t=t.map(function(t){return String(t)}),r>2)?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}function a(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function s(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function u(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}n("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(t,e,r){if("string"==typeof e&&a(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be",s(t," argument"))l="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var n,l,c=u(t,".")?"property":"argument";l='The "'.concat(t,'" ').concat(c," ").concat(n," ").concat(o(e,"type"))}return l+". Received type ".concat(typeof r)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=r},6753:(t,e,r)=>{"use strict";var n=r(4155),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=f;var a=r(9481),s=r(4229);r(5717)(f,a);for(var u=o(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=o;var n=r(4605);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}r(5717)(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var n,o,a,s,u,l=r(4155);t.exports=D,D.ReadableState=N,r(7187).EventEmitter;var c=function(t,e){return t.listeners(e).length},f=r(2503),d=r(8764).Buffer,p=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function h(t){return d.from(t)}function y(t){return d.isBuffer(t)||t instanceof p}var g=r(4616);o=g&&g.debuglog?g.debuglog("stream"):function(){};var m=r(7327),_=r(1195),b=r(2457).getHighWaterMark,w=r(4281).q,E=w.ERR_INVALID_ARG_TYPE,v=w.ERR_STREAM_PUSH_AFTER_EOF,S=w.ERR_METHOD_NOT_IMPLEMENTED,T=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(D,f);var O=_.errorOrDestroy,A=["error","close","destroy","pause","resume"];function I(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}function N(t,e,o){n=n||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof n),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",o),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=r(4626).s),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function D(t){if(n=n||r(6753),!(this instanceof D))return new D(t);var e=this instanceof n;this._readableState=new N(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),f.call(this)}function R(t,e,r,n,a){o("readableAddChunk",e);var s,u=t._readableState;if(null===e)u.reading=!1,F(t,u);else if(a||(s=M(u,e)),s)O(t,s);else if(u.objectMode||e&&e.length>0){if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===d.prototype||(e=h(e)),n)u.endEmitted?O(t,new T):C(t,u,e,!0);else if(u.ended)O(t,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?C(t,u,e,!1):U(t,u)):C(t,u,e,!1)}}else n||(u.reading=!1,U(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function C(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&P(t)),U(t,e)}function M(t,e){var r;return y(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new E("chunk",["string","Buffer","Uint8Array"],e)),r}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),D.prototype.destroy=_.destroy,D.prototype._undestroy=_.undestroy,D.prototype._destroy=function(t,e){e(t)},D.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=d.from(t,e),e=""),r=!0),R(this,t,e,!1,r)},D.prototype.unshift=function(t){return R(this,t,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(t){a||(a=r(4626).s);var e=new a(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,o="";null!==n;)o+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var x=1073741824;function k(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function L(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=k(t)),t<=e.length)?t:e.ended?e.length:(e.needReadable=!0,0)}function F(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?P(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,B(t)))}}function P(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,l.nextTick(B,t))}function B(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,q(t)}function U(t,e){e.readingMore||(e.readingMore=!0,l.nextTick(j,t,e))}function j(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(o("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function W(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&c(t,"data")&&(e.flowing=!0,q(t))}}function H(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function z(t){o("readable nexttick read 0"),t.read(0)}function V(t,e){e.resumeScheduled||(e.resumeScheduled=!0,l.nextTick($,t,e))}function $(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),q(t),e.flowing&&!e.reading&&t.read(0)}function q(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function G(t,e){var r;return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r)}function Y(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,l.nextTick(K,e,t))}function K(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function Z(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}D.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e,r=this._readableState,n=t;if(0!==t&&(r.emittedReadable=!1),0===t&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?Y(this):P(this),null;if(0===(t=L(t,r))&&r.ended)return 0===r.length&&Y(this),null;var a=r.needReadable;return o("need readable",a),(0===r.length||r.length-t<r.highWaterMark)&&o("length less than watermark",a=!0),r.ended||r.reading?o("reading or ended",a=!1):a&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(t=L(n,r))),null===(e=t>0?G(t,r):null)?(r.needReadable=r.length<=r.highWaterMark,t=0):(r.length-=t,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==t&&r.ended&&Y(this)),null!==e&&this.emit("data",e),e},D.prototype._read=function(t){O(this,new S("_read()"))},D.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,e);var a=e&&!1===e.end||t===l.stdout||t===l.stderr?_:u;function s(t,e){o("onunpipe"),t===r&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,p())}function u(){o("onend"),t.end()}n.endEmitted?l.nextTick(a):r.once("end",a),t.on("unpipe",s);var f=W(r);t.on("drain",f);var d=!1;function p(){o("cleanup"),t.removeListener("close",g),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",_),r.removeListener("data",h),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}function h(e){o("ondata");var a=t.write(e);o("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==Z(n.pipes,t))&&!d&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(e){o("onerror",e),_(),t.removeListener("error",y),0===c(t,"error")&&O(t,e)}function g(){t.removeListener("finish",m),_()}function m(){o("onfinish"),t.removeListener("close",g),_()}function _(){o("unpipe"),r.unpipe(t)}return r.on("data",h),I(t,"error",y),t.once("close",g),t.once("finish",m),t.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),t},D.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<o;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Z(e.pipes,t);return -1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},D.prototype.on=function(t,e){var r=f.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==t||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?P(this):n.reading||l.nextTick(z,this)),r},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(t,e){var r=f.prototype.removeListener.call(this,t,e);return"readable"===t&&l.nextTick(H,this),r},D.prototype.removeAllListeners=function(t){var e=f.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&l.nextTick(H,this),e},D.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,V(this,t)),t.paused=!1,this},D.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var a in t.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(a){o("wrapped data"),r.decoder&&(a=r.decoder.write(a)),(!r.objectMode||null!=a)&&(r.objectMode||a&&a.length)&&(e.push(a)||(n=!0,t.pause()))}),t)void 0===this[a]&&"function"==typeof t[a]&&(this[a]=function(e){return function(){return t[e].apply(t,arguments)}}(a));for(var s=0;s<A.length;s++)t.on(A[s],this.emit.bind(this,A[s]));return this._read=function(e){o("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===s&&(s=r(5850)),s(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),D._fromList=G,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function(t,e){return void 0===u&&(u=r(5167)),u(D,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=f;var n=r(4281).q,o=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(6753);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function f(t){if(!(this instanceof f))return new f(t);l.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",d)}function d(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(e,r){p(t,e,r)})}function p(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new u;if(t._transformState.transforming)throw new s;return t.push(null)}r(5717)(f,l),f.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},f.prototype._transform=function(t,e,r){r(new o("_transform()"))},f.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},f.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},f.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,function(t){e(t)})}},4229:(t,e,r)=>{"use strict";var n,o,a=r(4155);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$(e,t)}}t.exports=N,N.WritableState=I;var u={deprecate:r(4927)},l=r(2503),c=r(8764).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function d(t){return c.from(t)}function p(t){return c.isBuffer(t)||t instanceof f}var h=r(1195),y=r(2457).getHighWaterMark,g=r(4281).q,m=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,w=g.ERR_STREAM_CANNOT_PIPE,E=g.ERR_STREAM_DESTROYED,v=g.ERR_STREAM_NULL_VALUES,S=g.ERR_STREAM_WRITE_AFTER_END,T=g.ERR_UNKNOWN_ENCODING,O=h.errorOrDestroy;function A(){}function I(t,e,o){n=n||r(6753),t=t||{},"boolean"!=typeof o&&(o=e instanceof n),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=y(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){F(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function N(t){var e=this instanceof(n=n||r(6753));if(!e&&!o.call(N,this))return new N(t);this._writableState=new I(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function D(t,e){var r=new S;O(t,r),a.nextTick(e,r)}function R(t,e,r,n){var o;return null===r?o=new v:"string"==typeof r||e.objectMode||(o=new m("chunk",["string","Buffer"],r)),!o||(O(t,o),a.nextTick(n,o),!1)}function C(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r)),e}function M(t,e,r,n,o,a){if(!r){var s=C(e,n,o);n!==s&&(r=!0,o="buffer",n=s)}var u=e.objectMode?1:n.length;e.length+=u;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:a,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,u,n,o,a);return l}function x(t,e,r,n,o,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new E("write")):r?t._writev(o,e.onwrite):t._write(o,a,e.onwrite),e.sync=!1}function k(t,e,r,n,o){--e.pendingcb,r?(a.nextTick(o,n),a.nextTick(z,t,e),t._writableState.errorEmitted=!0,O(t,n)):(o(n),t._writableState.errorEmitted=!0,O(t,n),z(t,e))}function L(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function F(t,e){var r=t._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new b;if(L(r),e)k(t,r,n,e,o);else{var s=j(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||U(t,r),n?a.nextTick(P,t,r,s,o):P(t,r,s,o)}}function P(t,e,r,n){r||B(t,e),e.pendingcb--,n(),z(t,e)}function B(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function U(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)n[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;n.allBuffers=u,x(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:l.length;if(x(t,e,!1,d,l,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function j(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function W(t,e){t._final(function(r){e.pendingcb--,r&&O(t,r),e.prefinished=!0,t.emit("prefinish"),z(t,e)})}function H(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,a.nextTick(W,t,e)))}function z(t,e){var r=j(e);if(r&&(H(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function V(t,e,r){e.ending=!0,z(t,e),r&&(e.finished?a.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function $(t,e,r){var n=t.entry;for(t.entry=null;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree.next=t}r(5717)(N,l),I.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(I.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===N&&t&&t._writableState instanceof I}})):o=function(t){return t instanceof this},N.prototype.pipe=function(){O(this,new w)},N.prototype.write=function(t,e,r){var n=this._writableState,o=!1,a=!n.objectMode&&p(t);return a&&!c.isBuffer(t)&&(t=d(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=A),n.ending?D(this,r):(a||R(this,n,t,r))&&(n.pendingcb++,o=M(this,n,a,t,e,r)),o},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var t=this._writableState;!t.corked||(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||U(this,t))},N.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new T(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(t,e,r){r(new _("_write()"))},N.prototype._writev=null,N.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||V(this,n,r),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),N.prototype.destroy=h.destroy,N.prototype._undestroy=h.undestroy,N.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var n,o=r(4155);function a(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){var e=u(t,"string");return"symbol"==typeof e?e:String(e)}function u(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var l=r(8610),c=Symbol("lastResolve"),f=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),h=Symbol("lastPromise"),y=Symbol("handlePromise"),g=Symbol("stream");function m(t,e){return{value:t,done:e}}function _(t){var e=t[c];if(null!==e){var r=t[g].read();null!==r&&(t[h]=null,t[c]=null,t[f]=null,e(m(r,!1)))}}function b(t){o.nextTick(_,t)}function w(t,e){return function(r,n){t.then(function(){if(e[p]){r(m(void 0,!0));return}e[y](r,n)},n)}}var E=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((a(n={get stream(){return this[g]},next:function(){var t,e=this,r=this[d];if(null!==r)return Promise.reject(r);if(this[p])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(t,r){o.nextTick(function(){e[d]?r(e[d]):t(m(void 0,!0))})});var n=this[h];if(n)t=new Promise(w(n,this));else{var a=this[g].read();if(null!==a)return Promise.resolve(m(a,!1));t=new Promise(this[y])}return this[h]=t,t}},Symbol.asyncIterator,function(){return this}),a(n,"return",function(){var t=this;return new Promise(function(e,r){t[g].destroy(null,function(t){if(t){r(t);return}e(m(void 0,!0))})})}),n),E),S=function(t){var e,r=Object.create(v,(a(e={},g,{value:t,writable:!0}),a(e,c,{value:null,writable:!0}),a(e,f,{value:null,writable:!0}),a(e,d,{value:null,writable:!0}),a(e,p,{value:t._readableState.endEmitted,writable:!0}),a(e,y,{value:function(t,e){var n=r[g].read();n?(r[h]=null,r[c]=null,r[f]=null,t(m(n,!1))):(r[c]=t,r[f]=e)},writable:!0}),e));return r[h]=null,l(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[f];null!==e&&(r[h]=null,r[c]=null,r[f]=null,e(t)),r[d]=t;return}var n=r[c];null!==n&&(r[h]=null,r[c]=null,r[f]=null,n(m(void 0,!0))),r[p]=!0}),t.on("readable",b.bind(null,r)),r};t.exports=S},7327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function l(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=f(t,"string");return"symbol"==typeof e?e:String(e)}function f(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var d=r(8764).Buffer,p=r(2361).inspect,h=p&&p.custom||"inspect";function y(t,e,r){d.prototype.copy.call(t,e,r)}t.exports=function(){function t(){s(this,t),this.head=null,this.tail=null,this.length=0}return l(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return d.alloc(0);for(var e=d.allocUnsafe(t>>>0),r=this.head,n=0;r;)y(r.data,e,n),n+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var o=e.data,a=t>o.length?o.length:t;if(a===o.length?n+=o:n+=o.slice(0,t),0==(t-=a)){a===o.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=o.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=d.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(e,e.length-t,0,a),0==(t-=a)){a===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(a));break}++n}return this.length-=n,e}},{key:h,value:function(t,e){return p(this,o(o({},e),{},{depth:0,customInspect:!1}))}}]),t}()},1195:(t,e,r)=>{"use strict";var n=r(4155);function o(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(l,this,t)):n.nextTick(l,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(a,r,t)):n.nextTick(a,r,t):e?(n.nextTick(s,r),e(t)):n.nextTick(s,r)})),this}function a(t,e){l(t,e),s(t)}function s(t){(!t._writableState||t._writableState.emitClose)&&(!t._readableState||t._readableState.emitClose)&&t.emit("close")}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(t,e){t.emit("error",e)}function c(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}t.exports={destroy:o,undestroy:u,errorOrDestroy:c}},8610:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function o(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}function a(){}function s(t){return t.setHeader&&"function"==typeof t.abort}function u(t,e,r){if("function"==typeof e)return u(t,null,e);e||(e={}),r=o(r||a);var l=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,f=function(){t.writable||p()},d=t._writableState&&t._writableState.finished,p=function(){c=!1,d=!0,l||r.call(t)},h=t._readableState&&t._readableState.endEmitted,y=function(){l=!1,h=!0,c||r.call(t)},g=function(e){r.call(t,e)},m=function(){var e;return l&&!h?(t._readableState&&t._readableState.ended||(e=new n),r.call(t,e)):c&&!d?(t._writableState&&t._writableState.ended||(e=new n),r.call(t,e)):void 0},_=function(){t.req.on("finish",p)};return s(t)?(t.on("complete",p),t.on("abort",m),t.req?_():t.on("request",_)):c&&!t._writableState&&(t.on("end",f),t.on("close",f)),t.on("end",y),t.on("finish",p),!1!==e.error&&t.on("error",g),t.on("close",m),function(){t.removeListener("complete",p),t.removeListener("abort",m),t.removeListener("request",_),t.req&&t.req.removeListener("finish",p),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("end",y),t.removeListener("error",g),t.removeListener("close",m)}}t.exports=u},5167:t=>{t.exports=function(){throw Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";function n(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var o,a=r(4281).q,s=a.ERR_MISSING_ARGS,u=a.ERR_STREAM_DESTROYED;function l(t){if(t)throw t}function c(t){return t.setHeader&&"function"==typeof t.abort}function f(t,e,a,s){s=n(s);var l=!1;t.on("close",function(){l=!0}),void 0===o&&(o=r(8610)),o(t,{readable:e,writable:a},function(t){if(t)return s(t);l=!0,s()});var f=!1;return function(e){if(!l&&!f){if(f=!0,c(t))return t.abort();if("function"==typeof t.destroy)return t.destroy();s(e||new u("pipe"))}}}function d(t){t()}function p(t,e){return t.pipe(e)}function h(t){return t.length&&"function"==typeof t[t.length-1]?t.pop():l}function y(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=h(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new s("streams");var a=r.map(function(e,n){var s=n<r.length-1;return f(e,s,n>0,function(e){t||(t=e),e&&a.forEach(d),s||(a.forEach(d),o(t))})});return r.reduce(p)}t.exports=y},2457:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;function o(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}function a(t,e,r,a){var s=o(e,a,r);if(null!=s){if(!(isFinite(s)&&Math.floor(s)===s)||s<0)throw new n(a?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}t.exports={getHighWaterMark:a}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},4626:(t,e,r)=>{"use strict";var n=r(9509).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;if(!t)return"utf8";for(;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=a(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw Error("Unknown encoding: "+t);return e||t}function u(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=y,this.end=g,e=4;break;case"utf8":this.fillLast=d,e=4;break;case"base64":this.text=m,this.end=_,e=3;break;default:this.write=b,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function l(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function c(t,e,r){var n=e.length-1;if(n<r)return 0;var o=l(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||-2===o?0:(o=l(e[n]))>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||-2===o?0:(o=l(e[n]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}function f(t,e,r){if((192&e[0])!=128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((192&e[1])!=128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(192&e[2])!=128)return t.lastNeed=2,""}}function d(t){var e=this.lastTotal-this.lastNeed,r=f(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length)}function p(t,e){var r=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function y(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function m(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function _(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function b(t){return t.toString(this.encoding)}function w(t){return t&&t.length?this.write(t):""}e.s=u,u.prototype.write=function(t){var e,r;if(0===t.length)return"";if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},u.prototype.end=h,u.prototype.text=p,u.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},3697:(t,e,r)=>{"use strict";var n=r(8052),o=r(4453),a=Object;t.exports=n(function(){if(this==null||this!==a(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0)},2847:(t,e,r)=>{"use strict";var n=r(4289),o=r(5559),a=r(3697),s=r(1721),u=r(2753),l=o(s());n(l,{getPolyfill:s,implementation:a,shim:u}),t.exports=l},1721:(t,e,r)=>{"use strict";var n=r(3697),o=r(4289).supportsDescriptors,a=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/mig.flags){var t=a(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},2753:(t,e,r)=>{"use strict";var n=r(4289).supportsDescriptors,o=r(1721),a=Object.getOwnPropertyDescriptor,s=Object.defineProperty,u=TypeError,l=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!n||!l)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=l(c),r=a(e,"flags");return r&&r.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},9509:(t,e,r)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r(8764),o=n.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=s),s.prototype=Object.create(o.prototype),a(o,s),s.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return o(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},6099:(t,e,r)=>{var n=r(8764).Buffer;!function(t){t.parser=function(t,e){return new a(t,e)},t.SAXParser=a,t.SAXStream=d,t.createStream=f,t.MAX_BUFFER_LENGTH=65536;var e,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,r){if(!(this instanceof a))return new a(e,r);var n=this;u(n),n.q=n.c="",n.bufferCheckPosition=t.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!e,n.noscript=!!(e||n.opt.noscript),n.state=I.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(m)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),D(n,"onready")}function s(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,a=0,s=o.length;a<s;a++){var u=e[o[a]].length;if(u>r)switch(o[a]){case"textNode":C(e);break;case"cdata":R(e,"oncdata",e.cdata),e.cdata="";break;case"script":R(e,"onscript",e.script),e.script="";break;default:x(e,"Max buffer length exceeded: "+o[a])}n=Math.max(n,u)}var l=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}function u(t){for(var e=0,r=o.length;e<r;e++)t[o[e]]=""}function l(t){C(t),""!==t.cdata&&(R(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(R(t,"onscript",t.script),t.script="")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),a.prototype={end:function(){k(this)},write:V,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};try{e=r(2830).Stream}catch(t){e=function(){}}var c=t.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function f(t,e){return new d(t,e)}function d(t,r){if(!(this instanceof d))return new d(t,r);e.apply(this),this._parser=new a(t,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,c.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(e.prototype,{constructor:{value:d}}),d.prototype.write=function(t){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(t)){if(!this._decoder){var e=r(2553).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},d.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},d.prototype.on=function(t,r){var n=this;return n._parser["on"+t]||-1===c.indexOf(t)||(n._parser["on"+t]=function(){var e=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),e.prototype.on.call(n,t,r)};var p="[CDATA[",h="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",m={xml:y,xmlns:g},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(t){return" "===t||"\n"===t||"\r"===t||"	"===t}function S(t){return'"'===t||"'"===t}function T(t){return">"===t||v(t)}function O(t,e){return t.test(e)}function A(t,e){return!O(t,e)}var I=0;for(var N in t.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n}),t.STATE)t.STATE[t.STATE[N]]=N;function D(t,e,r){t[e]&&t[e](r)}function R(t,e,r){t.textNode&&C(t),D(t,e,r)}function C(t){t.textNode=M(t.opt,t.textNode),t.textNode&&D(t,"ontext",t.textNode),t.textNode=""}function M(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function x(t,e){return C(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=Error(e),t.error=e,D(t,"onerror",e),t}function k(t){return t.sawRoot&&!t.closedRoot&&L(t,"Unclosed root tag"),t.state!==I.BEGIN&&t.state!==I.BEGIN_WHITESPACE&&t.state!==I.TEXT&&x(t,"Unexpected end"),C(t),t.c="",t.closed=!0,D(t,"onend"),a.call(t,t.strict,t.opt),t}function L(t,e){if("object"!=typeof t||!(t instanceof a))throw Error("bad call to strictFail");t.strict&&x(t,e)}function F(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0,R(t,"onopentagstart",r)}function P(t,e){var r=0>t.indexOf(":")?["",t]:t.split(":"),n=r[0],o=r[1];return e&&"xmlns"===t&&(n="xmlns",o=""),{prefix:n,local:o}}function B(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName)){t.attribName=t.attribValue="";return}if(t.opt.xmlns){var e=P(t.attribName,!0),r=e.prefix,n=e.local;if("xmlns"===r){if("xml"===n&&t.attribValue!==y)L(t,"xml: prefix must be bound to "+y+"\nActual: "+t.attribValue);else if("xmlns"===n&&t.attribValue!==g)L(t,"xmlns: prefix must be bound to "+g+"\nActual: "+t.attribValue);else{var o=t.tag,a=t.tags[t.tags.length-1]||t;o.ns===a.ns&&(o.ns=Object.create(a.ns)),o.ns[n]=t.attribValue}}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,R(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function U(t,e){if(t.opt.xmlns){var r=t.tag,n=P(t.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(L(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),r.uri=n.prefix);var o=t.tags[t.tags.length-1]||t;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach(function(e){R(t,"onopennamespace",{prefix:e,uri:r.ns[e]})});for(var a=0,s=t.attribList.length;a<s;a++){var u=t.attribList[a],l=u[0],c=u[1],f=P(l,!0),d=f.prefix,p=f.local,h=""===d?"":r.ns[d]||"",y={name:l,value:c,prefix:d,local:p,uri:h};d&&"xmlns"!==d&&!h&&(L(t,"Unbound namespace prefix: "+JSON.stringify(d)),y.uri=d),t.tag.attributes[l]=y,R(t,"onattribute",y)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),R(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=I.TEXT:t.state=I.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function j(t){if(!t.tagName){L(t,"Weird empty close tag."),t.textNode+="</>",t.state=I.TEXT;return}if(t.script){if("script"!==t.tagName){t.script+="</"+t.tagName+">",t.tagName="",t.state=I.SCRIPT;return}R(t,"onscript",t.script),t.script=""}var e=t.tags.length,r=t.tagName;t.strict||(r=r[t.looseCase]());for(var n=r;e--;)if(t.tags[e].name!==n)L(t,"Unexpected close tag");else break;if(e<0){L(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",t.state=I.TEXT;return}t.tagName=r;for(var o=t.tags.length;o-- >e;){var a=t.tag=t.tags.pop();t.tagName=t.tag.name,R(t,"onclosetag",t.tagName);var s={};for(var u in a.ns)s[u]=a.ns[u];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(e){var r=a.ns[e];R(t,"onclosenamespace",{prefix:e,uri:r})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=I.TEXT}function W(t){var e,r=t.entity,n=r.toLowerCase(),o="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(r=n).charAt(0)&&(o="x"===r.charAt(1)?(e=parseInt(r=r.slice(2),16)).toString(16):(e=parseInt(r=r.slice(1),10)).toString(10)),r=r.replace(/^0+/,""),isNaN(e)||o.toLowerCase()!==r)?(L(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e)}function H(t,e){"<"===e?(t.state=I.OPEN_WAKA,t.startTagPosition=t.position):v(e)||(L(t,"Non-whitespace before first tag."),t.textNode=e,t.state=I.TEXT)}function z(t,e){var r="";return e<t.length&&(r=t.charAt(e)),r}function V(t){var e=this;if(this.error)throw this.error;if(e.closed)return x(e,"Cannot write after close. Assign an onready handler.");if(null===t)return k(e);"object"==typeof t&&(t=t.toString());for(var r=0,n="";n=z(t,r++),e.c=n,n;)switch(e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++),e.state){case I.BEGIN:if(e.state=I.BEGIN_WHITESPACE,"\uFEFF"===n)continue;H(e,n);continue;case I.BEGIN_WHITESPACE:H(e,n);continue;case I.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o,a,u=r-1;n&&"<"!==n&&"&"!==n;)(n=z(t,r++))&&e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(u,r-1)}"<"!==n||e.sawRoot&&e.closedRoot&&!e.strict?(v(n)||e.sawRoot&&!e.closedRoot||L(e,"Text data outside of root node."),"&"===n?e.state=I.TEXT_ENTITY:e.textNode+=n):(e.state=I.OPEN_WAKA,e.startTagPosition=e.position);continue;case I.SCRIPT:"<"===n?e.state=I.SCRIPT_ENDING:e.script+=n;continue;case I.SCRIPT_ENDING:"/"===n?e.state=I.CLOSE_TAG:(e.script+="<"+n,e.state=I.SCRIPT);continue;case I.OPEN_WAKA:"!"===n?(e.state=I.SGML_DECL,e.sgmlDecl=""):v(n)||(O(_,n)?(e.state=I.OPEN_TAG,e.tagName=n):"/"===n?(e.state=I.CLOSE_TAG,e.tagName=""):"?"===n?(e.state=I.PROC_INST,e.procInstName=e.procInstBody=""):(L(e,"Unencoded <"),e.startTagPosition+1<e.position&&(n=Array(e.position-e.startTagPosition).join(" ")+n),e.textNode+="<"+n,e.state=I.TEXT));continue;case I.SGML_DECL:(e.sgmlDecl+n).toUpperCase()===p?(R(e,"onopencdata"),e.state=I.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+n==="--"?(e.state=I.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+n).toUpperCase()===h?(e.state=I.DOCTYPE,(e.doctype||e.sawRoot)&&L(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===n?(R(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=I.TEXT):(S(n)&&(e.state=I.SGML_DECL_QUOTED),e.sgmlDecl+=n);continue;case I.SGML_DECL_QUOTED:n===e.q&&(e.state=I.SGML_DECL,e.q=""),e.sgmlDecl+=n;continue;case I.DOCTYPE:">"===n?(e.state=I.TEXT,R(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=n,"["===n?e.state=I.DOCTYPE_DTD:S(n)&&(e.state=I.DOCTYPE_QUOTED,e.q=n));continue;case I.DOCTYPE_QUOTED:e.doctype+=n,n===e.q&&(e.q="",e.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:e.doctype+=n,"]"===n?e.state=I.DOCTYPE:S(n)&&(e.state=I.DOCTYPE_DTD_QUOTED,e.q=n);continue;case I.DOCTYPE_DTD_QUOTED:e.doctype+=n,n===e.q&&(e.state=I.DOCTYPE_DTD,e.q="");continue;case I.COMMENT:"-"===n?e.state=I.COMMENT_ENDING:e.comment+=n;continue;case I.COMMENT_ENDING:"-"===n?(e.state=I.COMMENT_ENDED,e.comment=M(e.opt,e.comment),e.comment&&R(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+n,e.state=I.COMMENT);continue;case I.COMMENT_ENDED:">"!==n?(L(e,"Malformed comment"),e.comment+="--"+n,e.state=I.COMMENT):e.state=I.TEXT;continue;case I.CDATA:"]"===n?e.state=I.CDATA_ENDING:e.cdata+=n;continue;case I.CDATA_ENDING:"]"===n?e.state=I.CDATA_ENDING_2:(e.cdata+="]"+n,e.state=I.CDATA);continue;case I.CDATA_ENDING_2:">"===n?(e.cdata&&R(e,"oncdata",e.cdata),R(e,"onclosecdata"),e.cdata="",e.state=I.TEXT):"]"===n?e.cdata+="]":(e.cdata+="]]"+n,e.state=I.CDATA);continue;case I.PROC_INST:"?"===n?e.state=I.PROC_INST_ENDING:v(n)?e.state=I.PROC_INST_BODY:e.procInstName+=n;continue;case I.PROC_INST_BODY:!e.procInstBody&&v(n)||("?"===n?e.state=I.PROC_INST_ENDING:e.procInstBody+=n);continue;case I.PROC_INST_ENDING:">"===n?(R(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=I.TEXT):(e.procInstBody+="?"+n,e.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:O(b,n)?e.tagName+=n:(F(e),">"===n?U(e):"/"===n?e.state=I.OPEN_TAG_SLASH:(v(n)||L(e,"Invalid character in tag name"),e.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:">"===n?(U(e,!0),j(e)):(L(e,"Forward-slash in opening tag not followed by >"),e.state=I.ATTRIB);continue;case I.ATTRIB:v(n)||(">"===n?U(e):"/"===n?e.state=I.OPEN_TAG_SLASH:O(_,n)?(e.attribName=n,e.attribValue="",e.state=I.ATTRIB_NAME):L(e,"Invalid attribute name"));continue;case I.ATTRIB_NAME:"="===n?e.state=I.ATTRIB_VALUE:">"===n?(L(e,"Attribute without value"),e.attribValue=e.attribName,B(e),U(e)):v(n)?e.state=I.ATTRIB_NAME_SAW_WHITE:O(b,n)?e.attribName+=n:L(e,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:"="===n?e.state=I.ATTRIB_VALUE:v(n)||(L(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",R(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===n?U(e):O(_,n)?(e.attribName=n,e.state=I.ATTRIB_NAME):(L(e,"Invalid attribute name"),e.state=I.ATTRIB));continue;case I.ATTRIB_VALUE:v(n)||(S(n)?(e.q=n,e.state=I.ATTRIB_VALUE_QUOTED):(L(e,"Unquoted attribute value"),e.state=I.ATTRIB_VALUE_UNQUOTED,e.attribValue=n));continue;case I.ATTRIB_VALUE_QUOTED:if(n!==e.q){"&"===n?e.state=I.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=n;continue}B(e),e.q="",e.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:v(n)?e.state=I.ATTRIB:">"===n?U(e):"/"===n?e.state=I.OPEN_TAG_SLASH:O(_,n)?(L(e,"No whitespace between attributes"),e.attribName=n,e.attribValue="",e.state=I.ATTRIB_NAME):L(e,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(!T(n)){"&"===n?e.state=I.ATTRIB_VALUE_ENTITY_U:e.attribValue+=n;continue}B(e),">"===n?U(e):e.state=I.ATTRIB;continue;case I.CLOSE_TAG:e.tagName?">"===n?j(e):O(b,n)?e.tagName+=n:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=I.SCRIPT):(v(n)||L(e,"Invalid tagname in closing tag"),e.state=I.CLOSE_TAG_SAW_WHITE):v(n)||(A(_,n)?e.script?(e.script+="</"+n,e.state=I.SCRIPT):L(e,"Invalid tagname in closing tag."):e.tagName=n);continue;case I.CLOSE_TAG_SAW_WHITE:if(v(n))continue;">"===n?j(e):L(e,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:switch(e.state){case I.TEXT_ENTITY:o=I.TEXT,a="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:o=I.ATTRIB_VALUE_QUOTED,a="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:o=I.ATTRIB_VALUE_UNQUOTED,a="attribValue"}";"===n?(e[a]+=W(e),e.entity="",e.state=o):O(e.entity.length?E:w,n)?e.entity+=n:(L(e,"Invalid character in entity name"),e[a]+="&"+e.entity+n,e.entity="",e.state=o);continue;default:throw Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&s(e),e}I=t.STATE,String.fromCodePoint||function(){var t=String.fromCharCode,e=Math.floor,r=function(){var r,n,o=16384,a=[],s=-1,u=arguments.length;if(!u)return"";for(var l="";++s<u;){var c=Number(arguments[s]);if(!isFinite(c)||c<0||c>1114111||e(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?a.push(c):(c-=65536,r=(c>>10)+55296,n=c%1024+56320,a.push(r,n)),(s+1===u||a.length>o)&&(l+=t.apply(null,a),a.length=0)}return l};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(e)},7771:(t,e,r)=>{"use strict";var n=r(210),o=r(2296),a=r(1044)(),s=r(7296),u=r(4453),l=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new u("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new u("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&s){var f=s(t,"length");f&&!f.configurable&&(n=!1),f&&!f.writable&&(c=!1)}return(n||c||!r)&&(a?o(t,"length",e,!0,!0):o(t,"length",e)),t}},8052:(t,e,r)=>{"use strict";var n=r(2296),o=r(1044)(),a=r(5972).functionsHaveConfigurableNames(),s=r(4453);t.exports=function(t,e){if("function"!=typeof t)throw new s("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||a)&&(o?n(t,"name",e,!0,!0):n(t,"name",e)),t}},7478:(t,e,r)=>{"use strict";var n=r(210),o=r(1924),a=r(631),s=r(4453),u=n("%WeakMap%",!0),l=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),f=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),y=o("Map.prototype.has",!0),g=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},m=function(t,e){var r=g(t,e);return r&&r.value},_=function(t,e,r){var n=g(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},b=function(t,e){return!!g(t,e)};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+a(t))},get:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return c(t,n)}else if(l){if(e)return p(e,n)}else if(r)return m(r,n)},has:function(n){if(u&&n&&("object"==typeof n||"function"==typeof n)){if(t)return d(t,n)}else if(l){if(e)return y(e,n)}else if(r)return b(r,n);return!1},set:function(n,o){u&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new u),f(t,n,o)):l?(e||(e=new l),h(e,n,o)):(r||(r={key:{},next:null}),_(r,n,o))}};return n}},3859:t=>{"use strict";t.exports=t=>{let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}},6373:(t,e,r)=>{"use strict";var n=r(9496),o=SyntaxError,a="object"==typeof StopIteration?StopIteration:null;t.exports=function(t){if(!a)throw new o("this environment lacks StopIteration");n.set(t,"[[Done]]",!1);var e={next:function(){var t=n.get(this,"[[Iterator]]"),e=n.get(t,"[[Done]]");try{return{done:e,value:e?void 0:t.next()}}catch(e){if(n.set(t,"[[Done]]",!0),e!==a)throw e;return{done:!0,value:void 0}}}};return n.set(e,"[[Iterator]]",t),e}},2830:(t,e,r)=>{t.exports=o;var n=r(7187).EventEmitter;function o(){n.call(this)}r(5717)(o,n),o.Readable=r(9481),o.Writable=r(4229),o.Duplex=r(6753),o.Transform=r(4605),o.PassThrough=r(2725),o.finished=r(8610),o.pipeline=r(9946),o.Stream=o,o.prototype.pipe=function(t,e){var r=this;function o(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",o),t.on("drain",a),t._isStdio||e&&!1===e.end||(r.on("end",u),r.on("close",l));var s=!1;function u(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",o),t.removeListener("drain",a),r.removeListener("end",u),r.removeListener("close",l),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",c),t.on("error",c),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},2553:(t,e,r)=>{"use strict";var n=r(396).Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;if(!t)return"utf8";for(;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function s(t){var e=a(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw Error("Unknown encoding: "+t);return e||t}function u(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=y,this.end=g,e=4;break;case"utf8":this.fillLast=d,e=4;break;case"base64":this.text=m,this.end=_,e=3;break;default:this.write=b,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function l(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function c(t,e,r){var n=e.length-1;if(n<r)return 0;var o=l(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||-2===o?0:(o=l(e[n]))>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||-2===o?0:(o=l(e[n]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}function f(t,e,r){if((192&e[0])!=128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((192&e[1])!=128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(192&e[2])!=128)return t.lastNeed=2,""}}function d(t){var e=this.lastTotal-this.lastNeed,r=f(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length)}function p(t,e){var r=c(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function y(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function m(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function _(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function b(t){return t.toString(this.encoding)}function w(t){return t&&t.length?this.write(t):""}e.StringDecoder=u,u.prototype.write=function(t){var e,r;if(0===t.length)return"";if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},u.prototype.end=h,u.prototype.text=p,u.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},396:(t,e,r)=>{var n=r(8764),o=n.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=s),a(o,s),s.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return o(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=o(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},5222:(t,e,r)=>{var n=r(3019),o=n,a=globalThis;o.exportSymbol("proto.EncryptedData",null,a),o.exportSymbol("proto.Message",null,a),o.exportSymbol("proto.MessageEnvelope",null,a),o.exportSymbol("proto.SyncRequest",null,a),o.exportSymbol("proto.SyncResponse",null,a),proto.EncryptedData=function(t){n.Message.initialize(this,t,0,-1,null,null)},o.inherits(proto.EncryptedData,n.Message),o.DEBUG&&!COMPILED&&(proto.EncryptedData.displayName="proto.EncryptedData"),proto.Message=function(t){n.Message.initialize(this,t,0,-1,null,null)},o.inherits(proto.Message,n.Message),o.DEBUG&&!COMPILED&&(proto.Message.displayName="proto.Message"),proto.MessageEnvelope=function(t){n.Message.initialize(this,t,0,-1,null,null)},o.inherits(proto.MessageEnvelope,n.Message),o.DEBUG&&!COMPILED&&(proto.MessageEnvelope.displayName="proto.MessageEnvelope"),proto.SyncRequest=function(t){n.Message.initialize(this,t,0,-1,proto.SyncRequest.repeatedFields_,null)},o.inherits(proto.SyncRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.SyncRequest.displayName="proto.SyncRequest"),proto.SyncResponse=function(t){n.Message.initialize(this,t,0,-1,proto.SyncResponse.repeatedFields_,null)},o.inherits(proto.SyncResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.SyncResponse.displayName="proto.SyncResponse"),n.Message.GENERATE_TO_OBJECT&&(proto.EncryptedData.prototype.toObject=function(t){return proto.EncryptedData.toObject(t,this)},proto.EncryptedData.toObject=function(t,e){var r={iv:e.getIv_asB64(),authtag:e.getAuthtag_asB64(),data:e.getData_asB64()};return t&&(r.$jspbMessageInstance=e),r}),proto.EncryptedData.deserializeBinary=function(t){var e=new n.BinaryReader(t),r=new proto.EncryptedData;return proto.EncryptedData.deserializeBinaryFromReader(r,e)},proto.EncryptedData.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:var r=e.readBytes();t.setIv(r);break;case 2:var r=e.readBytes();t.setAuthtag(r);break;case 3:var r=e.readBytes();t.setData(r);break;default:e.skipField()}return t},proto.EncryptedData.prototype.serializeBinary=function(){var t=new n.BinaryWriter;return proto.EncryptedData.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.EncryptedData.serializeBinaryToWriter=function(t,e){var r=void 0;(r=t.getIv_asU8()).length>0&&e.writeBytes(1,r),(r=t.getAuthtag_asU8()).length>0&&e.writeBytes(2,r),(r=t.getData_asU8()).length>0&&e.writeBytes(3,r)},proto.EncryptedData.prototype.getIv=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.EncryptedData.prototype.getIv_asB64=function(){return n.Message.bytesAsB64(this.getIv())},proto.EncryptedData.prototype.getIv_asU8=function(){return n.Message.bytesAsU8(this.getIv())},proto.EncryptedData.prototype.setIv=function(t){return n.Message.setProto3BytesField(this,1,t)},proto.EncryptedData.prototype.getAuthtag=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.EncryptedData.prototype.getAuthtag_asB64=function(){return n.Message.bytesAsB64(this.getAuthtag())},proto.EncryptedData.prototype.getAuthtag_asU8=function(){return n.Message.bytesAsU8(this.getAuthtag())},proto.EncryptedData.prototype.setAuthtag=function(t){return n.Message.setProto3BytesField(this,2,t)},proto.EncryptedData.prototype.getData=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.EncryptedData.prototype.getData_asB64=function(){return n.Message.bytesAsB64(this.getData())},proto.EncryptedData.prototype.getData_asU8=function(){return n.Message.bytesAsU8(this.getData())},proto.EncryptedData.prototype.setData=function(t){return n.Message.setProto3BytesField(this,3,t)},n.Message.GENERATE_TO_OBJECT&&(proto.Message.prototype.toObject=function(t){return proto.Message.toObject(t,this)},proto.Message.toObject=function(t,e){var r={dataset:n.Message.getFieldWithDefault(e,1,""),row:n.Message.getFieldWithDefault(e,2,""),column:n.Message.getFieldWithDefault(e,3,""),value:n.Message.getFieldWithDefault(e,4,"")};return t&&(r.$jspbMessageInstance=e),r}),proto.Message.deserializeBinary=function(t){var e=new n.BinaryReader(t),r=new proto.Message;return proto.Message.deserializeBinaryFromReader(r,e)},proto.Message.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:var r=e.readString();t.setDataset(r);break;case 2:var r=e.readString();t.setRow(r);break;case 3:var r=e.readString();t.setColumn(r);break;case 4:var r=e.readString();t.setValue(r);break;default:e.skipField()}return t},proto.Message.prototype.serializeBinary=function(){var t=new n.BinaryWriter;return proto.Message.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.Message.serializeBinaryToWriter=function(t,e){var r=void 0;(r=t.getDataset()).length>0&&e.writeString(1,r),(r=t.getRow()).length>0&&e.writeString(2,r),(r=t.getColumn()).length>0&&e.writeString(3,r),(r=t.getValue()).length>0&&e.writeString(4,r)},proto.Message.prototype.getDataset=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.Message.prototype.setDataset=function(t){return n.Message.setProto3StringField(this,1,t)},proto.Message.prototype.getRow=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.Message.prototype.setRow=function(t){return n.Message.setProto3StringField(this,2,t)},proto.Message.prototype.getColumn=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.Message.prototype.setColumn=function(t){return n.Message.setProto3StringField(this,3,t)},proto.Message.prototype.getValue=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.Message.prototype.setValue=function(t){return n.Message.setProto3StringField(this,4,t)},n.Message.GENERATE_TO_OBJECT&&(proto.MessageEnvelope.prototype.toObject=function(t){return proto.MessageEnvelope.toObject(t,this)},proto.MessageEnvelope.toObject=function(t,e){var r={timestamp:n.Message.getFieldWithDefault(e,1,""),isencrypted:n.Message.getBooleanFieldWithDefault(e,2,!1),content:e.getContent_asB64()};return t&&(r.$jspbMessageInstance=e),r}),proto.MessageEnvelope.deserializeBinary=function(t){var e=new n.BinaryReader(t),r=new proto.MessageEnvelope;return proto.MessageEnvelope.deserializeBinaryFromReader(r,e)},proto.MessageEnvelope.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:var r=e.readString();t.setTimestamp(r);break;case 2:var r=e.readBool();t.setIsencrypted(r);break;case 3:var r=e.readBytes();t.setContent(r);break;default:e.skipField()}return t},proto.MessageEnvelope.prototype.serializeBinary=function(){var t=new n.BinaryWriter;return proto.MessageEnvelope.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.MessageEnvelope.serializeBinaryToWriter=function(t,e){var r=void 0;(r=t.getTimestamp()).length>0&&e.writeString(1,r),(r=t.getIsencrypted())&&e.writeBool(2,r),(r=t.getContent_asU8()).length>0&&e.writeBytes(3,r)},proto.MessageEnvelope.prototype.getTimestamp=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.MessageEnvelope.prototype.setTimestamp=function(t){return n.Message.setProto3StringField(this,1,t)},proto.MessageEnvelope.prototype.getIsencrypted=function(){return n.Message.getBooleanFieldWithDefault(this,2,!1)},proto.MessageEnvelope.prototype.setIsencrypted=function(t){return n.Message.setProto3BooleanField(this,2,t)},proto.MessageEnvelope.prototype.getContent=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.MessageEnvelope.prototype.getContent_asB64=function(){return n.Message.bytesAsB64(this.getContent())},proto.MessageEnvelope.prototype.getContent_asU8=function(){return n.Message.bytesAsU8(this.getContent())},proto.MessageEnvelope.prototype.setContent=function(t){return n.Message.setProto3BytesField(this,3,t)},proto.SyncRequest.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.SyncRequest.prototype.toObject=function(t){return proto.SyncRequest.toObject(t,this)},proto.SyncRequest.toObject=function(t,e){var r={messagesList:n.Message.toObjectList(e.getMessagesList(),proto.MessageEnvelope.toObject,t),fileid:n.Message.getFieldWithDefault(e,2,""),groupid:n.Message.getFieldWithDefault(e,3,""),keyid:n.Message.getFieldWithDefault(e,5,""),since:n.Message.getFieldWithDefault(e,6,"")};return t&&(r.$jspbMessageInstance=e),r}),proto.SyncRequest.deserializeBinary=function(t){var e=new n.BinaryReader(t),r=new proto.SyncRequest;return proto.SyncRequest.deserializeBinaryFromReader(r,e)},proto.SyncRequest.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:var r=new proto.MessageEnvelope;e.readMessage(r,proto.MessageEnvelope.deserializeBinaryFromReader),t.addMessages(r);break;case 2:var r=e.readString();t.setFileid(r);break;case 3:var r=e.readString();t.setGroupid(r);break;case 5:var r=e.readString();t.setKeyid(r);break;case 6:var r=e.readString();t.setSince(r);break;default:e.skipField()}return t},proto.SyncRequest.prototype.serializeBinary=function(){var t=new n.BinaryWriter;return proto.SyncRequest.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.SyncRequest.serializeBinaryToWriter=function(t,e){var r=void 0;(r=t.getMessagesList()).length>0&&e.writeRepeatedMessage(1,r,proto.MessageEnvelope.serializeBinaryToWriter),(r=t.getFileid()).length>0&&e.writeString(2,r),(r=t.getGroupid()).length>0&&e.writeString(3,r),(r=t.getKeyid()).length>0&&e.writeString(5,r),(r=t.getSince()).length>0&&e.writeString(6,r)},proto.SyncRequest.prototype.getMessagesList=function(){return n.Message.getRepeatedWrapperField(this,proto.MessageEnvelope,1)},proto.SyncRequest.prototype.setMessagesList=function(t){return n.Message.setRepeatedWrapperField(this,1,t)},proto.SyncRequest.prototype.addMessages=function(t,e){return n.Message.addToRepeatedWrapperField(this,1,t,proto.MessageEnvelope,e)},proto.SyncRequest.prototype.clearMessagesList=function(){return this.setMessagesList([])},proto.SyncRequest.prototype.getFileid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.SyncRequest.prototype.setFileid=function(t){return n.Message.setProto3StringField(this,2,t)},proto.SyncRequest.prototype.getGroupid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.SyncRequest.prototype.setGroupid=function(t){return n.Message.setProto3StringField(this,3,t)},proto.SyncRequest.prototype.getKeyid=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.SyncRequest.prototype.setKeyid=function(t){return n.Message.setProto3StringField(this,5,t)},proto.SyncRequest.prototype.getSince=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.SyncRequest.prototype.setSince=function(t){return n.Message.setProto3StringField(this,6,t)},proto.SyncResponse.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.SyncResponse.prototype.toObject=function(t){return proto.SyncResponse.toObject(t,this)},proto.SyncResponse.toObject=function(t,e){var r={messagesList:n.Message.toObjectList(e.getMessagesList(),proto.MessageEnvelope.toObject,t),merkle:n.Message.getFieldWithDefault(e,2,"")};return t&&(r.$jspbMessageInstance=e),r}),proto.SyncResponse.deserializeBinary=function(t){var e=new n.BinaryReader(t),r=new proto.SyncResponse;return proto.SyncResponse.deserializeBinaryFromReader(r,e)},proto.SyncResponse.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();)switch(e.getFieldNumber()){case 1:var r=new proto.MessageEnvelope;e.readMessage(r,proto.MessageEnvelope.deserializeBinaryFromReader),t.addMessages(r);break;case 2:var r=e.readString();t.setMerkle(r);break;default:e.skipField()}return t},proto.SyncResponse.prototype.serializeBinary=function(){var t=new n.BinaryWriter;return proto.SyncResponse.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.SyncResponse.serializeBinaryToWriter=function(t,e){var r=void 0;(r=t.getMessagesList()).length>0&&e.writeRepeatedMessage(1,r,proto.MessageEnvelope.serializeBinaryToWriter),(r=t.getMerkle()).length>0&&e.writeString(2,r)},proto.SyncResponse.prototype.getMessagesList=function(){return n.Message.getRepeatedWrapperField(this,proto.MessageEnvelope,1)},proto.SyncResponse.prototype.setMessagesList=function(t){return n.Message.setRepeatedWrapperField(this,1,t)},proto.SyncResponse.prototype.addMessages=function(t,e){return n.Message.addToRepeatedWrapperField(this,1,t,proto.MessageEnvelope,e)},proto.SyncResponse.prototype.clearMessagesList=function(){return this.setMessagesList([])},proto.SyncResponse.prototype.getMerkle=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.SyncResponse.prototype.setMerkle=function(t){return n.Message.setProto3StringField(this,2,t)},o.object.extend(e,proto)},4927:(t,e,r)=>{function n(t,e){if(o("noDeprecation"))return t;var r=!1;return function(){if(!r){if(o("throwDeprecation"))throw Error(e);o("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}function o(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=n},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:(t,e,r)=>{"use strict";var n=r(2584),o=r(8662),a=r(6430),s=r(5692);function u(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,f=u(Object.prototype.toString),d=u(Number.prototype.valueOf),p=u(String.prototype.valueOf),h=u(Boolean.prototype.valueOf);if(l)var y=u(BigInt.prototype.valueOf);if(c)var g=u(Symbol.prototype.valueOf);function m(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function _(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch}function b(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||H(t)}function w(t){return"Uint8Array"===a(t)}function E(t){return"Uint8ClampedArray"===a(t)}function v(t){return"Uint16Array"===a(t)}function S(t){return"Uint32Array"===a(t)}function T(t){return"Int8Array"===a(t)}function O(t){return"Int16Array"===a(t)}function A(t){return"Int32Array"===a(t)}function I(t){return"Float32Array"===a(t)}function N(t){return"Float64Array"===a(t)}function D(t){return"BigInt64Array"===a(t)}function R(t){return"BigUint64Array"===a(t)}function C(t){return"[object Map]"===f(t)}function M(t){return"undefined"!=typeof Map&&(C.working?C(t):t instanceof Map)}function x(t){return"[object Set]"===f(t)}function k(t){return"undefined"!=typeof Set&&(x.working?x(t):t instanceof Set)}function L(t){return"[object WeakMap]"===f(t)}function F(t){return"undefined"!=typeof WeakMap&&(L.working?L(t):t instanceof WeakMap)}function P(t){return"[object WeakSet]"===f(t)}function B(t){return P(t)}function U(t){return"[object ArrayBuffer]"===f(t)}function j(t){return"undefined"!=typeof ArrayBuffer&&(U.working?U(t):t instanceof ArrayBuffer)}function W(t){return"[object DataView]"===f(t)}function H(t){return"undefined"!=typeof DataView&&(W.working?W(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=o,e.isTypedArray=s,e.isPromise=_,e.isArrayBufferView=b,e.isUint8Array=w,e.isUint8ClampedArray=E,e.isUint16Array=v,e.isUint32Array=S,e.isInt8Array=T,e.isInt16Array=O,e.isInt32Array=A,e.isFloat32Array=I,e.isFloat64Array=N,e.isBigInt64Array=D,e.isBigUint64Array=R,C.working="undefined"!=typeof Map&&C(new Map),e.isMap=M,x.working="undefined"!=typeof Set&&x(new Set),e.isSet=k,L.working="undefined"!=typeof WeakMap&&L(new WeakMap),e.isWeakMap=F,P.working="undefined"!=typeof WeakSet&&P(new WeakSet),e.isWeakSet=B,U.working="undefined"!=typeof ArrayBuffer&&U(new ArrayBuffer),e.isArrayBuffer=j,W.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&W(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=H;var z="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function V(t){return"[object SharedArrayBuffer]"===f(t)}function $(t){return void 0!==z&&(void 0===V.working&&(V.working=V(new z)),V.working?V(t):t instanceof z)}function q(t){return"[object AsyncFunction]"===f(t)}function G(t){return"[object Map Iterator]"===f(t)}function Y(t){return"[object Set Iterator]"===f(t)}function K(t){return"[object Generator]"===f(t)}function Z(t){return"[object WebAssembly.Module]"===f(t)}function J(t){return m(t,d)}function X(t){return m(t,p)}function Q(t){return m(t,h)}function tt(t){return l&&m(t,y)}function te(t){return c&&m(t,g)}function tr(t){return J(t)||X(t)||Q(t)||tt(t)||te(t)}function tn(t){return"undefined"!=typeof Uint8Array&&(j(t)||$(t))}e.isSharedArrayBuffer=$,e.isAsyncFunction=q,e.isMapIterator=G,e.isSetIterator=Y,e.isGeneratorObject=K,e.isWebAssemblyCompiledModule=Z,e.isNumberObject=J,e.isStringObject=X,e.isBooleanObject=Q,e.isBigIntObject=tt,e.isSymbolObject=te,e.isBoxedPrimitive=tr,e.isAnyArrayBuffer=tn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw Error(t+" is not supported in userland")}})})},9539:(t,e,r)=>{var n=r(4155),o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},a=/%[sdj%]/g;e.format=function(t){if(!O(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(t).replace(a,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<o;u=n[++r])v(u)||!D(u)?s+=" "+u:s+=" "+c(u);return s},e.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.deprecate(t,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}};var s={},u=/^$/;if(({}).NODE_DEBUG){var l={}.NODE_DEBUG;u=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(t,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),E(r)?n.showHidden=r:r&&e._extend(n,r),I(n.showHidden)&&(n.showHidden=!1),I(n.depth)&&(n.depth=2),I(n.colors)&&(n.colors=!1),I(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,t,n.depth)}function f(t,e){var r=c.styles[e];return r?"\x1b["+c.colors[r][0]+"m"+t+"\x1b["+c.colors[r][1]+"m":t}function d(t,e){return t}function p(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function h(t,r,n){if(t.customInspect&&r&&M(r.inspect)&&r.inspect!==e.inspect&&!(r.constructor&&r.constructor.prototype===r)){var o,a=r.inspect(n,t);return O(a)||(a=h(t,a,n)),a}var s=y(t,r);if(s)return s;var u=Object.keys(r),l=p(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(r)),C(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return g(r);if(0===u.length){if(M(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(N(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(R(r))return t.stylize(Date.prototype.toString.call(r),"date");if(C(r))return g(r)}var f="",d=!1,E=["{","}"];return(w(r)&&(d=!0,E=["[","]"]),M(r)&&(f=" [Function"+(r.name?": "+r.name:"")+"]"),N(r)&&(f=" "+RegExp.prototype.toString.call(r)),R(r)&&(f=" "+Date.prototype.toUTCString.call(r)),C(r)&&(f=" "+g(r)),0!==u.length||d&&0!=r.length)?n<0?N(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),o=d?m(t,r,n,l,u):u.map(function(e){return _(t,r,n,l,e,d)}),t.seen.pop(),b(o,f,E)):E[0]+f+E[1]}function y(t,e){if(I(e))return t.stylize("undefined","undefined");if(O(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return T(e)?t.stylize(""+e,"number"):E(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function g(t){return"["+Error.prototype.toString.call(t)+"]"}function m(t,e,r,n,o){for(var a=[],s=0,u=e.length;s<u;++s)B(e,String(s))?a.push(_(t,e,r,n,String(s),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(_(t,e,r,n,o,!0))}),a}function _(t,e,r,n,o,a){var s,u,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?u=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(u=t.stylize("[Setter]","special")),B(n,o)||(s="["+o+"]"),!u&&(0>t.seen.indexOf(l.value)?(u=v(r)?h(t,l.value,null):h(t,l.value,r-1)).indexOf("\n")>-1&&(u=a?u.split("\n").map(function(t){return"  "+t}).join("\n").slice(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n")):u=t.stylize("[Circular]","special")),I(s)){if(a&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function b(t,e,r){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function w(t){return Array.isArray(t)}function E(t){return"boolean"==typeof t}function v(t){return null===t}function S(t){return null==t}function T(t){return"number"==typeof t}function O(t){return"string"==typeof t}function A(t){return"symbol"==typeof t}function I(t){return void 0===t}function N(t){return D(t)&&"[object RegExp]"===k(t)}function D(t){return"object"==typeof t&&null!==t}function R(t){return D(t)&&"[object Date]"===k(t)}function C(t){return D(t)&&("[object Error]"===k(t)||t instanceof Error)}function M(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function k(t){return Object.prototype.toString.call(t)}function L(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(!s[t=t.toUpperCase()]){if(u.test(t)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){}}return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(5955),e.isArray=w,e.isBoolean=E,e.isNull=v,e.isNullOrUndefined=S,e.isNumber=T,e.isString=O,e.isSymbol=A,e.isUndefined=I,e.isRegExp=N,e.types.isRegExp=N,e.isObject=D,e.isDate=R,e.types.isDate=R,e.isError=C,e.types.isNativeError=C,e.isFunction=M,e.isPrimitive=x,e.isBuffer=r(384);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var t=new Date,e=[L(t.getHours()),L(t.getMinutes()),L(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=r(5717),e._extend=function(t,e){if(!e||!D(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var U="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(t,e){if(!t){var r=Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function W(t){if("function"!=typeof t)throw TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var o=e.pop();if("function"!=typeof o)throw TypeError("The last argument must be of type Function");var a=this,s=function(){return o.apply(a,arguments)};t.apply(this,e).then(function(t){n.nextTick(s.bind(null,null,t))},function(t){n.nextTick(j.bind(null,t,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,o(t)),e}e.promisify=function(t){if("function"!=typeof t)throw TypeError('The "original" argument must be of type Function');if(U&&t[U]){var e=t[U];if("function"!=typeof e)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,U,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise(function(t,n){e=t,r=n}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(t,n){t?r(t):e(n)});try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),U&&Object.defineProperty(e,U,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=U,e.callbackify=W},3679:(t,e,r)=>{"use strict";var n=r(9981),o=r(4578),a=r(6814),s=r(2636),u=r(3376);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:n(t)?"String":o(t)?"Number":a(t)?"Boolean":s(t)?"Symbol":u(t)?"BigInt":void 0}},1421:(t,e,r)=>{"use strict";var n=r(8379),o=r(9572),a=r(1718),s=r(5899);t.exports=function(t){if(t&&"object"==typeof t){if(n(t))return"Map";if(o(t))return"Set";if(a(t))return"WeakMap";if(s(t))return"WeakSet"}return!1}},6430:(t,e,r)=>{"use strict";var n=r(4029),o=r(3083),a=r(5559),s=r(1924),u=r(7296),l=s("Object.prototype.toString"),c=r(6410)(),f="undefined"==typeof globalThis?r.g:globalThis,d=o(),p=s("String.prototype.slice"),h=Object.getPrototypeOf,y=s("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return -1},g={__proto__:null};c&&u&&h?n(d,function(t){var e=new f[t];if(Symbol.toStringTag in e){var r=h(e),n=u(r,Symbol.toStringTag);n||(n=u(h(r),Symbol.toStringTag)),g["$"+t]=a(n.get)}}):n(d,function(t){var e=new f[t],r=e.slice||e.set;r&&(g["$"+t]=a(r))});var m=function(t){var e=!1;return n(g,function(r,n){if(!e)try{"$"+r(t)===n&&(e=p(n,1))}catch(t){}}),e},_=function(t){var e=!1;return n(g,function(r,n){if(!e)try{r(t),e=p(n,1)}catch(t){}}),e};t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!c){var e=p(l(t),8,-1);return y(d,e)>-1?e:"Object"===e&&_(t)}return u?m(t):null}},306:function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\uFEFF"===t[0]?t.substring(1):t}}).call(this)},4096:function(t,e,r){(function(){"use strict";var t,n,o,a,s,u={}.hasOwnProperty;t=r(9374),n=r(8381).defaults,a=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+o(t)+"]]>"},o=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,r,o;for(e in this.options={},r=n["0.2"])u.call(r,e)&&(o=r[e],this.options[e]=o);for(e in t)u.call(t,e)&&(o=t[e],this.options[e]=o)}return e.prototype.buildObject=function(e){var r,o,l,c,f;return r=this.options.attrkey,o=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===n["0.2"].rootName?(f=Object.keys(e)[0],e=e[f]):f=this.options.rootName,l=function(t){return function(e,n){var c,f,d,p,h,y;if("object"!=typeof n)t.options.cdata&&a(n)?e.raw(s(n)):e.txt(n);else if(Array.isArray(n)){for(p in n)if(u.call(n,p))for(h in f=n[p])d=f[h],e=l(e.ele(h),d).up()}else for(h in n)if(u.call(n,h)){if(f=n[h],h===r){if("object"==typeof f)for(c in f)y=f[c],e=e.att(c,y)}else if(h===o)e=t.options.cdata&&a(f)?e.raw(s(f)):e.txt(f);else if(Array.isArray(f))for(p in f)u.call(f,p)&&(d=f[p],e="string"==typeof d?t.options.cdata&&a(d)?e.ele(h).raw(s(d)).up():e.ele(h,d).up():l(e.ele(h),d).up());else"object"==typeof f?e=l(e.ele(h),f).up():"string"==typeof f&&t.options.cdata&&a(f)?e=e.ele(h).raw(s(f)).up():(null==f&&(f=""),e=e.ele(h,f.toString()).up())}return e}}(this),c=t.create(f,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(c,e).end(this.options.renderOpts)},e}()}).call(this)},8381:function(t,e){(function(){e.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},9082:function(t,e,r){(function(){"use strict";var t,n,o,a,s,u,l,c,f,d=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;c=r(6099),a=r(7187),t=r(306),l=r(7526),f=r(8441).setImmediate,n=r(8381).defaults,s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},u=function(t,e,r){var n,o;for(n=0,o=t.length;n<o;n++)e=(0,t[n])(e,r);return e},o=function(t,e,r){var n;return(n=Object.create(null)).value=r,n.writable=!0,n.enumerable=!0,n.configurable=!0,Object.defineProperty(t,e,n)},e.Parser=function(r){function a(t){var r,o,a;if(this.parseStringPromise=d(this.parseStringPromise,this),this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this),this.processAsync=d(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(r in this.options={},o=n["0.2"])h.call(o,r)&&(a=o[r],this.options[r]=a);for(r in t)h.call(t,r)&&(a=t[r],this.options[r]=a);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return p(a,r),a.prototype.processAsync=function(){var t,e;try{if(this.remaining.length<=this.options.chunkSize)return t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close();return t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),f(this.processAsync)}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},a.prototype.assignOrPush=function(t,e,r){return e in t?(t[e]instanceof Array||o(t,e,[t[e]]),t[e].push(r)):this.options.explicitArray?o(t,e,[r]):o(t,e,r)},a.prototype.reset=function(){var t,e,r,n;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(t){return function(e){if(t.saxParser.resume(),!t.saxParser.errThrown)return t.saxParser.errThrown=!0,t.emit("error",e)}}(this),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(r){return function(a){var s,l,c,f,d;if((c={})[e]="",!r.options.ignoreAttrs)for(s in d=a.attributes)h.call(d,s)&&(t in c||r.options.mergeAttrs||(c[t]={}),l=r.options.attrValueProcessors?u(r.options.attrValueProcessors,a.attributes[s],s):a.attributes[s],f=r.options.attrNameProcessors?u(r.options.attrNameProcessors,s):s,r.options.mergeAttrs?r.assignOrPush(c,f,l):o(c[t],f,l));return c["#name"]=r.options.tagNameProcessors?u(r.options.tagNameProcessors,a.name):a.name,r.options.xmlns&&(c[r.options.xmlnskey]={uri:a.uri,local:a.local}),n.push(c)}}(this),this.saxParser.onclosetag=function(t){return function(){var r,a,l,c,f,d,p,y,g,m;if(f=(d=n.pop())["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete d["#name"],!0===d.cdata&&(r=d.cdata,delete d.cdata),g=n[n.length-1],d[e].match(/^\s*$/)&&!r?(a=d[e],delete d[e]):(t.options.trim&&(d[e]=d[e].trim()),t.options.normalize&&(d[e]=d[e].replace(/\s{2,}/g," ").trim()),d[e]=t.options.valueProcessors?u(t.options.valueProcessors,d[e],f):d[e],1===Object.keys(d).length&&e in d&&!t.EXPLICIT_CHARKEY&&(d=d[e])),s(d)&&(d="function"==typeof t.options.emptyTag?t.options.emptyTag():""!==t.options.emptyTag?t.options.emptyTag:a),null!=t.options.validator&&(m="/"+(function(){var t,e,r;for(t=0,r=[],e=n.length;t<e;t++)c=n[t],r.push(c["#name"]);return r})().concat(f).join("/"),function(){var e;try{d=t.options.validator(m,g&&g[f],d)}catch(r){return e=r,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof d){if(t.options.preserveChildrenOrder){if(g){for(l in g[t.options.childkey]=g[t.options.childkey]||[],p={},d)h.call(d,l)&&o(p,l,d[l]);g[t.options.childkey].push(p),delete d["#name"],1===Object.keys(d).length&&e in d&&!t.EXPLICIT_CHARKEY&&(d=d[e])}}else c={},t.options.attrkey in d&&(c[t.options.attrkey]=d[t.options.attrkey],delete d[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in d&&(c[t.options.charkey]=d[t.options.charkey],delete d[t.options.charkey]),Object.getOwnPropertyNames(d).length>0&&(c[t.options.childkey]=d),d=c}return n.length>0?t.assignOrPush(g,f,d):(t.options.explicitRoot&&(y=d,o(d={},f,y)),t.resultObject=d,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),r=function(t){return function(r){var o,a;if(a=n[n.length-1])return a[e]+=r,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(a[t.options.childkey]=a[t.options.childkey]||[],(o={"#name":"__text__"})[e]=r,t.options.normalize&&(o[e]=o[e].replace(/\s{2,}/g," ").trim()),a[t.options.childkey].push(o)),a}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(t){return function(t){var e;if(e=r(t))return e.cdata=!0}}(0)},a.prototype.parseString=function(e,r){var n;null!=r&&"function"==typeof r&&(this.on("end",function(t){return this.reset(),r(null,t)}),this.on("error",function(t){return this.reset(),r(t)}));try{if(e=e.toString(),""===e.trim())return this.emit("end",null),!0;if(e=t.stripBOM(e),this.options.async)return this.remaining=e,f(this.processAsync),this.saxParser;return this.saxParser.write(e).close()}catch(t){if(n=t,!(this.saxParser.errThrown||this.saxParser.ended))return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},a.prototype.parseStringPromise=function(t){return new Promise(function(e){return function(r,n){return e.parseString(t,function(t,e){return t?n(t):r(e)})}}(this))},a}(a),e.parseString=function(t,r,n){var o,a;return null!=n?("function"==typeof n&&(o=n),"object"==typeof r&&(a=r)):("function"==typeof r&&(o=r),a={}),new e.Parser(a).parseString(t,o)},e.parseStringPromise=function(t,r){var n;return"object"==typeof r&&(n=r),new e.Parser(n).parseStringPromise(t)}}).call(this)},7526:function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},5055:function(t,e,r){(function(){"use strict";var t,n,o,a,s=function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;n=r(8381),t=r(4096),o=r(9082),a=r(7526),e.defaults=n.defaults,e.processors=a,e.ValidationError=function(t){function e(t){this.message=t}return s(e,t),e}(Error),e.Builder=t.Builder,e.Parser=o.Parser,e.parseString=o.parseString,e.parseStringPromise=o.parseStringPromise}).call(this)},8154:function(t){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},8745:function(t){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},8676:function(t){(function(){var e,r,n,o,a,s,u,l=[].slice,c={}.hasOwnProperty;e=function(){var t,e,r,n,o,s;if(s=arguments[0],o=2<=arguments.length?l.call(arguments,1):[],a(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=o.length;t<r;t++)if(null!=(n=o[t]))for(e in n)c.call(n,e)&&(s[e]=n[e]);return s},a=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},n=function(t){return a(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(n(t))return!t.length;for(e in t)if(c.call(t,e))return!1;return!0},u=function(t){var e,r;return s(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},r=function(t){return a(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=a,t.exports.isObject=s,t.exports.isArray=n,t.exports.isEmpty=o,t.exports.isPlainObject=u,t.exports.getValue=r}).call(this)},6530:function(t){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},7490:function(t,e,r){(function(){var e,n;e=r(8745),n=r(630),t.exports=function(){function t(t,r,n){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&t.prefix===this.prefix&&t.localName===this.localName&&t.value===this.value},t}()}).call(this)},9877:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r(8745),n=r(4356),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(n)}return o(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},4356:function(t,e,r){(function(){var e,n=function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=r(630),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return n(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},2374:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r(8745),n=r(4356),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(n)}return o(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},1829:function(t,e,r){(function(){var e,n;e=r(7885),n=r(4929),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},7885:function(t){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw Error(t)},t}()}).call(this)},4016:function(t){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,r){throw Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,r){throw Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw Error("This DOM method is not implemented.")},t}()}).call(this)},4929:function(t){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return -1!==this.arr.indexOf(t)},t}()}).call(this)},4131:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=r(630),e=r(8745),t.exports=function(t){function r(t,n,o,a,s,u){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw Error("Missing DTD attribute name. "+this.debugInfo(n));if(!a)throw Error("Missing DTD attribute type. "+this.debugInfo(n));if(!s)throw Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(u&&!s.match(/^(#FIXED|#DEFAULT)$/))throw Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(a),u&&(this.defaultValue=this.stringify.dtdAttDefault(u)),this.defaultValueType=s}return o(r,t),r.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},7338:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=r(630),e=r(8745),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(n),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return o(r,t),r.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},7834:function(t,e,r){(function(){var e,n,o,a=function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=r(8676).isObject,n=r(630),e=r(8745),t.exports=function(t){function r(t,n,a,s){if(r.__super__.constructor.call(this,t),null==a)throw Error("Missing DTD entity name. "+this.debugInfo(a));if(null==s)throw Error("Missing DTD entity value. "+this.debugInfo(a));if(this.pe=!!n,this.name=this.stringify.name(a),this.type=e.EntityDeclaration,o(s)){if(!s.pubID&&!s.sysID)throw Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(a));if(s.pubID&&!s.sysID)throw Error("System identifier is required for a public external entity. "+this.debugInfo(a));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(a))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return a(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},8507:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=r(630),e=r(8745),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing DTD notation name. "+this.debugInfo(n));if(!o.pubID&&!o.sysID)throw Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=e.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return o(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},2308:function(t,e,r){(function(){var e,n,o,a=function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=r(8676).isObject,n=r(630),e=r(8745),t.exports=function(t){function r(t,n,a,s){var u;r.__super__.constructor.call(this,t),o(n)&&(n=(u=n).version,a=u.encoding,s=u.standalone),n||(n="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(n),null!=a&&(this.encoding=this.stringify.xmlEncoding(a)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return a(r,t),r.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},6808:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f=function(t,e){for(var r in e)d.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;c=r(8676).isObject,l=r(630),e=r(8745),n=r(4131),a=r(7834),o=r(7338),s=r(8507),u=r(9538),t.exports=function(t){function r(t,n,o){var a,s,u,l,f,d;if(r.__super__.constructor.call(this,t),this.type=e.DocType,t.children){for(s=0,u=(l=t.children).length;s<u;s++)if((a=l[s]).type===e.Element){this.name=a.name;break}}this.documentObject=t,c(n)&&(n=(f=n).pubID,o=f.sysID),null==o&&(o=(d=[n,o])[0],n=d[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return f(r,t),Object.defineProperty(r.prototype,"entities",{get:function(){var t,r,n,o,a;for(r=0,o={},n=(a=this.children).length;r<n;r++)(t=a[r]).type!==e.EntityDeclaration||t.pe||(o[t.name]=t);return new u(o)}}),Object.defineProperty(r.prototype,"notations",{get:function(){var t,r,n,o,a;for(r=0,o={},n=(a=this.children).length;r<n;r++)(t=a[r]).type===e.NotationDeclaration&&(o[t.name]=t);return new u(o)}}),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"internalSubset",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.element=function(t,e){var r;return r=new o(this,t,e),this.children.push(r),this},r.prototype.attList=function(t,e,r,o,a){var s;return s=new n(this,t,e,r,o,a),this.children.push(s),this},r.prototype.entity=function(t,e){var r;return r=new a(this,!1,t,e),this.children.push(r),this},r.prototype.pEntity=function(t,e){var r;return r=new a(this,!0,t,e),this.children.push(r),this},r.prototype.notation=function(t,e){var r;return r=new s(this,t,e),this.children.push(r),this},r.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},r.prototype.ele=function(t,e){return this.element(t,e)},r.prototype.att=function(t,e,r,n,o){return this.attList(t,e,r,n,o)},r.prototype.ent=function(t,e){return this.entity(t,e)},r.prototype.pent=function(t,e){return this.pEntity(t,e)},r.prototype.not=function(t,e){return this.notation(t,e)},r.prototype.up=function(){return this.root()||this.documentObject},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.name===this.name&&t.publicId===this.publicId&&t.systemId===this.systemId},r}(l)}).call(this)},1888:function(t,e,r){(function(){var e,n,o,a,s,u,l,c=function(t,e){for(var r in e)f.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=r(8676).isPlainObject,o=r(4016),n=r(1829),a=r(630),e=r(8745),u=r(8365),s=r(1663),t.exports=function(t){function r(t){r.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new n,t||(t={}),t.writer||(t.writer=new s),this.options=t,this.stringify=new u(t)}return c(r,t),Object.defineProperty(r.prototype,"implementation",{value:new o}),Object.defineProperty(r.prototype,"doctype",{get:function(){var t,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++)if((t=o[r]).type===e.DocType)return t;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(t){var e;return e={},t?l(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},r.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},r.prototype.createElement=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},r}(a)}).call(this)},2621:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f,d,p,h,y,g,m,_,b,w,E,v,S,T,O,A={}.hasOwnProperty;S=(O=r(8676)).isObject,v=O.isFunction,T=O.isPlainObject,E=O.getValue,e=r(8745),h=r(1888),y=r(5725),a=r(9877),s=r(2374),m=r(7641),w=r(4306),g=r(3402),d=r(2308),p=r(6808),u=r(4131),c=r(7834),l=r(7338),f=r(8507),o=r(7490),b=r(8365),_=r(1663),n=r(6530),t.exports=function(){function t(t,r,n){var o;this.name="?xml",this.type=e.Document,t||(t={}),o={},t.writer?T(t.writer)&&(o=t.writer,t.writer=new _):t.writer=new _,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new b(t),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var r,n,o,a,s,u,l,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(n in o={},l=t.attribs)A.call(l,n)&&(r=l[n],o[n]=r.value);this.node(t.name,o);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,u=(c=t.children).length;s<u;s++)a=c[s],this.createChildNode(a),a.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,r){var n;if(null==t)throw Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=E(t),null==e&&(e={}),S(e=E(e))||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new y(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,r,n){var o,a,s,u,l,c;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||S(t)||v(t))for(u=this.options.noValidation,this.options.noValidation=!0,(c=new h(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=u,a=0,s=(l=c.children).length;a<s;a++)o=l[a],this.createChildNode(o),o.type===e.Element&&this.up();else this.node(t,r,n);return this},t.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children)throw Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=E(t)),S(t))for(r in t)A.call(t,r)&&(n=t[r],this.attribute(r,n));else v(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new o(this,t,""):null!=e&&(this.currentNode.attribs[t]=new o(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new w(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new a(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var r,n,o,a,s;if(this.openCurrent(),null!=t&&(t=E(t)),null!=e&&(e=E(e)),Array.isArray(t))for(r=0,a=t.length;r<a;r++)n=t[r],this.instruction(n);else if(S(t))for(n in t)A.call(t,n)&&(o=t[n],this.instruction(n,o));else v(e)&&(e=e.apply()),s=new g(this,t,e),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw Error("declaration() must be the first node.");return n=new d(this,t,e,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw Error("Missing root node name.");if(this.root)throw Error("dtd() must come before the root node.");return this.currentNode=new p(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new l(this,t,e),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,r,n,o){var a;return this.openCurrent(),a=new u(this,t,e,r,n,o),this.onData(this.writer.dtdAttList(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new c(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new c(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new f(this,t,e),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var r,o,a,s;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),o="",t.type===e.Element){for(a in this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,s=t.attribs)A.call(s,a)&&(r=s[a],o+=this.writer.attribute(r,this.writerOptions,this.currentLevel));o+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.children?(o+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,o+=">"),o+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var r;if(!t.isClosed)return r="",this.writerOptions.state=n.CloseTag,r=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},4402:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=r(630),e=r(8745),t.exports=function(t){function r(t){r.__super__.constructor.call(this,t),this.type=e.Dummy}return o(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return""},r}(n)}).call(this)},5725:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f=function(t,e){for(var r in e)d.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;l=(c=r(8676)).isObject,u=c.isFunction,s=c.getValue,a=r(630),e=r(8745),n=r(7490),o=r(9538),t.exports=function(t){function r(t,n,o){var a,s,u,l;if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children)){for(s=0,u=(l=t.children).length;s<u;s++)if((a=l[s]).type===e.DocType){a.name=this.name;break}}}return f(r,t),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"id",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"className",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"classList",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new o(this.attribs)),this.attributeMap}}),r.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)d.call(n,e)&&(t=n[e],r.attribs[e]=t.clone());return r.children=[],this.children.forEach(function(t){var e;return(e=t.clone()).parent=r,r.children.push(e)}),r},r.prototype.attribute=function(t,e){var r,o;if(null!=t&&(t=s(t)),l(t))for(r in t)d.call(t,r)&&(o=t[r],this.attribute(r,o));else u(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new n(this,t,""):null!=e&&(this.attribs[t]=new n(this,t,e));return this},r.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw Error("Missing attribute name. "+this.debugInfo());if(Array.isArray(t=s(t)))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attribs[e];else delete this.attribs[t];return this},r.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},r.prototype.att=function(t,e){return this.attribute(t,e)},r.prototype.a=function(t,e){return this.attribute(t,e)},r.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},r.prototype.setAttribute=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},r.prototype.setAttributeNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNS=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNodeNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNodeNS=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},r.prototype.hasAttributeNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},r.prototype.setIdAttributeNS=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttributeNode=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(t){var e,n,o;if(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)||t.namespaceURI!==this.namespaceURI||t.prefix!==this.prefix||t.localName!==this.localName||t.attribs.length!==this.attribs.length)return!1;for(e=n=0,o=this.attribs.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},r}(a)}).call(this)},9538:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw Error("This DOM method is not implemented.")},t}()}).call(this)},630:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f,d,p,h,y,g,m,_,b,w,E={}.hasOwnProperty;b=(w=r(8676)).isObject,_=w.isFunction,m=w.isEmpty,g=w.getValue,c=null,o=null,a=null,s=null,u=null,h=null,y=null,p=null,l=null,n=null,d=null,f=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=r(5725),o=r(9877),a=r(2374),s=r(2308),u=r(6808),h=r(7641),y=r(4306),p=r(3402),l=r(4402),n=r(8745),d=r(3220),f=r(9538),e=r(8154))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new d(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,r,o,a;if(this.nodeType!==n.Element&&this.nodeType!==n.DocumentFragment)return null;for(e=0,a="",r=(o=this.children).length;e<r;e++)(t=o[e]).textContent&&(a+=t.textContent);return a},set:function(t){throw Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,r,n,o,a;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),o=this.children,a=[],r=0,n=o.length;r<n;r++)e=o[r],a.push(e.setParent(this));return a},t.prototype.element=function(t,e,r){var n,o,a,s,u,l,c,f,d,p,h;if(l=null,null===e&&null==r&&(e=(d=[{},null])[0],r=d[1]),null==e&&(e={}),b(e=g(e))||(r=(p=[e,r])[0],e=p[1]),null!=t&&(t=g(t)),Array.isArray(t))for(a=0,c=t.length;a<c;a++)o=t[a],l=this.element(o);else if(_(t))l=this.element(t.apply());else if(b(t)){for(u in t)if(E.call(t,u)){if(h=t[u],_(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===u.indexOf(this.stringify.convertAttKey))l=this.attribute(u.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&m(h))l=this.dummy();else if(b(h)&&m(h))l=this.element(u);else if(this.options.keepNullNodes||null!=h){if(!this.options.separateArrayItems&&Array.isArray(h))for(s=0,f=h.length;s<f;s++)o=h[s],(n={})[u]=o,l=this.element(n);else b(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===u.indexOf(this.stringify.convertTextKey)?l=this.element(h):(l=this.element(u)).element(h):l=this.element(u,h)}else l=this.dummy()}}else l=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r):this.dummy();if(null==l)throw Error("Could not create any elements with: "+t+". "+this.debugInfo());return l},t.prototype.insertBefore=function(t,e,r){var n,o,a,s,u;if(null!=t?t.type:void 0)return a=t,s=e,a.setParent(this),s?(o=children.indexOf(s),u=children.splice(o),children.push(a),Array.prototype.push.apply(children,u)):children.push(a),a;if(this.isRoot)throw Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),u=this.parent.children.splice(o),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,u),n},t.prototype.insertAfter=function(t,e,r){var n,o,a;if(this.isRoot)throw Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),a=this.parent.children.splice(o+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,a),n},t.prototype.remove=function(){var t,e;if(this.isRoot)throw Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat(e=[])),this.parent},t.prototype.node=function(t,e,r){var n,o;return null!=t&&(t=g(t)),e||(e={}),b(e=g(e))||(r=(o=[e,r])[0],e=o[1]),n=new c(this,t,e),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(t){var e;return b(t)&&this.element(t),e=new y(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new a(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),e=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(t){var e,r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),e=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(t){var e;return e=new h(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new l(this)},t.prototype.instruction=function(t,e){var r,n,o,a,s;if(null!=t&&(t=g(t)),null!=e&&(e=g(e)),Array.isArray(t))for(a=0,s=t.length;a<s;a++)r=t[a],this.instruction(r);else if(b(t))for(r in t)E.call(t,r)&&(n=t[r],this.instruction(r,n));else _(e)&&(e=e.apply()),o=new p(this,t,e),this.children.push(o);return this},t.prototype.instructionBefore=function(t,e){var r,n,o;return n=this.parent.children.indexOf(this),o=this.parent.children.splice(n),r=this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,o),this},t.prototype.instructionAfter=function(t,e){var r,n,o;return n=this.parent.children.indexOf(this),o=this.parent.children.splice(n+1),r=this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,o),this},t.prototype.declaration=function(t,e,r){var o,a;return o=this.document(),a=new s(o,t,e,r),0===o.children.length?o.children.unshift(a):o.children[0].type===n.Declaration?o.children[0]=a:o.children.unshift(a),o.root()||o},t.prototype.dtd=function(t,e){var r,o,a,s,l,c,f,d,p,h;for(o=this.document(),a=new u(o,t,e),p=o.children,s=l=0,f=p.length;l<f;s=++l)if((r=p[s]).type===n.DocType)return o.children[s]=a,a;for(h=o.children,s=c=0,d=h.length;c<d;s=++c)if((r=h[s]).isRoot)return o.children.splice(s,0,a),a;return o.children.push(a),a},t.prototype.up=function(){if(this.isRoot)throw Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===n.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===n.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,r;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,r){return this.element(t,e,r)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var r,n;return(r=this,r===t)?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,.5>Math.random()?n|=e.Preceding:n|=e.Following,n):r.isAncestor(t)?e.Contains|e.Preceding:r.isDescendant(t)?e.Contains|e.Following:r.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,r,n;if(t.nodeType!==this.nodeType||t.children.length!==this.children.length)return!1;for(e=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,r){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++)if(t===(e=o[r])||e.isDescendant(t))return!0;return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e<r},t.prototype.isFollowing=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e>r},t.prototype.treePosition=function(t){var e,r;return(r=0,e=!1,this.foreachTreeNode(this.document(),function(n){if(r++,!e&&n===t)return e=!0}),e)?r:-1},t.prototype.foreachTreeNode=function(t,e){var r,n,o,a,s;for(t||(t=this.document()),n=0,o=(a=t.children).length;n<o;n++)if((s=e(r=a[n]))||(s=this.foreachTreeNode(r,e)))return s},t}()}).call(this)},3220:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},3402:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r(8745),n=r(4356),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return o(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},r}(n)}).call(this)},7641:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r(8745),n=r(630),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(n)}return o(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},1479:function(t,e,r){(function(){var e,n,o,a=function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;e=r(8745),o=r(5859),n=r(6530),t.exports=function(t){function r(t,e){this.stream=t,r.__super__.constructor.call(this,e)}return a(r,t),r.prototype.endline=function(t,e,o){return t.isLastRootNode&&e.state===n.CloseTag?"":r.__super__.endline.call(this,t,e,o)},r.prototype.document=function(t,e){var r,n,o,a,s,u,l,c,f;for(l=t.children,n=o=0,s=l.length;o<s;n=++o)(r=l[n]).isLastRootNode=n===t.children.length-1;for(a=0,e=this.filterOptions(e),c=t.children,f=[],u=c.length;a<u;a++)r=c[a],f.push(this.writeChildNode(r,e,0));return f},r.prototype.attribute=function(t,e,n){return this.stream.write(r.__super__.attribute.call(this,t,e,n))},r.prototype.cdata=function(t,e,n){return this.stream.write(r.__super__.cdata.call(this,t,e,n))},r.prototype.comment=function(t,e,n){return this.stream.write(r.__super__.comment.call(this,t,e,n))},r.prototype.declaration=function(t,e,n){return this.stream.write(r.__super__.declaration.call(this,t,e,n))},r.prototype.docType=function(t,e,r){var o,a,s,u;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,this.stream.write(this.indent(t,e,r)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,r)),e.state=n.InsideTag,a=0,s=(u=t.children).length;a<s;a++)o=u[a],this.writeChildNode(o,e,r+1);e.state=n.CloseTag,this.stream.write("]")}return e.state=n.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,r)),e.state=n.None,this.closeNode(t,e,r)},r.prototype.element=function(t,r,o){var a,u,l,c,f,d,p,h,y,g;for(p in o||(o=0),this.openNode(t,r,o),r.state=n.OpenTag,this.stream.write(this.indent(t,r,o)+"<"+t.name),y=t.attribs)s.call(y,p)&&(a=y[p],this.attribute(a,r,o));if(c=0===(l=t.children.length)?null:t.children[0],0===l||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+t.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(r.pretty&&1===l&&(c.type===e.Text||c.type===e.Raw)&&null!=c.value)this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,h=!0,this.writeChildNode(c,r,o+1),r.suppressPrettyCount--,h=!1,r.state=n.CloseTag,this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.endline(t,r,o)),r.state=n.InsideTag,f=0,d=(g=t.children).length;f<d;f++)u=g[f],this.writeChildNode(u,r,o+1);r.state=n.CloseTag,this.stream.write(this.indent(t,r,o)+"</"+t.name+">")}return this.stream.write(this.endline(t,r,o)),r.state=n.None,this.closeNode(t,r,o)},r.prototype.processingInstruction=function(t,e,n){return this.stream.write(r.__super__.processingInstruction.call(this,t,e,n))},r.prototype.raw=function(t,e,n){return this.stream.write(r.__super__.raw.call(this,t,e,n))},r.prototype.text=function(t,e,n){return this.stream.write(r.__super__.text.call(this,t,e,n))},r.prototype.dtdAttList=function(t,e,n){return this.stream.write(r.__super__.dtdAttList.call(this,t,e,n))},r.prototype.dtdElement=function(t,e,n){return this.stream.write(r.__super__.dtdElement.call(this,t,e,n))},r.prototype.dtdEntity=function(t,e,n){return this.stream.write(r.__super__.dtdEntity.call(this,t,e,n))},r.prototype.dtdNotation=function(t,e,n){return this.stream.write(r.__super__.dtdNotation.call(this,t,e,n))},r}(o)}).call(this)},1663:function(t,e,r){(function(){var e,n=function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=r(5859),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return n(e,t),e.prototype.document=function(t,e){var r,n,o,a,s;for(n=0,e=this.filterOptions(e),a="",o=(s=t.children).length;n<o;n++)r=s[n],a+=this.writeChildNode(r,e,0);return e.pretty&&a.slice(-e.newline.length)===e.newline&&(a=a.slice(0,-e.newline.length)),a},e}(e)}).call(this)},8365:function(t){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty;t.exports=function(){function t(t){var n,o,a;for(n in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{})r.call(o,n)&&(a=o[n],this[n]=a)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,r;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e))throw Error("Invalid character in string: "+t+" at index "+r.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e)))throw Error("Invalid character in string: "+t+" at index "+r.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},4306:function(t,e,r){(function(){var e,n,o=function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;e=r(8745),n=r(4356),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(n)}return o(r,t),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var t,e,r;for(r="",e=this.previousSibling;e;)r=e.data+r,e=e.previousSibling;for(r+=this.data,t=this.nextSibling;t;)r+=t.data,t=t.nextSibling;return r}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},r.prototype.splitText=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(t){throw Error("This DOM method is not implemented."+this.debugInfo())},r}(n)}).call(this)},5859:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f,d,p,h,y,g,m,_,b={}.hasOwnProperty;_=r(8676).assign,e=r(8745),f=r(2308),d=r(6808),o=r(9877),a=r(2374),h=r(5725),g=r(7641),m=r(4306),y=r(3402),p=r(4402),s=r(4131),u=r(7338),l=r(7834),c=r(8507),n=r(6530),t.exports=function(){function t(t){var e,r,n;for(e in t||(t={}),this.options=t,r=t.writer||{})b.call(r,e)&&(n=r[e],this["_"+e]=this[e],this[e]=n)}return t.prototype.filterOptions=function(t){var e,r,o,a,s,u,l,c;return t||(t={}),t=_({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(r=t.indent)?r:"  ",e.newline=null!=(o=t.newline)?o:"\n",e.offset=null!=(a=t.offset)?a:0,e.dontPrettyTextNodes=null!=(s=null!=(u=t.dontPrettyTextNodes)?u:t.dontprettytextnodes)?s:0,e.spaceBeforeSlash=null!=(l=null!=(c=t.spaceBeforeSlash)?c:t.spacebeforeslash)?l:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=n.None,e},t.prototype.indent=function(t,e,r){var n;if(!e.pretty||e.suppressPrettyCount);else if(e.pretty&&(n=(r||0)+e.offset+1)>0)return Array(n).join(e.indent);return""},t.prototype.endline=function(t,e,r){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,r){var n;return this.openAttribute(t,e,r),n=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,r),n},t.prototype.cdata=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<![CDATA[",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+="]]>"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.comment=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!-- ",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=" -->"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.declaration=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?xml",e.state=n.InsideTag,o+=' version="'+t.version+'"',null!=t.encoding&&(o+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(o+=' standalone="'+t.standalone+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.docType=function(t,e,r){var o,a,s,u,l;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,u=this.indent(t,e,r)+"<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?u+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(u+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(u+=" ["+this.endline(t,e,r),e.state=n.InsideTag,a=0,s=(l=t.children).length;a<s;a++)o=l[a],u+=this.writeChildNode(o,e,r+1);e.state=n.CloseTag,u+="]"}return e.state=n.CloseTag,u+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),u},t.prototype.element=function(t,r,o){var a,s,u,l,c,f,d,p,h,y,g,m,_,w;for(h in o||(o=0),y=!1,g="",this.openNode(t,r,o),r.state=n.OpenTag,g+=this.indent(t,r,o)+"<"+t.name,m=t.attribs)b.call(m,h)&&(a=m[h],g+=this.attribute(a,r,o));if(l=0===(u=t.children.length)?null:t.children[0],0===u||t.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))r.allowEmpty?(g+=">",r.state=n.CloseTag,g+="</"+t.name+">"+this.endline(t,r,o)):(r.state=n.CloseTag,g+=r.spaceBeforeSlash+"/>"+this.endline(t,r,o));else if(r.pretty&&1===u&&(l.type===e.Text||l.type===e.Raw)&&null!=l.value)g+=">",r.state=n.InsideTag,r.suppressPrettyCount++,y=!0,g+=this.writeChildNode(l,r,o+1),r.suppressPrettyCount--,y=!1,r.state=n.CloseTag,g+="</"+t.name+">"+this.endline(t,r,o);else{if(r.dontPrettyTextNodes){for(c=0,d=(_=t.children).length;c<d;c++)if(((s=_[c]).type===e.Text||s.type===e.Raw)&&null!=s.value){r.suppressPrettyCount++,y=!0;break}}for(g+=">"+this.endline(t,r,o),r.state=n.InsideTag,f=0,p=(w=t.children).length;f<p;f++)s=w[f],g+=this.writeChildNode(s,r,o+1);r.state=n.CloseTag,g+=this.indent(t,r,o)+"</"+t.name+">",y&&r.suppressPrettyCount--,g+=this.endline(t,r,o),r.state=n.None}return this.closeNode(t,r,o),g},t.prototype.writeChildNode=function(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?",e.state=n.InsideTag,o+=t.target,t.value&&(o+=" "+t.value),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.raw=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.text=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdAttList=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ATTLIST",e.state=n.InsideTag,o+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(o+=" "+t.defaultValueType),t.defaultValue&&(o+=' "'+t.defaultValue+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdElement=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ELEMENT",e.state=n.InsideTag,o+=" "+t.name+" "+t.value,e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdEntity=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ENTITY",e.state=n.InsideTag,t.pe&&(o+=" %"),o+=" "+t.name,t.value?o+=' "'+t.value+'"':(t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.nData&&(o+=" NDATA "+t.nData)),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdNotation=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!NOTATION",e.state=n.InsideTag,o+=" "+t.name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?o+=' PUBLIC "'+t.pubID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.openNode=function(t,e,r){},t.prototype.closeNode=function(t,e,r){},t.prototype.openAttribute=function(t,e,r){},t.prototype.closeAttribute=function(t,e,r){},t}()}).call(this)},9374:function(t,e,r){(function(){var e,n,o,a,s,u,l,c,f,d;c=(d=r(8676)).assign,f=d.isFunction,o=r(4016),a=r(1888),s=r(2621),l=r(1663),u=r(1479),e=r(8745),n=r(6530),t.exports.create=function(t,e,r,n){var o,s;if(null==t)throw Error("Root element needs a name.");return s=(o=new a(n=c({},e,r,n))).element(t),n.headless||(o.declaration(n),(null!=n.pubID||null!=n.sysID)&&o.dtd(n)),s},t.exports.begin=function(t,e,r){var n;return(f(t)&&(e=(n=[t,e])[0],r=n[1],t={}),e)?new s(t,e,r):new a(t)},t.exports.stringWriter=function(t){return new l(t)},t.exports.streamWriter=function(t,e){return new u(t,e)},t.exports.implementation=new o,t.exports.nodeType=e,t.exports.writerState=n}).call(this)},5070:function(t,e){var r,n,o;!function(a,s){n=[],void 0!==(o="function"==typeof(r=s)?r.apply(e,n):r)&&(t.exports=o)}(0,function(){"use strict";function t(e,r,n,o){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,t.prototype),a.expected=r,a.found=n,a.location=o,a.name="SyntaxError",a}function e(t,e,r){return(r=r||" ",t.length>e)?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}function r(e,r){var n,o={},a=(r=void 0!==r?r:{}).grammarSource,s={expr:G},u=G,l="source",c="sink",f=" ",d=" source",p=" sink",h=/^[0-9]/,y=B("source",!1),g=B("sink",!1),m=H("space"),_=B(" ",!1),b=H("digit"),w=U([["0","9"]],!1,!1),E=H("weight"),v=H("Name"),S=B(" source",!1),T=j(),O=B(" sink",!1),A=function(){return{group:null,type:"source"}},I=function(t){return{type:"sink",weight:+t||1,group:null}},N=function(t){return{group:t||null,type:"source"}},D=function(t,e){return{type:"sink",weight:+e||1,group:t||null}},R=function(t){return{group:t,type:null}},C=function(t){return+t},M=0,x=0,k=[{line:1,column:1}],L=0,F=[],P=0;if("startRule"in r){if(!(r.startRule in s))throw Error("Can't start parsing from rule \""+r.startRule+'".');u=s[r.startRule]}function B(t,e){return{type:"literal",text:t,ignoreCase:e}}function U(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function j(){return{type:"any"}}function W(){return{type:"end"}}function H(t){return{type:"other",description:t}}function z(t){var r,n=k[t];if(n)return n;for(r=t-1;!k[r];)r--;for(n={line:(n=k[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return k[t]=n,n}function V(t,e,r){var n=z(t),o=z(e),s={source:a,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:o.line,column:o.column}};return r&&a&&"function"==typeof a.offset&&(s.start=a.offset(s.start),s.end=a.offset(s.end)),s}function $(t){M<L||(M>L&&(L=M,F=[]),F.push(t))}function q(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function G(){var t,e,r,n,a,s;return t=M,(e=Y())!==o&&(x=t,e=A()),(t=e)===o&&(t=M,(e=K())!==o?((r=Z())===o&&(r=null),(n=X())===o&&(n=null),x=t,t=I(n)):(M=t,t=o),t===o&&(t=M,e=Q(),(r=Z())===o&&(r=null),(n=Y())!==o?(x=t,t=N(e)):(M=t,t=o),t===o&&(t=M,e=tt(),(r=Z())===o&&(r=null),(n=K())!==o?((a=Z())===o&&(a=null),(s=X())===o&&(s=null),x=t,t=D(e,s)):(M=t,t=o),t===o&&(t=M,e=Q(),x=t,t=e=R(e))))),t}function Y(){var t;return e.substr(M,6)===l?(t=l,M+=6):(t=o,0===P&&$(y)),t}function K(){var t;return e.substr(M,4)===c?(t=c,M+=4):(t=o,0===P&&$(g)),t}function Z(){var t,r;if(P++,t=[],32===e.charCodeAt(M)?(r=f,M++):(r=o,0===P&&$(_)),r!==o)for(;r!==o;)t.push(r),32===e.charCodeAt(M)?(r=f,M++):(r=o,0===P&&$(_));else t=o;return P--,t===o&&(r=o,0===P&&$(m)),t}function J(){var t,r;return P++,h.test(e.charAt(M))?(t=e.charAt(M),M++):(t=o,0===P&&$(w)),P--,t===o&&(r=o,0===P&&$(b)),t}function X(){var t,r,n,a;if(P++,t=M,r=M,n=[],(a=J())!==o)for(;a!==o;)n.push(a),a=J();else n=o;return(r=n!==o?e.substring(r,M):n)!==o&&(x=t,r=C(r)),t=r,P--,t===o&&(r=o,0===P&&$(E)),t}function Q(){var t,r,n,a,s;for(P++,t=M,r=[],n=M,a=M,P++,e.substr(M,7)===d?(s=d,M+=7):(s=o,0===P&&$(S)),P--,s===o?a=void 0:(M=a,a=o),a!==o?(e.length>M?(s=e.charAt(M),M++):(s=o,0===P&&$(T)),s!==o?n=a=[a,s]:(M=n,n=o)):(M=n,n=o);n!==o;)r.push(n),n=M,a=M,P++,e.substr(M,7)===d?(s=d,M+=7):(s=o,0===P&&$(S)),P--,s===o?a=void 0:(M=a,a=o),a!==o?(e.length>M?(s=e.charAt(M),M++):(s=o,0===P&&$(T)),s!==o?n=a=[a,s]:(M=n,n=o)):(M=n,n=o);return t=e.substring(t,M),P--,r=o,0===P&&$(v),t}function tt(){var t,r,n,a,s;for(P++,t=M,r=[],n=M,a=M,P++,e.substr(M,5)===p?(s=p,M+=5):(s=o,0===P&&$(O)),P--,s===o?a=void 0:(M=a,a=o),a!==o?(e.length>M?(s=e.charAt(M),M++):(s=o,0===P&&$(T)),s!==o?n=a=[a,s]:(M=n,n=o)):(M=n,n=o);n!==o;)r.push(n),n=M,a=M,P++,e.substr(M,5)===p?(s=p,M+=5):(s=o,0===P&&$(O)),P--,s===o?a=void 0:(M=a,a=o),a!==o?(e.length>M?(s=e.charAt(M),M++):(s=o,0===P&&$(T)),s!==o?n=a=[a,s]:(M=n,n=o)):(M=n,n=o);return t=e.substring(t,M),P--,r=o,0===P&&$(v),t}if((n=u())!==o&&M===e.length)return n;throw n!==o&&M<e.length&&$(W()),q(F,L<e.length?e.charAt(L):null,V(L,L<e.length?L+1:L))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,o=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){o=t[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,u=this.location.source+":"+s.line+":"+s.column;if(o){var l=this.location.end,c=e("",s.line.toString().length," "),f=o[a.line-1],d=(a.line===l.line?l.column:f.length+1)-a.column||1;r+="\n --> "+u+"\n"+c+" |\n"+s.line+" | "+f+"\n"+c+" | "+e("",a.column-1," ")+e("",d,"^")}else r+="\n at "+u}return r},t.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map(function(t){return Array.isArray(t)?a(t[0])+"-"+a(t[1]):a(t)});return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function s(t){return r[t.type](t)}function u(t){return t?'"'+o(t)+'"':"end of input"}return"Expected "+function(t){var e,r,n=t.map(s);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+u(e)+" found."},{SyntaxError:t,parse:r}})},4939:function(t,e){var r,n,o;!function(a,s){n=[],void 0!==(o="function"==typeof(r=s)?r.apply(e,n):r)&&(t.exports=o)}(0,function(){"use strict";function t(e,r,n,o){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,t.prototype),a.expected=r,a.found=n,a.location=o,a.name="SyntaxError",a}function e(t,e,r){return(r=r||" ",t.length>e)?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}function r(e,r){var n,o={},a=(r=void 0!==r?r:{}).grammarSource,s={expr:ea},u=ea,l="average",c="months",f="month",d="year",p="years",h="hold",y="previous",g="spend",m="from",_="week",b="weeks",w="by",E="of",v="repeat",S="every",T="starting",O="up",A="to",I="schedule",N="full",D="-",R="remainder",C="#template",M="#goal",x=" ",k=".",L="%",F=/^[0-9]/,P=/^[1-9]/,B=/^[^\r\n\t]/,U=t5("average",!0),j=t5("months",!0),W=ee("repeat interval"),H=t5("month",!0),z=t5("year",!0),V=t5("years",!0),$=t5("hold",!0),q=t5("previous",!0),G=t5("spend",!0),Y=t5("from",!0),K=t5("week",!0),Z=t5("weeks",!0),J=t5("by",!0),X=t5("of",!0),Q=t5("repeat",!0),tt=t5("every",!0),te=t5("starting",!0),tr=t5("up",!0),tn=t5("to",!0),ti=t5("schedule",!0),to=t5("full",!0),ta=t5("-",!0),ts=t5("remainder",!0),tu=t5("#template",!1),tl=t5("#goal",!1),tc=ee("space"),tf=t5(" ",!1),td=ee("digit"),tp=t7([["0","9"]],!1,!1),th=ee("number"),ty=t7([["1","9"]],!1,!1),tg=ee("amount"),tm=t5(".",!1),t_=ee("percentage"),tb=t5("%",!1),tw=ee("year"),tE=ee("month"),tv=t5("-",!1),tS=ee("day"),tT=ee("currency symbol"),tO=t9(),tA=ee("Name"),tI=t7(["\r","\n","	"],!0,!1),tN=function(t,e,r){return{type:"percentage",percent:+e.percent,previous:e.prev,category:r,priority:t.priority,directive:t.directive}},tD=function(t,e,r,n,o){return{type:"week",amount:e,weeks:r,starting:n,limit:o,priority:t.priority,directive:t.directive}},tR=function(t,e,r,n,o){return{type:n?"spend":"by",amount:e,month:r,...o?o[3]:{},from:n,priority:t.priority,directive:t.directive}},tC=function(t,e,r){return{type:"simple",monthly:e,limit:r,priority:t.priority,directive:t.directive}},tM=function(t,e){return{type:"simple",limit:e,priority:t.priority,directive:t.directive}},tx=function(t,e,r){return{type:"schedule",name:r,priority:t.priority,directive:t.directive,full:e}},tk=function(t,e,r){return{type:"remainder",priority:null,directive:t.directive,weight:e,limit:r}},tL=function(t,e){return{type:"average",amount:+e,priority:t.priority,directive:t.directive}},tF=function(t,e){return{type:"simple",amount:e,priority:null,directive:"goal"}},tP=function(){return{annual:!1}},tB=function(t){return{annual:!1,repeat:+t}},tU=function(){return{annual:!0}},tj=function(t){return{annual:!0,repeat:+t}},tW=function(t){return{amount:t,hold:!0}},tH=function(t){return{amount:t,hold:!1}},tz=function(t){return{percent:t,prev:!0}},tV=function(t){return{percent:t,prev:!1}},t$=function(){return null},tq=function(t){return+t},tG=function(t){return t},tY=function(){return!0},tK=function(t){return t},tZ=function(t){return+t||1},tJ=function(t){return{priority:+t,directive:"template"}},tX=function(t){return+t},tQ=function(t){return+t},t0=function(t){return/\p{Sc}/u.test(t)},t1=0,t2=0,t6=[{line:1,column:1}],t4=0,t3=[],t8=0;if("startRule"in r){if(!(r.startRule in s))throw Error("Can't start parsing from rule \""+r.startRule+'".');u=s[r.startRule]}function t5(t,e){return{type:"literal",text:t,ignoreCase:e}}function t7(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function t9(){return{type:"any"}}function et(){return{type:"end"}}function ee(t){return{type:"other",description:t}}function er(t){var r,n=t6[t];if(n)return n;for(r=t-1;!t6[r];)r--;for(n={line:(n=t6[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return t6[t]=n,n}function en(t,e,r){var n=er(t),o=er(e),s={source:a,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:o.line,column:o.column}};return r&&a&&"function"==typeof a.offset&&(s.start=a.offset(s.start),s.end=a.offset(s.end)),s}function ei(t){t1<t4||(t1>t4&&(t4=t1,t3=[]),t3.push(t))}function eo(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function ea(){var t,r,n,a,s,u,f,d,p,h,y,g,m,_;return t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=el())!==o&&(s=eF())!==o?(t2=t,t=tN(r,a,s)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=eD())!==o&&(s=eO())!==o&&(u=eg())!==o&&(f=eO())!==o&&(d=ec())!==o&&(p=eO())!==o&&(h=em())!==o&&(y=eO())!==o&&(g=ek())!==o?((m=eu())===o&&(m=null),t2=t,t=tD(r,a,d,g,m)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=eD())!==o&&(s=eO())!==o&&(u=eh())!==o&&(f=eO())!==o&&(d=eM())!==o?((p=ef())===o&&(p=null),h=t1,(y=eO())!==o&&(g=eg())!==o&&(m=eO())!==o&&(_=es())!==o?h=y=[y,g,m,_]:(t1=h,h=o),h===o&&(h=null),t2=t,t=tR(r,a,d,p,h)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=eD())!==o?((s=eu())===o&&(s=null),t2=t,t=tC(r,a,s)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=eu())!==o?(t2=t,t=tM(r,a)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=eb())!==o&&(s=eO())!==o?((u=ew())===o&&(u=null),(f=eF())!==o?(t2=t,t=tx(r,u,f)):(t1=t,t=o)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o&&(a=ev())!==o?((s=eu())===o&&(s=null),t2=t,t=tk(r,a,s)):(t1=t,t=o),t===o&&(t=t1,(r=eS())!==o&&(n=eO())!==o?(e.substr(t1,7).toLowerCase()===l?(a=e.substr(t1,7),t1+=7):(a=o,0===t8&&ei(U)),a!==o&&(s=eO())!==o&&(u=eN())!==o&&(f=eO())!==o?(e.substr(t1,6).toLowerCase()===c?(d=e.substr(t1,6),t1+=6):(d=o,0===t8&&ei(j)),d===o&&(d=null),t2=t,t=tL(r,u)):(t1=t,t=o)):(t1=t,t=o),t===o&&(t=t1,(r=eT())!==o&&(n=eD())!==o?(t2=t,t=tF(r,n)):(t1=t,t=o))))))))),t}function es(){var t,r,n,a;return t8++,t=t1,e.substr(t1,5).toLowerCase()===f?(r=e.substr(t1,5),t1+=5):(r=o,0===t8&&ei(H)),r!==o&&(t2=t,r=tP()),(t=r)===o&&(t=t1,(r=eN())!==o&&(n=eO())!==o?(e.substr(t1,6).toLowerCase()===c?(a=e.substr(t1,6),t1+=6):(a=o,0===t8&&ei(j)),a!==o?(t2=t,t=tB(r)):(t1=t,t=o)):(t1=t,t=o),t===o&&(t=t1,e.substr(t1,4).toLowerCase()===d?(r=e.substr(t1,4),t1+=4):(r=o,0===t8&&ei(z)),r!==o&&(t2=t,r=tU()),(t=r)===o&&(t=t1,(r=eN())!==o&&(n=eO())!==o?(e.substr(t1,5).toLowerCase()===p?(a=e.substr(t1,5),t1+=5):(a=o,0===t8&&ei(V)),a!==o?(t2=t,t=tj(r)):(t1=t,t=o)):(t1=t,t=o)))),t8--,t===o&&(r=o,0===t8&&ei(W)),t}function eu(){var t,r,n,a,s,u;return t=t1,(r=eO())===o&&(r=null),(n=e_())!==o&&(a=eO())!==o&&(s=eD())!==o&&eO()!==o?(e.substr(t1,4).toLowerCase()===h?(u=e.substr(t1,4),t1+=4):(u=o,0===t8&&ei($)),u!==o?(t2=t,t=tW(s)):(t1=t,t=o)):(t1=t,t=o),t===o&&(t=t1,(r=eO())===o&&(r=null),(n=e_())!==o&&(a=eO())!==o&&(s=eD())!==o?(t2=t,t=tH(s)):(t1=t,t=o)),t}function el(){var t,r,n,a,s,u;return t=t1,(r=eR())!==o&&(n=eO())!==o&&(a=ey())!==o&&(s=eO())!==o?(e.substr(t1,8).toLowerCase()===y?(u=e.substr(t1,8),t1+=8):(u=o,0===t8&&ei(q)),u!==o&&eO()!==o?(t2=t,t=tz(r)):(t1=t,t=o)):(t1=t,t=o),t===o&&(t=t1,(r=eR())!==o&&(n=eO())!==o&&(a=ey())!==o&&(s=eO())!==o?(t2=t,t=tV(r)):(t1=t,t=o)),t}function ec(){var t,e;return t=t1,(e=ed())!==o&&(t2=t,e=t$()),(t=e)===o&&(t=t1,(e=eI())!==o&&eO()!==o&&ep()!==o?(t2=t,t=tq(e)):(t1=t,t=o)),t}function ef(){var t,r,n,a;return t=t1,eO()!==o?(e.substr(t1,5).toLowerCase()===g?(r=e.substr(t1,5),t1+=5):(r=o,0===t8&&ei(G)),r!==o&&eO()!==o?(e.substr(t1,4).toLowerCase()===m?(n=e.substr(t1,4),t1+=4):(n=o,0===t8&&ei(Y)),n!==o&&eO()!==o&&(a=eM())!==o?(t2=t,t=tG(a)):(t1=t,t=o)):(t1=t,t=o)):(t1=t,t=o),t}function ed(){var t;return e.substr(t1,4).toLowerCase()===_?(t=e.substr(t1,4),t1+=4):(t=o,0===t8&&ei(K)),t}function ep(){var t;return e.substr(t1,5).toLowerCase()===b?(t=e.substr(t1,5),t1+=5):(t=o,0===t8&&ei(Z)),t}function eh(){var t;return e.substr(t1,2).toLowerCase()===w?(t=e.substr(t1,2),t1+=2):(t=o,0===t8&&ei(J)),t}function ey(){var t;return e.substr(t1,2).toLowerCase()===E?(t=e.substr(t1,2),t1+=2):(t=o,0===t8&&ei(X)),t}function eg(){var t,r,n,a;return t=t1,e.substr(t1,6).toLowerCase()===v?(r=e.substr(t1,6),t1+=6):(r=o,0===t8&&ei(Q)),r!==o&&(n=eO())!==o?(e.substr(t1,5).toLowerCase()===S?(a=e.substr(t1,5),t1+=5):(a=o,0===t8&&ei(tt)),a!==o?t=r=[r,n,a]:(t1=t,t=o)):(t1=t,t=o),t}function em(){var t;return e.substr(t1,8).toLowerCase()===T?(t=e.substr(t1,8),t1+=8):(t=o,0===t8&&ei(te)),t}function e_(){var t,r,n,a;return t=t1,e.substr(t1,2).toLowerCase()===O?(r=e.substr(t1,2),t1+=2):(r=o,0===t8&&ei(tr)),r!==o&&(n=eO())!==o?(e.substr(t1,2).toLowerCase()===A?(a=e.substr(t1,2),t1+=2):(a=o,0===t8&&ei(tn)),a!==o?t=r=[r,n,a]:(t1=t,t=o)):(t1=t,t=o),t}function eb(){var t;return e.substr(t1,8).toLowerCase()===I?(t=e.substr(t1,8),t1+=8):(t=o,0===t8&&ei(ti)),t}function ew(){var t,r;return t=t1,e.substr(t1,4).toLowerCase()===N?(r=e.substr(t1,4),t1+=4):(r=o,0===t8&&ei(to)),r!==o&&eO()!==o?(t2=t,t=tY()):(t1=t,t=o),t}function eE(){var t,r,n;return t=t1,e.substr(t1,1).toLowerCase()===D?(r=e.charAt(t1),t1++):(r=o,0===t8&&ei(ta)),r!==o&&(n=eI())!==o?(t2=t,t=tK(n)):(t1=t,t=o),t}function ev(){var t,r,n,a;return t=t1,e.substr(t1,9).toLowerCase()===R?(r=e.substr(t1,9),t1+=9):(r=o,0===t8&&ei(ts)),r!==o?((n=eO())===o&&(n=null),(a=eN())===o&&(a=null),t2=t,t=tZ(a)):(t1=t,t=o),t}function eS(){var t,r,n;return t=t1,e.substr(t1,9)===C?(r=C,t1+=9):(r=o,0===t8&&ei(tu)),r!==o?((n=eE())===o&&(n=null),t2=t,t=tJ(n)):(t1=t,t=o),t}function eT(){var t;return e.substr(t1,5)===M?(t=M,t1+=5):(t=o,0===t8&&ei(tl)),t}function eO(){var t,r;if(t8++,t=[],32===e.charCodeAt(t1)?(r=x,t1++):(r=o,0===t8&&ei(tf)),r!==o)for(;r!==o;)t.push(r),32===e.charCodeAt(t1)?(r=x,t1++):(r=o,0===t8&&ei(tf));else t=o;return t8--,t===o&&(r=o,0===t8&&ei(tc)),t}function eA(){var t,r;return t8++,F.test(e.charAt(t1))?(t=e.charAt(t1),t1++):(t=o,0===t8&&ei(tp)),t8--,t===o&&(r=o,0===t8&&ei(td)),t}function eI(){var t,r,n;if(t8++,t=t1,r=[],(n=eA())!==o)for(;n!==o;)r.push(n),n=eA();else r=o;return t=r!==o?e.substring(t,t1):r,t8--,t===o&&(r=o,0===t8&&ei(th)),t}function eN(){var t,r,n,a,s;if(t=t1,r=t1,P.test(e.charAt(t1))?(n=e.charAt(t1),t1++):(n=o,0===t8&&ei(ty)),n!==o){for(a=[],F.test(e.charAt(t1))?(s=e.charAt(t1),t1++):(s=o,0===t8&&ei(tp));s!==o;)a.push(s),F.test(e.charAt(t1))?(s=e.charAt(t1),t1++):(s=o,0===t8&&ei(tp));r=n=[n,a]}else t1=r,r=o;return r!==o?e.substring(t,t1):r}function eD(){var t,r,n,a,s,u,l,c,f,d,p;if(t8++,t=t1,(r=eL())===o&&(r=null),(n=eO())===o&&(n=null),a=t1,s=t1,u=[],(l=eA())!==o)for(;l!==o;)u.push(l),l=eA();else u=o;return u!==o?(l=t1,46===e.charCodeAt(t1)?(c=k,t1++):(c=o,0===t8&&ei(tm)),c!==o?(f=t1,(d=eA())!==o?((p=eA())===o&&(p=null),f=d=[d,p]):(t1=f,f=o),f===o&&(f=null),l=c=[c,f]):(t1=l,l=o),l===o&&(l=null),s=u=[u,l]):(t1=s,s=o),(a=s!==o?e.substring(a,t1):s)!==o?(t2=t,t=tX(a)):(t1=t,t=o),t8--,t===o&&(r=o,0===t8&&ei(tg)),t}function eR(){var t,r,n,a,s,u,l,c;if(t8++,t=t1,r=t1,n=t1,a=[],(s=eA())!==o)for(;s!==o;)a.push(s),s=eA();else a=o;if(a!==o){if(s=t1,46===e.charCodeAt(t1)?(u=k,t1++):(u=o,0===t8&&ei(tm)),u!==o){if(l=[],(c=eA())!==o)for(;c!==o;)l.push(c),c=eA();else l=o;l===o&&(l=null),s=u=[u,l]}else t1=s,s=o;s===o&&(s=null),n=a=[a,s]}else t1=n,n=o;return(r=n!==o?e.substring(r,t1):n)!==o?((n=eO())===o&&(n=null),37===e.charCodeAt(t1)?(a=L,t1++):(a=o,0===t8&&ei(tb)),a!==o?(t2=t,t=tQ(r)):(t1=t,t=o)):(t1=t,t=o),t8--,t===o&&(r=o,0===t8&&ei(t_)),t}function eC(){var t,r,n,a,s,u;return t8++,t=t1,r=t1,(n=eA())!==o&&(a=eA())!==o&&(s=eA())!==o&&(u=eA())!==o?r=n=[n,a,s,u]:(t1=r,r=o),t=r!==o?e.substring(t,t1):r,t8--,t===o&&(r=o,0===t8&&ei(tw)),t}function eM(){var t,r,n,a,s,u;return t8++,t=t1,r=t1,(n=eC())!==o?(45===e.charCodeAt(t1)?(a=D,t1++):(a=o,0===t8&&ei(tv)),a!==o&&(s=eA())!==o&&(u=eA())!==o?r=n=[n,a,s,u]:(t1=r,r=o)):(t1=r,r=o),t=r!==o?e.substring(t,t1):r,t8--,t===o&&(r=o,0===t8&&ei(tE)),t}function ex(){var t,r,n,a;return t8++,t=t1,r=t1,(n=eA())!==o&&(a=eA())!==o?r=n=[n,a]:(t1=r,r=o),t=r!==o?e.substring(t,t1):r,t8--,t===o&&(r=o,0===t8&&ei(tS)),t}function ek(){var t,r,n,a,s;return t=t1,r=t1,(n=eM())!==o?(45===e.charCodeAt(t1)?(a=D,t1++):(a=o,0===t8&&ei(tv)),a!==o&&(s=ex())!==o?r=n=[n,a,s]:(t1=r,r=o)):(t1=r,r=o),t=r!==o?e.substring(t,t1):r}function eL(){var t,r,n;return t8++,t=t1,e.length>t1?(r=e.charAt(t1),t1++):(r=o,0===t8&&ei(tO)),r!==o?(t2=t1,(n=(n=t0(r))?void 0:o)!==o?t=r=[r,n]:(t1=t,t=o)):(t1=t,t=o),t8--,t===o&&(r=o,0===t8&&ei(tT)),t}function eF(){var t,r,n;if(t8++,t=t1,r=[],B.test(e.charAt(t1))?(n=e.charAt(t1),t1++):(n=o,0===t8&&ei(tI)),n!==o)for(;n!==o;)r.push(n),B.test(e.charAt(t1))?(n=e.charAt(t1),t1++):(n=o,0===t8&&ei(tI));else r=o;return t=r!==o?e.substring(t,t1):r,t8--,t===o&&(r=o,0===t8&&ei(tA)),t}if((n=u())!==o&&t1===e.length)return n;throw n!==o&&t1<e.length&&ei(et()),eo(t3,t4<e.length?e.charAt(t4):null,en(t4,t4<e.length?t4+1:t4))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,o=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){o=t[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(a):a,u=this.location.source+":"+s.line+":"+s.column;if(o){var l=this.location.end,c=e("",s.line.toString().length," "),f=o[a.line-1],d=(a.line===l.line?l.column:f.length+1)-a.column||1;r+="\n --> "+u+"\n"+c+" |\n"+s.line+" | "+f+"\n"+c+" | "+e("",a.column-1," ")+e("",d,"^")}else r+="\n at "+u}return r},t.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map(function(t){return Array.isArray(t)?a(t[0])+"-"+a(t[1]):a(t)});return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function s(t){return r[t.type](t)}function u(t){return t?'"'+o(t)+'"':"end of input"}return"Expected "+function(t){var e,r,n=t.map(s);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+u(e)+" found."},{SyntaxError:t,parse:r}})},2074:()=>{},1214:()=>{},8119:()=>{},4654:()=>{},2361:()=>{},4616:()=>{},8441:()=>{},5614:()=>{},1243:()=>{},3083:(t,e,r)=>{"use strict";var n=r(9908),o="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof o[n[e]]&&(t[t.length]=n[e]);return t}},3216:(t,e,r)=>{"use strict";var n=r(4155),o=r(2584),a=r(6373);if(r(1405)()||r(5419)()){var s=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[s]?t[s]():o(t)?Array.prototype[s].call(t):void 0}}else{var u=r(5826),l=r(9981),c=r(210),f=c("%Map%",!0),d=c("%Set%",!0),p=r(1924),h=p("Array.prototype.push"),y=p("String.prototype.charCodeAt"),g=p("String.prototype.slice"),m=function(t,e){if(e+1>=t.length)return e+1;var r=y(t,e);if(r<55296||r>56319)return e+1;var n=y(t,e+1);return n<56320||n>57343?e+1:e+2},_=function(t){var e=0;return{next:function(){var r,n=e>=t.length;return n||(r=t[e],e+=1),{done:n,value:r}}}},b=function(t,e){if(u(t)||o(t))return _(t);if(l(t)){var r=0;return{next:function(){var e=m(t,r),n=g(t,r,e);return r=e,{done:e>t.length,value:n}}}}if(e&&void 0!==t["_es6-shim iterator_"])return t["_es6-shim iterator_"]()};if(f||d){var w=r(8379),E=r(9572),v=p("Map.prototype.forEach",!0),S=p("Set.prototype.forEach",!0);if(void 0===n||!n.versions||!n.versions.node)var T=p("Map.prototype.iterator",!0),O=p("Set.prototype.iterator",!0);var A=p("Map.prototype.@@iterator",!0)||p("Map.prototype._es6-shim iterator_",!0),I=p("Set.prototype.@@iterator",!0)||p("Set.prototype._es6-shim iterator_",!0),N=function(t){if(w(t)){if(T)return a(T(t));if(A)return A(t);if(v){var e=[];return v(t,function(t,r){h(e,[r,t])}),_(e)}}if(E(t)){if(O)return a(O(t));if(I)return I(t);if(S){var r=[];return S(t,function(t){h(r,t)}),_(r)}}};t.exports=function(t){return N(t)||b(t)}}else t.exports=function(t){if(null!=t)return b(t,!0)}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}(()=>{__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e}})(),(()=>{__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}})(),(()=>{__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}()})(),(()=>{__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t)})();var __webpack_exports__={};(()=>{"use strict";let t,e,r,n,o,a,s,u,l,c,f,d,p;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{handlers:()=>_R,init:()=>_F,initApp:()=>_L,lib:()=>_P});var h,y,g,m,_={};__webpack_require__.r(_),__webpack_require__.d(_,{all:()=>lC,asyncTransaction:()=>lR,cache:()=>lI,closeDatabase:()=>lw,deleteAccount:()=>co,deleteAll:()=>lj,deleteCategory:()=>l0,deleteCategoryGroup:()=>lZ,deletePayee:()=>l6,deleteTransaction:()=>cf,deleteTransferPayee:()=>l4,delete_:()=>lU,execQuery:()=>lO,first:()=>lM,firstSync:()=>lx,fromDateRepr:()=>op,getAccounts:()=>cr,getCategories:()=>l$,getCategoriesGrouped:()=>lq,getCommonPayees:()=>l7,getDatabase:()=>lv,getDatabasePath:()=>l_,getOrphanedPayees:()=>ct,getPayee:()=>l1,getPayeeByName:()=>ce,getPayees:()=>l5,getTransaction:()=>cs,getTransactions:()=>cu,insert:()=>lB,insertAccount:()=>cn,insertCategory:()=>lJ,insertCategoryGroup:()=>lG,insertPayee:()=>l2,insertTransaction:()=>cl,insertWithSchema:()=>lz,insertWithUUID:()=>lP,loadClock:()=>lS,mergePayees:()=>l8,moveAccount:()=>ca,moveCategory:()=>lQ,moveCategoryGroup:()=>lK,openDatabase:()=>lb,run:()=>lk,runQuery:()=>lT,select:()=>lL,selectFirstWithSchema:()=>lH,selectWithSchema:()=>lW,setDatabase:()=>lE,syncGetOrphanedPayees:()=>l9,toDateRepr:()=>od,transaction:()=>lD,update:()=>lF,updateAccount:()=>ci,updateCategory:()=>lX,updateCategoryGroup:()=>lY,updatePayee:()=>l3,updateTransaction:()=>cc,updateWithSchema:()=>lV});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{doImport:()=>mz,getBudgetName:()=>mV,parseFile:()=>mG});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{doImport:()=>m0,getBudgetName:()=>m2,parseFile:()=>m1});var E=__webpack_require__(5614),v=__webpack_require__.n(E),S=__webpack_require__(1243),T=__webpack_require__.n(S);function O(t){h=t}var A=__webpack_require__(5222);function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function N(t){if(Array.isArray(t))return I(t)}function D(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function C(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t){return N(t)||R(t)||x(t)||C()}function x(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(t,e)}}function k(){return{hash:0}}function L(t){return["0","1","2"].includes(t)}function F(t){return Object.keys(t).filter(L)}function P(t){return 6e4*parseInt(t+"0".repeat(16-t.length),3)}function B(t,e){var r=e.hash(),n=Number(Math.floor(e.millis()/1e3/60)).toString(3);return U(t=Object.assign({},t,{hash:(t.hash||0)^r}),n,r)}function U(t,e,r){if(0===e.length)return t;var n=e[0],o=(L(n)?t[n]:void 0)||{};return Object.assign({},t,D({},n,Object.assign({},o,U(o,e.slice(1),r),{hash:(o.hash||0)^r})))}function j(t,e){if(t.hash===e.hash)return null;for(var r=t,n=e,o="";;){var a=new Set(M(F(r)).concat(M(F(n)))),s=M(a.values());s.sort();for(var u=null,l=0;l<s.length;l++){var c=s[l],f=r[c],d=n[c];if(!f||!d)break;if(f.hash!==d.hash){u=c;break}}if(!u)return P(o);o+=u,r=r[u]||k(),n=n[u]||k()}return null}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t.hash)return t;var r=F(t);r.sort();var n={hash:t.hash},o=!0,a=!1,s=void 0;try{for(var u,l=r.slice(-e)[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,f=t[c];if(!f)throw Error("TrieNode for key ".concat(c," could not be found"));n[c]=W(f,e)}}catch(t){a=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return n}var H=__webpack_require__(8053),z=__webpack_require__.n(H);let V={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},$=new Uint8Array(16);function q(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t($)}let G=[];for(let t=0;t<256;++t)G.push((t+256).toString(16).slice(1));function Y(t,e=0){return G[t[e+0]]+G[t[e+1]]+G[t[e+2]]+G[t[e+3]]+"-"+G[t[e+4]]+G[t[e+5]]+"-"+G[t[e+6]]+G[t[e+7]]+"-"+G[t[e+8]]+G[t[e+9]]+"-"+G[t[e+10]]+G[t[e+11]]+G[t[e+12]]+G[t[e+13]]+G[t[e+14]]+G[t[e+15]]}let K=function(t,e,r){if(V.randomUUID&&!e&&!t)return V.randomUUID();let n=(t=t||{}).random||(t.rng||q)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return Y(n)};function Z(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function X(t,e,r){return(X=tc()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&ts(o,r.prototype),o}).apply(null,arguments)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t,e,r){return e&&Q(t.prototype,e),r&&Q(t,r),t}function te(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}function ti(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function to(t){return -1!==Function.toString.call(t).indexOf("[native code]")}function ta(t,e){return e&&("object"===tu(e)||"function"==typeof e)?e:Z(t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function tl(t){var e="function"==typeof Map?new Map:void 0;return(tl=function(t){if(null===t||!to(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return X(t,arguments,tr(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ts(r,t)})(t)}function tc(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tf(t){var e=tc();return function(){var r,n=tr(t);return r=e?Reflect.construct(n,arguments,tr(this).constructor):n.apply(this,arguments),ta(this,r)}}function td(t){y=t}function tp(){return y}function th(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{timestamp:tv.from(t),merkle:e}}function ty(t){return JSON.stringify({timestamp:t.timestamp.toString(),merkle:t.merkle})}function tg(t){try{e=JSON.parse(t)}catch(t){e={timestamp:"1970-01-01T00:00:00.000Z-0000-"+tm(),merkle:{}}}var e,r=tE.parse(e.timestamp);if(!r)throw new tE.InvalidError(e.timestamp);return{timestamp:tv.from(r),merkle:e.merkle}}function tm(){return K().replace(/-/g,"").slice(-16)}var t_={maxDrift:3e5},tb=parseInt("0xFFFF"),tw=16,tE=function(){function t(e,r,n){J(this,t),te(this,"_state",void 0),this._state={millis:e,counter:r,node:n}}return tt(t,[{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return[new Date(this.millis()).toISOString(),("0000"+this.counter().toString(16).toUpperCase()).slice(-4),("0000000000000000"+this.node()).slice(-16)].join("-")}},{key:"millis",value:function(){return this._state.millis}},{key:"counter",value:function(){return this._state.counter}},{key:"node",value:function(){return this._state.node}},{key:"hash",value:function(){return z().v3(this.toString())}}],[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.maxDrift&&(t_.maxDrift=e.maxDrift),td(th(new t(0,0,e.node?("0000000000000000"+e.node).toString().slice(-16):"")))}},{key:"parse",value:function(e){if(ti(e,t))return e;if("string"==typeof e){var r=e.split("-");if(r&&5===r.length){var n=Date.parse(r.slice(0,3).join("-")).valueOf(),o=parseInt(r[3],16),a=r[4];if(!isNaN(n)&&n>=0&&!isNaN(o)&&o<=tb&&"string"==typeof a&&a.length<=tw)return new t(n,o,a)}}return null}},{key:"send",value:function(){if(!y)return null;var e=Date.now(),r=y.timestamp.millis(),n=y.timestamp.counter(),o=Math.max(r,e),a=r===o?n+1:0;if(o-e>t_.maxDrift)throw new t.ClockDriftError(o,e,t_.maxDrift);if(a>tb)throw new t.OverflowError;return y.timestamp.setMillis(o),y.timestamp.setCounter(a),new t(y.timestamp.millis(),y.timestamp.counter(),y.timestamp.node())}},{key:"recv",value:function(e){if(!y)return null;var r=Date.now(),n=e.millis(),o=e.counter();if(n-r>t_.maxDrift)throw new t.ClockDriftError;var a=y.timestamp.millis(),s=y.timestamp.counter(),u=Math.max(Math.max(a,r),n),l=u===a&&u===n?Math.max(s,o)+1:u===a?s+1:u===n?o+1:0;if(u-r>t_.maxDrift)throw new t.ClockDriftError;if(l>tb)throw new t.OverflowError;return y.timestamp.setMillis(u),y.timestamp.setCounter(l),new t(y.timestamp.millis(),y.timestamp.counter(),y.timestamp.node())}}]),t}();te(tE,"max",tE.parse("9999-12-31T23:59:59.999Z-FFFF-FFFFFFFFFFFFFFFF")),te(tE,"zero",tE.parse("1970-01-01T00:00:00.000Z-0000-0000000000000000")),te(tE,"since",function(t){return t+"-0000-0000000000000000"}),te(tE,"DuplicateNodeError",function(t){tn(r,t);var e=tf(r);function r(t){var n;return J(this,r),(n=e.call(this,"duplicate node identifier "+t)).name="DuplicateNodeError",n}return r}(tl(Error))),te(tE,"ClockDriftError",function(t){tn(r,t);var e=tf(r);function r(){for(var t,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return J(this,r),(t=e.call(this,["maximum clock drift exceeded"].concat(o).join(" "))).name="ClockDriftError",t}return r}(tl(Error))),te(tE,"OverflowError",function(t){tn(r,t);var e=tf(r);function r(){var t;return J(this,r),(t=e.call(this,"timestamp counter overflow")).name="OverflowError",t}return r}(tl(Error))),te(tE,"InvalidError",function(t){tn(r,t);var e=tf(r);function r(){for(var t,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return J(this,r),(t=e.call(this,["timestamp is not valid"].concat(o.map(String)).join(" "))).name="InvalidError",t}return r}(tl(Error)));var tv=function(t){tn(r,t);var e=tf(r);function r(){return J(this,r),e.apply(this,arguments)}return tt(r,[{key:"setMillis",value:function(t){this._state.millis=t}},{key:"setCounter",value:function(t){this._state.counter=t}},{key:"setNode",value:function(t){this._state.node=t}}],[{key:"from",value:function(t){return new r(t.millis(),t.counter(),t.node())}}]),r}(tE),tS=A;function tT(t){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tO(t,e){if(e.length<t)throw TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function tA(t){tO(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===tT(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):(("string"==typeof t||"[object String]"===e)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function tI(t,e){return tO(2,arguments),tA(t).getTime()-tA(e).getTime()}var tN=6e4,tD=36e5;function tR(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function tC(t,e){tO(1,arguments);var r,n,o,a=tR(null!==(r=null==e?void 0:e.additionalDigits)&&void 0!==r?r:2);if(2!==a&&1!==a&&0!==a)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof t||"[object String]"===Object.prototype.toString.call(t)))return new Date(NaN);var s=tF(t);if(s.date){var u=tP(s.date,a);n=tB(u.restDateString,u.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var l=n.getTime(),c=0;if(s.time&&isNaN(c=tj(s.time)))return new Date(NaN);if(s.timezone){if(isNaN(o=tH(s.timezone)))return new Date(NaN)}else{var f=new Date(l+c),d=new Date(0);return d.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),d.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),d}return new Date(l+c+o)}var tM={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tF(t){var e,r={},n=t.split(tM.dateTimeDelimiter);if(n.length>2)return r;if(/:/.test(n[0])?e=n[0]:(r.date=n[0],e=n[1],tM.timeZoneDelimiter.test(r.date)&&(r.date=t.split(tM.timeZoneDelimiter)[0],e=t.substr(r.date.length,t.length))),e){var o=tM.timezone.exec(e);o?(r.time=e.replace(o[1],""),r.timezone=o[1]):r.time=e}return r}function tP(t,e){var r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var o=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:null===a?o:100*a,restDateString:t.slice((n[1]||n[2]).length)}}function tB(t,e){if(null===e)return new Date(NaN);var r=t.match(tx);if(!r)return new Date(NaN);var n=!!r[4],o=tU(r[1]),a=tU(r[2])-1,s=tU(r[3]),u=tU(r[4]),l=tU(r[5])-1;if(n)return tY(e,u,l)?tz(e,u,l):new Date(NaN);var c=new Date(0);return tq(e,a,s)&&tG(e,o)?(c.setUTCFullYear(e,a,Math.max(o,s)),c):new Date(NaN)}function tU(t){return t?parseInt(t):1}function tj(t){var e=t.match(tk);if(!e)return NaN;var r=tW(e[1]),n=tW(e[2]),o=tW(e[3]);return tK(r,n,o)?r*tD+n*tN+1e3*o:NaN}function tW(t){return t&&parseFloat(t.replace(",","."))||0}function tH(t){if("Z"===t)return 0;var e=t.match(tL);if(!e)return 0;var r="+"===e[1]?-1:1,n=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return tZ(n,o)?r*(n*tD+o*tN):NaN}function tz(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var o=(e-1)*7+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+o),n}var tV=[31,null,31,30,31,30,31,31,30,31,30,31];function t$(t){return t%400==0||t%4==0&&t%100!=0}function tq(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(tV[e]||(t$(t)?29:28))}function tG(t,e){return e>=1&&e<=(t$(t)?366:365)}function tY(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function tK(t,e,r){return 24===t?0===e&&0===r:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function tZ(t,e){return e>=0&&e<=59}function tJ(t){var e,r;if(tO(1,arguments),t&&"function"==typeof t.forEach)e=t;else{if("object"!==tT(t)||null===t)return new Date(NaN);e=Array.prototype.slice.call(t)}return e.forEach(function(t){var e=tA(t);(void 0===r||r<e||isNaN(Number(e)))&&(r=e)}),r||new Date(NaN)}let tX=tQ();function tQ(){return new Promise((t,e)=>{let r=9,n=indexedDB.open("actual",r);n.onupgradeneeded=function(t){let e=t.target.result;e.objectStoreNames.contains("filesystem")&&e.deleteObjectStore("filesystem",{keyPath:"filepath"}),e.objectStoreNames.contains("messages")&&e.deleteObjectStore("messages",{keyPath:"filepath"}),e.objectStoreNames.contains("asyncStorage")||e.createObjectStore("asyncStorage"),e.objectStoreNames.contains("files")||e.createObjectStore("files",{keyPath:"filepath"})},n.onblocked=t=>console.log("blocked",t),n.onerror=()=>{console.log("openRequest error"),e(Error("indexeddb-failure: Could not open IndexedDB"))},n.onsuccess=function(e){let r=e.target.result;r.onversionchange=()=>{r.close()},r.onerror=function(t){if(console.log("Database error: "+(t.target&&t.target.error)),t.target&&t.target.error&&"QuotaExceededError"===t.target.error.name)throw Error("indexeddb-quota-error")},t(r)}})}let t0=function(t,e){let r=t.transaction([e],"readwrite");return{trans:r,store:r.objectStore(e)}},t1=async function(t,e,r=t=>t){return new Promise((n,o)=>{let a=t.get(e);a.onsuccess=()=>{n(r(a.result))},a.onerror=t=>o(t)})},t2=async function(t,e){return new Promise((r,n)=>{let o=t.put(e);o.onsuccess=()=>r(void 0),o.onerror=t=>n(t)})},t6=async function(t,e){return new Promise((r,n)=>{let o=t.delete(e);o.onsuccess=()=>r(void 0),o.onerror=t=>n(t)})},t4=function(){return tX},t3=function(){};function t8(t){t.commit&&t.commit()}let t5=async function(t){let e=(await t4()).transaction(["asyncStorage"],"readonly"),r=e.objectStore("asyncStorage");return new Promise((n,o)=>{let a=r.get(t);a.onerror=t=>o(t),a.onsuccess=t=>n(t.target.result),t8(e)})},t7=async function(t,e){let r=(await t4()).transaction(["asyncStorage"],"readwrite"),n=r.objectStore("asyncStorage");new Promise((o,a)=>{let s=n.put(e,t);s.onerror=t=>a(t),s.onsuccess=()=>o(void 0),t8(r)})},t9=async function(t){let e=(await t4()).transaction(["asyncStorage"],"readwrite"),r=e.objectStore("asyncStorage");return new Promise((n,o)=>{let a=r.delete(t);a.onerror=t=>o(t),a.onsuccess=()=>n(void 0),t8(e)})},et=async function(t){let e=(await t4()).transaction(["asyncStorage"],"readonly"),r=e.objectStore("asyncStorage"),n=Promise.all(t.map(t=>new Promise((e,n)=>{let o=r.get(t);o.onerror=t=>n(t),o.onsuccess=r=>e([t,r.target.result])})));return t8(e),n},ee=async function(t){let e=(await getDatabase()).transaction(["asyncStorage"],"readwrite"),r=e.objectStore("asyncStorage"),n=Promise.all(t.map(([t,e])=>new Promise((n,o)=>{let a=r.put(e,t);a.onerror=t=>o(t),a.onsuccess=()=>n(void 0)})));return t8(e),n},er=async function(t){let e=(await t4()).transaction(["asyncStorage"],"readwrite"),r=e.objectStore("asyncStorage"),n=Promise.all(t.map(t=>new Promise((e,n)=>{let o=r.delete(t);o.onerror=t=>n(t),o.onsuccess=()=>e(void 0)})));return t8(e),n};function en(t){return tO(1,arguments),t instanceof Date||"object"===tT(t)&&"[object Date]"===Object.prototype.toString.call(t)}function ei(t){return tO(1,arguments),(!!en(t)||"number"==typeof t)&&!isNaN(Number(tA(t)))}function eo(t,e){return tO(2,arguments),new Date(tA(t).getTime()+tR(e))}function ea(t,e){return tO(2,arguments),eo(t,-tR(e))}var es=864e5;function eu(t){tO(1,arguments);var e=tA(t),r=e.getTime();return e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),Math.floor((r-e.getTime())/es)+1}function el(t){tO(1,arguments);var e=1,r=tA(t),n=r.getUTCDay(),o=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function ec(t){tO(1,arguments);var e=tA(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=el(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=el(a);return e.getTime()>=o.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function ef(t){tO(1,arguments);var e=ec(t),r=new Date(0);return r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0),el(r)}var ed=6048e5;function ep(t){tO(1,arguments);var e=tA(t);return Math.round((el(e).getTime()-ef(e).getTime())/ed)+1}var eh={};function ey(){return eh}function eg(t,e){tO(1,arguments);var r,n,o,a,s,u,l,c,f=ey(),d=tR(null!==(r=null!==(n=null!==(o=null!==(a=null==e?void 0:e.weekStartsOn)&&void 0!==a?a:null==e?void 0:null===(s=e.locale)||void 0===s?void 0:null===(u=s.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:f.weekStartsOn)&&void 0!==n?n:null===(l=f.locale)||void 0===l?void 0:null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=tA(t),h=p.getUTCDay(),y=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function em(t,e){tO(1,arguments);var r,n,o,a,s,u,l,c,f=tA(t),d=f.getUTCFullYear(),p=ey(),h=tR(null!==(r=null!==(n=null!==(o=null!==(a=null==e?void 0:e.firstWeekContainsDate)&&void 0!==a?a:null==e?void 0:null===(s=e.locale)||void 0===s?void 0:null===(u=s.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==n?n:null===(l=p.locale)||void 0===l?void 0:null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(h>=1&&h<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(d+1,0,h),y.setUTCHours(0,0,0,0);var g=eg(y,e),m=new Date(0);m.setUTCFullYear(d,0,h),m.setUTCHours(0,0,0,0);var _=eg(m,e);return f.getTime()>=g.getTime()?d+1:f.getTime()>=_.getTime()?d:d-1}function e_(t,e){tO(1,arguments);var r,n,o,a,s,u,l,c,f=ey(),d=tR(null!==(r=null!==(n=null!==(o=null!==(a=null==e?void 0:e.firstWeekContainsDate)&&void 0!==a?a:null==e?void 0:null===(s=e.locale)||void 0===s?void 0:null===(u=s.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:f.firstWeekContainsDate)&&void 0!==n?n:null===(l=f.locale)||void 0===l?void 0:null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),p=em(t,e),h=new Date(0);return h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0),eg(h,e)}var eb=6048e5;function ew(t,e){tO(1,arguments);var r=tA(t);return Math.round((eg(r,e).getTime()-e_(r,e).getTime())/eb)+1}function eE(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}let ev={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return eE("yy"===e?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return"M"===e?String(r+1):eE(r+1,2)},d:function(t,e){return eE(t.getUTCDate(),e.length)},h:function(t,e){return eE(t.getUTCHours()%12||12,e.length)},H:function(t,e){return eE(t.getUTCHours(),e.length)},m:function(t,e){return eE(t.getUTCMinutes(),e.length)},s:function(t,e){return eE(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length;return eE(Math.floor(t.getUTCMilliseconds()*Math.pow(10,r-3)),e.length)}};var eS={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function eT(t,e){var r=t>0?"-":"+",n=Math.abs(t),o=Math.floor(n/60),a=n%60;if(0===a)return r+String(o);var s=e||"";return r+String(o)+s+eE(a,2)}function eO(t,e){return t%60==0?(t>0?"-":"+")+eE(Math.abs(t)/60,2):eA(t,e)}function eA(t,e){var r=e||"",n=t>0?"-":"+",o=Math.abs(t);return n+eE(Math.floor(o/60),2)+r+eE(o%60,2)}let eI={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if("yo"===e){var n=t.getUTCFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return ev.y(t,e)},Y:function(t,e,r,n){var o=em(t,n),a=o>0?o:1-o;return"YY"===e?eE(a%100,2):"Yo"===e?r.ordinalNumber(a,{unit:"year"}):eE(a,e.length)},R:function(t,e){return eE(ec(t),e.length)},u:function(t,e){return eE(t.getUTCFullYear(),e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return eE(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return eE(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return ev.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return eE(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){var o=ew(t,n);return"wo"===e?r.ordinalNumber(o,{unit:"week"}):eE(o,e.length)},I:function(t,e,r){var n=ep(t);return"Io"===e?r.ordinalNumber(n,{unit:"week"}):eE(n,e.length)},d:function(t,e,r){return"do"===e?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):ev.d(t,e)},D:function(t,e,r){var n=eu(t);return"Do"===e?r.ordinalNumber(n,{unit:"dayOfYear"}):eE(n,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var o=t.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return eE(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var o=t.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return eE(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),o=0===n?7:n;switch(e){case"i":return String(o);case"ii":return eE(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n,o=t.getUTCHours();switch(n=12===o?eS.noon:0===o?eS.midnight:o/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n,o=t.getUTCHours();switch(n=o>=17?eS.evening:o>=12?eS.afternoon:o>=4?eS.morning:eS.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,r){if("ho"===e){var n=t.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ev.h(t,e)},H:function(t,e,r){return"Ho"===e?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ev.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return"Ko"===e?r.ordinalNumber(n,{unit:"hour"}):eE(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return(0===n&&(n=24),"ko"===e)?r.ordinalNumber(n,{unit:"hour"}):eE(n,e.length)},m:function(t,e,r){return"mo"===e?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ev.m(t,e)},s:function(t,e,r){return"so"===e?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ev.s(t,e)},S:function(t,e){return ev.S(t,e)},X:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return eO(o);case"XXXX":case"XX":return eA(o);default:return eA(o,":")}},x:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"x":return eO(o);case"xxxx":case"xx":return eA(o);default:return eA(o,":")}},O:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eT(o,":");default:return"GMT"+eA(o,":")}},z:function(t,e,r,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eT(o,":");default:return"GMT"+eA(o,":")}},t:function(t,e,r,n){return eE(Math.floor((n._originalDate||t).getTime()/1e3),e.length)},T:function(t,e,r,n){return eE((n._originalDate||t).getTime(),e.length)}};var eN=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},eD=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},eR=function(t,e){var r,n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return eN(t,e);switch(o){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",eN(o,e)).replace("{{time}}",eD(a,e))};let eC={p:eD,P:eR};function eM(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var ex=["D","DD"],ek=["YY","YYYY"];function eL(t){return -1!==ex.indexOf(t)}function eF(t){return -1!==ek.indexOf(t)}function eP(t,e,r){if("YYYY"===t)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};let eU=function(t,e,r){var n,o=eB[t];return(n="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=r&&r.addSuffix)?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ej(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var eW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"};let ez={date:ej({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ej({formats:eW,defaultWidth:"full"}),dateTime:ej({formats:eH,defaultWidth:"full"})};var eV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};let e$=function(t,e,r,n){return eV[t]};function eq(t){return function(e,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=null!=r&&r.width?String(r.width):o;n=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,u=null!=r&&r.width?String(r.width):t.defaultWidth;n=t.values[u]||t.values[s]}return n[t.argumentCallback?t.argumentCallback(e):e]}}var eG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}};let eX={ordinalNumber:function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:eq({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:eq({values:eG,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:eq({values:eY,defaultWidth:"wide"}),day:eq({values:eK,defaultWidth:"wide"}),dayPeriod:eq({values:eZ,defaultWidth:"wide",formattingValues:eJ,defaultFormattingWidth:"wide"})};function eQ(t){return function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;var u=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?e1(l,function(t){return t.test(u)}):e0(l,function(t){return t.test(u)});return r=t.valueCallback?t.valueCallback(c):c,{value:r=n.valueCallback?n.valueCallback(r):r,rest:e.slice(u.length)}}}function e0(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function e1(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}var e2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},e6={any:[/^b/i,/^(a|c)/i]},e4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e3={any:[/1/i,/2/i,/3/i,/4/i]},e8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},re={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}};let rr={code:"en-US",formatDistance:eU,formatLong:ez,formatRelative:e$,localize:eX,match:{ordinalNumber:function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var o=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:e.slice(o.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:eQ({matchPatterns:e2,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),quarter:eQ({matchPatterns:e4,defaultMatchWidth:"wide",parsePatterns:e3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:eQ({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),day:eQ({matchPatterns:e7,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any"}),dayPeriod:eQ({matchPatterns:rt,defaultMatchWidth:"any",parsePatterns:re,defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var rn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ri=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ro=/^'([^]*?)'?$/,ra=/''/g,rs=/[a-zA-Z]/;function ru(t,e,r){tO(2,arguments);var n,o,a,s,u,l,c,f,d,p,h,y,g,m,_,b,w,E,v=String(e),S=ey(),T=null!==(n=null!==(o=null==r?void 0:r.locale)&&void 0!==o?o:S.locale)&&void 0!==n?n:rr,O=tR(null!==(a=null!==(s=null!==(u=null!==(l=null==r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null==r?void 0:null===(c=r.locale)||void 0===c?void 0:null===(f=c.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==u?u:S.firstWeekContainsDate)&&void 0!==s?s:null===(d=S.locale)||void 0===d?void 0:null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==a?a:1);if(!(O>=1&&O<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=tR(null!==(h=null!==(y=null!==(g=null!==(m=null==r?void 0:r.weekStartsOn)&&void 0!==m?m:null==r?void 0:null===(_=r.locale)||void 0===_?void 0:null===(b=_.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:S.weekStartsOn)&&void 0!==y?y:null===(w=S.locale)||void 0===w?void 0:null===(E=w.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==h?h:0);if(!(A>=0&&A<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw RangeError("locale must contain localize property");if(!T.formatLong)throw RangeError("locale must contain formatLong property");var I=tA(t);if(!ei(I))throw RangeError("Invalid time value");var N=eM(I),D=ea(I,N),R={firstWeekContainsDate:O,weekStartsOn:A,locale:T,_originalDate:I};return v.match(ri).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,eC[e])(t,T.formatLong):t}).join("").match(rn).map(function(n){if("''"===n)return"'";var o=n[0];if("'"===o)return rl(n);var a=eI[o];if(a)return!(null!=r&&r.useAdditionalWeekYearTokens)&&eF(n)&&eP(n,e,String(t)),!(null!=r&&r.useAdditionalDayOfYearTokens)&&eL(n)&&eP(n,e,String(t)),a(D,n,T.localize,R);if(o.match(rs))throw RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return n}).join("")}function rl(t){var e=t.match(ro);return e?e[1].replace(ra,"'"):t}function rc(t,e){tO(2,arguments);var r=tA(t),n=tR(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());return(a.setMonth(r.getMonth()+n+1,0),o>=a.getDate())?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function rf(t,e){return tO(2,arguments),rc(t,-tR(e))}function rd(t,e){tO(2,arguments);var r=tA(t),n=tR(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function rp(t,e){return tO(2,arguments),rd(t,7*tR(e))}function rh(t,e){tO(2,arguments);var r=tA(t),n=tA(e);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}function ry(t){tO(1,arguments);var e=tA(t);return e.setHours(0,0,0,0),e}var rg=864e5;function rm(t,e){tO(2,arguments);var r=ry(t),n=ry(e);return Math.round((r.getTime()-eM(r)-(n.getTime()-eM(n)))/rg)}function r_(t,e){return tO(2,arguments),rd(t,-tR(e))}function rb(t,e){tO(2,arguments);var r=tA(t),n=tA(e);return r.getTime()<n.getTime()}function rw(t,e){tO(2,arguments);var r=tA(t),n=tA(e);return r.getTime()>n.getTime()}function rE(t){tO(1,arguments);var e=tA(t);return e.setDate(1),e.setHours(0,0,0,0),e}function rv(t){tO(1,arguments);var e=tA(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}var rS=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function rT(t,e){return!!(t===e||rS(t)&&rS(e))}function rO(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!rT(t[r],e[r]))return!1;return!0}function rA(t,e){void 0===e&&(e=rO);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&e(n,r.lastArgs))return r.lastResult;var a=t.apply(this,n);return r={lastResult:a,lastArgs:n,lastThis:this},a}return n.clear=function(){r=null},n}navigator.platform&&navigator.platform.toLowerCase(),navigator.platform&&navigator.platform.toUpperCase().indexOf("MAC");let rI="playwright"===navigator.userAgent;function rN(t){if("string"==typeof t){let[e,r,n]=t.split("-");return null!=n?new Date(parseInt(e),parseInt(r)-1,parseInt(n),12):null!=r?new Date(parseInt(e),parseInt(r)-1,1,12):new Date(parseInt(e),0,1,12)}return"number"==typeof t?new Date(t):t}let rD=rN;function rR(t){return ru(rN(t),"yyyy")}function rC(t){return ru(rN(t),"yyyy-MM")}function rM(t){return ru(rN(t),"yyyy-MM-dd")}function rx(){return __webpack_require__.g.IS_TESTING||rI?__webpack_require__.g.currentMonth||"2017-01":ru(new Date,"yyyy-MM")}function rk(){return __webpack_require__.g.IS_TESTING||rI?"2017-01-01":ru(new Date,"yyyy-MM-dd")}function rL(t){return ru(rf(rN(t),1),"yyyy-MM")}function rF(t,e){return ru(rc(rN(t),e),"yyyy-MM")}function rP(t,e){return ru(rp(rN(t),e),"yyyy-MM-dd")}function rB(t,e){return rh(rN(t),rN(e))}function rU(t,e){return rm(rN(t),rN(e))}function rj(t,e){return ru(rf(rN(t),e),"yyyy-MM")}function rW(t,e){return ru(rd(rN(t),e),"yyyy-MM-dd")}function rH(t,e){return ru(r_(rN(t),e),"yyyy-MM-dd")}function rz(t,e){return rb(rN(t),rN(e))}function rV(t,e){return rw(rN(t),rN(e))}function r$(t){return{start:parseInt(ru(rE(rN(t)),"yyyyMMdd")),end:parseInt(ru(rv(rN(t)),"yyyyMMdd"))}}function rq(t,e,r=!1){let n=[],o=rC(t),a=rC(e);for(;rb(rN(o),rN(a));)n.push(o),o=rF(o,1);return r&&n.push(o),n}function rG(t,e){return rq(t,e)}function rY(t,e){return rq(t,e,!0)}function rK(t){return t.slice(0,7)}function rZ(t){return"budget"+t.replace("-","")}function rJ(t,e){return ru(rN(t),e)}function rX(t){return t[t.length-1]}function rQ(t,e){let r={},n=Object.keys(e),o=!1;t.id&&(r.id=t.id);for(let a=0;a<n.length;a++){let s=n[a];t[s]!==e[s]&&(r[s]=e[s],o=!0)}return o?r:null}function r0(t,e,r){let n=!1;for(let o=0;o<r.length;o++){let a=r[o];if(t[a]!==e[a]){n=!0;break}}return n}function r1(t,e){let r=new Map;for(let n=0;n<t.length;n++){let o=t[n],a=o[e],s=r.get(a)||[];s.push(o),r.set(a,s)}return r}function r2(t,e){let r=new Map;for(let n=0;n<t.length;n++){let o=t[n],a=o[e],s=r.get(a)||[];r.set(a,s.concat([o]))}return r}function r6(t){let e=new Map;for(let r=0;r<t.length;r++){let n=t[r];e.set(n.id,n)}return e}function r4(t,e){let r=r6(t),n=r6(e),o=[],a=[],s=t.filter(t=>!n.has(t.id)).map(t=>({id:t.id}));return e.forEach(t=>{let e=r.get(t.id);if(e){let r=rQ(e,t);r&&a.push(r)}else o.push(t)}),{added:o,updated:a,deleted:s}}function r3(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n.id]=n}return e}function r8(t,e,r){for(let n=0;n<e.length;n++){let o=e[n];n===e.length-1?t.set(o,r):(t.has(o)||t.set(o,new Map),t=t.get(o))}}function r5(t,e){let r=t;for(let t=0;t<e.length&&null!=(r=r.get(e[t]));t++);return r}function r7(t,e){let r=new Set(t),n=e.values(),o=n.next();for(;!o.done;)r.add(o.value),o=n.next();return r}rA(t=>new RegExp(t.replace(/d+/g,"\\d{1,2}").replace(/M+/g,"\\d{1,2}").replace(/y+/g,"\\d{4}"))),rA(t=>t.replace(/y+/g,"").replace(/[^\w]$/,"").replace(/^[^\w]/,"")),rA(t=>RegExp("^"+t.replace(/y+/g,"").replace(/[^\w]$/,"").replace(/^[^\w]/,"").replace(/d+/g,"\\d{1,2}").replace(/M+/g,"\\d{1,2}")+"$")),rA(t=>t.replace(/d+/g,"").replace(/[^\w]$/,"").replace(/^[^\w]/,"").replace(/\/\//,"/").replace(/\.\./,".").replace(/--/,"-")),rA(t=>RegExp("^"+t.replace(/d+/g,"").replace(/[^\w]$/,"").replace(/^[^\w]/,"").replace(/\/\//,"/").replace(/M+/g,"\\d{1,2}").replace(/y+/g,"\\d{2,4}")+"$")),rA(t=>t.replace(/y+/g,"yy")),rA(t=>RegExp("^"+t.replace(/[^\w]$/,"").replace(/^[^\w]/,"").replace(/d+/g,"\\d{1,2}").replace(/M+/g,"\\d{1,2}").replace(/y+/g,"\\d{2}")+"$"));let r9={format:"comma-dot",hideFraction:!1};function nt({format:t,hideFraction:e}=r9){let r,n,o,a;switch(t){case"space-comma":r="en-SE",n=/[^-0-9,.]/g,o=",",a=/[,.]/g;break;case"dot-comma":r="de-DE",n=/[^-0-9,]/g,o=",";break;case"apostrophe-dot":r="de-CH",n=/[^-0-9,.]/g,o=".",a=/[,.]/g;break;case"comma-dot-in":r="en-IN",n=/[^-0-9.]/g,o=".";break;default:r="en-US",n=/[^-0-9.]/g,o="."}return{value:t,separator:o,formatter:new Intl.NumberFormat(r,{minimumFractionDigits:e?0:2,maximumFractionDigits:e?0:2}),regex:n,separatorRegex:a}}let ne=0x8000000000000-1,nr=-(0x8000000000000-1);function nn(t){if(!Number.isInteger(t))throw Error("safeNumber: number is not an integer: "+JSON.stringify(t));if(t>ne||t<nr)throw Error("safeNumber: cant safely perform arithmetic with number: "+t);return t}function ni(t){let e=parseInt(t.replace(/[^-0-9.,]/g,""));return isNaN(e)?null:e}function no(t){return Math.round(100*t)}function na(t){return parseFloat((nn(t)/100).toFixed(2))}function ns(t){function e(t){if(isNaN(t))return null;let e=100*t;return e>ne||e<nr?null:t}function r(t){return t.replace(/[^0-9-]/g,"")}t.startsWith("(")&&t.endsWith(")")&&(t=t.replace("(","-").replace(")",""));let n=t.match(/[.,]([^.,]{5,9}|[^.,]{1,2})$/);return e(n&&void 0!==n.index?parseFloat(r(t.slice(0,n.index))+"."+r(t.slice(n.index+1))):parseFloat(r(t)))}function nu(t,e){return[...t].sort((t,r)=>t[e]<r[e]?-1:t[e]>r[e]?1:0)}function nl(t){return"number"==typeof t?t:0}function nc(t,e){return{type:"SplitTransactionError",version:1,difference:nl(e.amount)-t}}function nf(t,e={}){let r="temp"===t.id?"temp":"";return{amount:0,...e,category:"category"in e?e.category:t.category,payee:"payee"in e?e.payee:t.payee,id:"id"in e?e.id:r+K(),account:t.account,date:t.date,cleared:null!=t.cleared?t.cleared:null,reconciled:"reconciled"in e?e.reconciled:t.reconciled,starting_balance_flag:null!=t.starting_balance_flag?t.starting_balance_flag:null,is_child:!0,parent_id:t.id,error:null}}function nd(t){let e=(t.subtransactions||[]).reduce((t,e)=>t+nl(e.amount),0);return{...t,error:e===nl(t.amount)?null:nc(e,t)}}function np(t,e){for(;e>=0;){if(t[e].is_parent)return e;e--}return null}function nh(t,e){let r=[t[e]],n=e+1;for(;n<t.length&&t[n].is_child;)r.push(t[n]),n++;return r}function ny(t){return t.reduce((t,e)=>{let{subtransactions:r,...n}=e,o=r||[];t.push(n);for(let e=0;e<o.length;e++)t.push(o[e]);return t},[])}function ng(t){return{...t[0],subtransactions:t.slice(1)}}function nm(t){return null==t?[]:ny([t])}function n_(t,e,r){let n=t.findIndex(t=>t.id===e),o=t[n],a=[...t];if(-1===n)throw Error("Tried to edit unknown transaction id: "+e);if(o.is_parent||o.is_child){let e;let o=np(t,n);if(null==o)return console.log("Cannot find parent index"),{data:[],diff:{added:[],deleted:[],updated:[]},newTransaction:null};let s=nh(t,o),u=r(ng(s)),l=nm(u);return null==l?(e={added:[],deleted:[{id:s[0].id}],updated:[]},u={...s[0],_deleted:!0},a.splice(o,s.length)):(e=r4(s,l),a.splice(o,s.length,...l)),{data:a,newTransaction:u,diff:e}}{let t=r(o),e=nm(t)||[];return t&&(t.subtransactions=t.subtransactions||[]),a.splice(n,1,...e),{data:a,newTransaction:t||{...o,_deleted:!0},diff:r4([o],e)}}}function nb(t,e){return n_(t,e,t=>{if(!t.is_parent)return t;let e=rX(t.subtransactions||[]);return t.subtransactions?.push(nf(t,{amount:0,sort_order:nl(e&&e.sort_order)-1})),t})}function nw(t,e){return n_(t,e.id,t=>{if(!t.is_parent)return e;{let r=t.id===e.id?e:t,n=r.subtransactions??t.subtransactions,o=n?.map(n=>{let o=n;return t.id===e.id?o={...n,payee:n.payee===t.payee?e.payee:n.payee}:n.id===e.id&&(o=e),nf(r,o)});return nd({...r,subtransactions:o})}})}function nE(t,e){return n_(t,e,t=>{if(!t.is_parent||t.id===e)return null;if(t.subtransactions?.length===1)return{...t,subtransactions:void 0,is_parent:!1,error:null};{let r=t.subtransactions?.filter(t=>t.id!==e);return nd({...t,subtransactions:r})}})}function nv(t,e,r){return n_(t,e,t=>{if(t.is_parent||t.is_child)return t;let e=r?.(t)||[nf(t)];return{...t,is_parent:!0,error:0===nl(t.amount)?null:nc(0,t),subtransactions:e.map(t=>({...t,sort_order:t.sort_order||-1}))}})}var nS=__webpack_require__(9593),nT=__webpack_require__.n(nS);let nO={EPERM:63,ENOENT:44};class nA{constructor(t,e){this.FS=t,this.backend=e,this.node_ops={getattr:e=>{let r=t.isFile(e.mode)?e.contents.getattr():null,n={};return n.dev=1,n.ino=e.id,n.mode=r?r.mode:e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,n.size=r?r.size:t.isDir(e.mode)?4096:0,n.atime=new Date(0),n.mtime=new Date(0),n.ctime=new Date(0),n.blksize=r?r.blockSize:4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:(t,e)=>{this.FS.isFile(t.mode)?t.contents.setattr(e):(null!=e.mode&&(t.mode=e.mode),null!=e.size&&(t.size=e.size))},lookup:(t,e)=>{throw new this.FS.ErrnoError(nO.ENOENT)},mknod:(t,e,r,n)=>{if(e.endsWith(".lock"))throw Error("Locking via lockfiles is not supported");return this.createNode(t,e,r,n)},rename:(t,e,r)=>{throw Error("rename not implemented")},unlink:(t,e)=>{this.FS.lookupNode(t,e).contents.delete(e)},readdir:t=>{throw Error("readdir not implemented")},symlink:(t,e,r)=>{throw Error("symlink not implemented")},readlink:t=>{throw Error("symlink not implemented")}},this.stream_ops={open:t=>{this.FS.isFile(t.node.mode)&&t.node.contents.open()},close:t=>{this.FS.isFile(t.node.mode)&&t.node.contents.close()},read:(t,e,r,n,o)=>t.node.contents.read(e,r,n,o),write:(t,e,r,n,o)=>t.node.contents.write(e,r,n,o),llseek:(e,r,n)=>{var o=r;if(1===n?o+=e.position:2===n&&t.isFile(e.node.mode)&&(o+=e.node.contents.getattr().size),o<0)throw new this.FS.ErrnoError(28);return o},allocate:(t,e,r)=>{t.node.contents.setattr({size:e+r})},mmap:(t,e,r,n,o,a)=>{throw Error("mmap not implemented")},msync:(t,e,r,n,o)=>{throw Error("msync not implemented")},fsync:(t,e,r,n,o)=>{t.node.contents.fsync()}}}mount(){return this.createNode(null,"/",16895,0)}lock(t,e){let{node:r}=this.FS.lookupPath(t);return!r||!r.contents||r.contents.lock(e)}unlock(t,e){let{node:r}=this.FS.lookupPath(t);return!r||!r.contents||r.contents.unlock(e)}createNode(t,e,r,n){if(!(this.FS.isDir(r)||this.FS.isFile(r)))throw new this.FS.ErrnoError(nO.EPERM);var o=this.FS.createNode(t,e,r,n);return this.FS.isDir(o.mode)?(o.node_ops={mknod:this.node_ops.mknod,lookup:this.node_ops.lookup,unlink:this.node_ops.unlink,setattr:this.node_ops.setattr},o.stream_ops={},o.contents={}):this.FS.isFile(o.mode)&&(o.node_ops=this.node_ops,o.stream_ops=this.stream_ops,o.contents=this.backend.createFile(e)),t&&(t.contents[e]=o,t.timestamp=o.timestamp),o}}let nI=nA,nN={SHARED:1,RESERVED:2};function nD(t){return(t[16]<<8)+t[17]}function nR(t,e){if(null!=t&&null!=e){let r=new Uint8Array(t),n=new Uint8Array(e);for(let t=24;t<40;t++)if(r[t]!==n[t])return!1;return!0}return null==t&&null==e}function nC(t,e,r){let n=[];for(let o=t;o<=e;o+=r)n.push(o);return n}function nM(t,e,r){return nC(e-e%t,r-1-(r-1)%t,t)}function nx(t,e,r){let n=new ArrayBuffer(r-e),o=new Uint8Array(n);for(let n=0;n<t.length;n++){let a=t[n];if("ArrayBuffer"!==a.data.constructor.name)throw Error("Chunk data is not an ArrayBuffer");let s=0,u=a.data.byteLength;if(e>a.pos&&(s=e-a.pos),r<a.pos+a.data.byteLength&&(u=r-a.pos),s>a.data.byteLength||u<0)continue;let l=u-s;o.set(new Uint8Array(a.data,s,l),a.pos-e+s)}return n}function nk(t,e,r,n){let o=nM(e,r,n),a=0;return o.map(o=>{let s=0,u=e;r>o&&r<o+e&&(s=r-o),n>o&&n<o+e&&(u=n-o);let l=u-s,c=new ArrayBuffer(e);if(r>o+e||n<=o)return null;let f=t.byteOffset+a,d=t.buffer.byteLength-f;if(d<=0)return null;let p=Math.min(l,d);return new Uint8Array(c).set(new Uint8Array(t.buffer,f,p),s),a+=p,{pos:o,data:c,offset:s,length:p}}).filter(Boolean)}class nL{constructor(t,e,r=null){this.filename=t,this.buffer=new Map,this.ops=e,this.meta=r,this._metaDirty=!1,this.writeLock=!1,this.openHandles=0}bufferChunks(t){for(let e=0;e<t.length;e++){let r=t[e];this.buffer.set(r.pos,r)}}open(){if(this.openHandles++,1===this.openHandles){this.ops.open();let t=this.ops.readMeta();null==this.meta&&(null==t&&(t={size:0}),this.meta=t)}return this.meta}close(){this.fsync(),this.openHandles=Math.max(this.openHandles-1,0),0===this.openHandles&&this.ops.close()}delete(){this.ops.delete()}load(t){let e=t.reduce((t,e)=>{let r=this.buffer.get(e);return r?t.chunks.push(r):t.missing.push(e),t},{chunks:[],missing:[]}),r=[];return e.missing.length>0&&(r=this.ops.readBlocks(e.missing,this.meta.blockSize)),e.chunks.concat(r)}read(t,e,r,n){let o=t.buffer;if(r<=0||n<0)return 0;if(n>=this.meta.size){let t=new Uint8Array(o,e);for(let e=0;e<r;e++)t[e]=0;return r}n=Math.max(n,0);let a=Math.min(r,this.meta.size-n),s=n,u=n+a,l=nM(this.meta.blockSize,s,u),c=nx(this.load(l),s,u);if(o.byteLength-e<c.byteLength)throw Error("Buffer given to `read` is too small");let f=new Uint8Array(o);f.set(new Uint8Array(c),e);for(let t=a;t<r;t++)f[e+t]=0;return r}write(t,e,r,n){if(null==this.meta.blockSize){let r=nD(new Uint8Array(t.buffer,t.byteOffset+e));if(![512,1024,2048,4096,8192,16384,32768,65536].includes(r))throw Error("File has invalid page size. (the first block of a new file must be written first)");this.setattr({blockSize:r})}let o=t.buffer;if(r<=0||n<0||0===o.byteLength)return 0;r=Math.min(r,o.byteLength-e);let{partialWrites:a,fullWrites:s}=nk(new Uint8Array(o,e,r),this.meta.blockSize,n,n+r).reduce((t,e)=>(e.length!==this.meta.blockSize?t.partialWrites.push(e):t.fullWrites.push({pos:e.pos,data:e.data}),t),{fullWrites:[],partialWrites:[]}),u=[];a.length>0&&(u=this.load(a.map(t=>t.pos)));let l=s.concat(u.map(t=>{let e=a.find(e=>e.pos===t.pos);return new Uint8Array(t.data).set(new Uint8Array(e.data,e.offset,e.length),e.offset,e.length),t}));return this.bufferChunks(l),n+r>this.meta.size&&this.setattr({size:n+r}),r}async readIfFallback(){if(this.ops.readIfFallback){let t=await this.ops.readIfFallback();this.meta=t||{size:0}}}lock(t){return this._recordingLock||(this._recordingLock=!0),!!this.ops.lock(t)&&(t>=nN.RESERVED&&(this.writeLock=!0),!0)}unlock(t){return 0===t&&(this._recordingLock=!1),this.writeLock&&(this.fsync(),this.writeLock=!1),this.ops.unlock(t)}fsync(){if(this.buffer.size>0){let t=this.buffer.get(0);if(t){let e=nD(new Uint8Array(t.data));if(e!==this.meta.blockSize){let t=this.buffer;this.buffer=new Map;let r=[...t.values()],n=r.length*this.meta.blockSize,o=new Uint8Array(new ArrayBuffer(n));for(let t of r)o.set(new Uint8Array(t.data),t.pos);this.bufferChunks(nk(o,e,0,n)),this.setattr({blockSize:e})}}this.ops.writeBlocks([...this.buffer.values()],this.meta.blockSize)}this._metaDirty&&(this.ops.writeMeta({size:this.meta.size}),this._metaDirty=!1),this.buffer=new Map}setattr(t){null==this.meta&&(this.meta={}),void 0!==t.mode&&(this.meta.mode=t.mode),void 0!==t.blockSize&&(this.meta.blockSize=t.blockSize),void 0!==t.size&&(this.meta.size=t.size,this._metaDirty=!0)}getattr(){return this.meta}}let nF=3735928559,nP=0,nB=1;class nU{constructor(t,{initialOffset:e=4,useAtomics:r=!0,stream:n=!0,debug:o,name:a}={}){this.buffer=t,this.atomicView=new Int32Array(t),this.offset=e,this.useAtomics=r,this.stream=n,this.debug=o,this.name=a}log(...t){this.debug&&console.log(`[reader: ${this.name}]`,...t)}waitWrite(t,e=null){if(this.useAtomics){for(this.log(`waiting for ${t}`);Atomics.load(this.atomicView,0)===nP;){if(null!=e&&"timed-out"===Atomics.wait(this.atomicView,0,nP,e))throw Error("timeout");Atomics.wait(this.atomicView,0,nP,500)}this.log(`resumed for ${t}`)}else if(this.atomicView[0]!==nB)throw Error("`waitWrite` expected array to be readable")}flip(){if(this.log("flip"),this.useAtomics){if(Atomics.compareExchange(this.atomicView,0,nB,nP)!==nB)throw Error("Read data out of sync! This is disastrous");Atomics.notify(this.atomicView,0)}else this.atomicView[0]=nP;this.offset=4}done(){this.waitWrite("done");let t=new DataView(this.buffer,this.offset).getUint32(0)===nF;return t&&(this.log("done"),this.flip()),t}peek(t){this.peekOffset=this.offset;let e=t();return this.offset=this.peekOffset,this.peekOffset=null,e}string(t){this.waitWrite("string",t);let e=this._int32(),r=e/2,n=new DataView(this.buffer,this.offset,e),o=[];for(let t=0;t<r;t++)o.push(n.getUint16(2*t));let a=String.fromCharCode.apply(null,o);return this.log("string",a),this.offset+=e,null==this.peekOffset&&this.flip(),a}_int32(){let t=4,e=new DataView(this.buffer,this.offset).getInt32();return this.log("_int32",e),this.offset+=t,e}int32(){this.waitWrite("int32");let t=this._int32();return this.log("int32",t),null==this.peekOffset&&this.flip(),t}bytes(){this.waitWrite("bytes");let t=this._int32(),e=new ArrayBuffer(t);return new Uint8Array(e).set(new Uint8Array(this.buffer,this.offset,t)),this.log("bytes",e),this.offset+=t,null==this.peekOffset&&this.flip(),e}}class nj{constructor(t,{initialOffset:e=4,useAtomics:r=!0,stream:n=!0,debug:o,name:a}={}){this.buffer=t,this.atomicView=new Int32Array(t),this.offset=e,this.useAtomics=r,this.stream=n,this.debug=o,this.name=a,this.useAtomics?Atomics.store(this.atomicView,0,nP):this.atomicView[0]=nP}log(...t){this.debug&&console.log(`[writer: ${this.name}]`,...t)}waitRead(t){if(this.useAtomics){if(this.log(`waiting for ${t}`),Atomics.compareExchange(this.atomicView,0,nP,nB)!==nP)throw Error("Wrote something into unwritable buffer! This is disastrous");for(Atomics.notify(this.atomicView,0);Atomics.load(this.atomicView,0)===nB;)Atomics.wait(this.atomicView,0,nB,500);this.log(`resumed for ${t}`)}else this.atomicView[0]=nB;this.offset=4}finalize(){this.log("finalizing"),new DataView(this.buffer,this.offset).setUint32(0,nF),this.waitRead("finalize")}string(t){this.log("string",t);let e=2*t.length;this._int32(e);let r=new DataView(this.buffer,this.offset,e);for(let e=0;e<t.length;e++)r.setUint16(2*e,t.charCodeAt(e));this.offset+=e,this.waitRead("string")}_int32(t){let e=4;new DataView(this.buffer,this.offset).setInt32(0,t),this.offset+=e}int32(t){this.log("int32",t),this._int32(t),this.waitRead("int32")}bytes(t){this.log("bytes",t);let e=t.byteLength;this._int32(e),new Uint8Array(this.buffer,this.offset).set(new Uint8Array(t)),this.offset+=e,this.waitRead("bytes")}}function nW(t,e){return Math.round(t/e)}function nH(t,e){self.postMessage({type:"__absurd:spawn-idb-worker",argBuffer:e.buffer,resultBuffer:t.buffer}),self.addEventListener("message",r=>{switch(r.data.type){case"__perf-deets:start-profile":e.string("profile-start"),e.finalize(),t.int32(),t.done();break;case"__perf-deets:stop-profile":e.string("profile-stop"),e.finalize(),t.int32(),t.done()}})}class nz{constructor(t){this.filename=t}getStoreName(){return this.filename.replace(/\//g,"-")}invokeWorker(t,e){if(null==this.reader||null==this.writer)throw Error(`Attempted ${t} on ${this.filename} but file not open`);let r=this.reader,n=this.writer;switch(t){case"readBlocks":{let{name:t,positions:o,blockSize:a}=e,s=[];for(let e of o){n.string("readBlock"),n.string(t),n.int32(nW(e,a)),n.finalize();let o=r.bytes();r.done(),s.push({pos:e,data:0===o.byteLength?new ArrayBuffer(a):o})}return s}case"writeBlocks":{let{name:t,writes:o,blockSize:a}=e;for(let e of(n.string("writeBlocks"),n.string(t),o))n.int32(nW(e.pos,a)),n.bytes(e.data);n.finalize();let s=r.int32();return r.done(),s}case"readMeta":{n.string("readMeta"),n.string(e.name),n.finalize();let t=r.int32(),o=r.int32();return r.done(),-1===t?null:{size:t,blockSize:o}}case"writeMeta":{let{name:t,meta:o}=e;n.string("writeMeta"),n.string(t),n.int32(o.size),n.finalize();let a=r.int32();return r.done(),a}case"closeFile":{n.string("closeFile"),n.string(e.name),n.finalize();let t=r.int32();return r.done(),t}case"lockFile":{n.string("lockFile"),n.string(e.name),n.int32(e.lockType),n.finalize();let t=r.int32();return r.done(),0===t}case"unlockFile":{n.string("unlockFile"),n.string(e.name),n.int32(e.lockType),n.finalize();let t=r.int32();return r.done(),0===t}}}lock(t){return this.invokeWorker("lockFile",{name:this.getStoreName(),lockType:t})}unlock(t){return this.invokeWorker("unlockFile",{name:this.getStoreName(),lockType:t})}delete(){(this.reader||this.writer)&&this.close();let t=globalThis.indexedDB.deleteDatabase(this.getStoreName());t.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},t.onsuccess=()=>{}}open(){let t=new SharedArrayBuffer(36864);this.writer=new nj(t,{name:"args (backend)",debug:!1});let e=new SharedArrayBuffer(36864);this.reader=new nU(e,{name:"results",debug:!1}),nH(this.reader,this.writer)}close(){this.invokeWorker("closeFile",{name:this.getStoreName()}),this.reader=null,this.writer=null,this.worker=null}readMeta(){return this.invokeWorker("readMeta",{name:this.getStoreName()})}writeMeta(t){return this.invokeWorker("writeMeta",{name:this.getStoreName(),meta:t})}readBlocks(t,e){return this.stats&&(this.stats.read+=t.length),this.invokeWorker("readBlocks",{name:this.getStoreName(),positions:t,blockSize:e})}writeBlocks(t,e){return this.stats&&(this.stats.writes+=t.length),this.invokeWorker("writeBlocks",{name:this.getStoreName(),writes:t,blockSize:e})}}function nV(){let t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(e=>{let r=()=>indexedDB.databases().finally(e);t=setInterval(r,100),r()}).finally(()=>clearInterval(t)):Promise.resolve()}function n$(t,e){return Math.round(t/e)}async function nq(t){return await nV(),new Promise((e,r)=>{let n=globalThis.indexedDB.open(t,2);n.onsuccess=t=>{let r=t.target.result;r.onversionchange=()=>{console.log("closing because version changed"),r.close()},r.onclose=()=>{},e(r)},n.onupgradeneeded=t=>{let e=t.target.result;e.objectStoreNames.contains("data")||e.createObjectStore("data")},n.onblocked=t=>console.log("blocked",t),n.onerror=n.onabort=t=>r(t.target.error)})}class nG{constructor(t,e){this.dbName=t,this._openDb=null,this.hasAlertedFailure=!1,this.onFallbackFailure=e}async getDb(){return this._openDb||(this._openDb=await nq(this.dbName)),this._openDb}closeDb(){this._openDb&&(this._openDb.close(),this._openDb=null)}async readAll(){let t=await this.getDb(this.dbName),e=new Map,r=t.transaction(["data"],"readonly").objectStore("data");return new Promise((t,n)=>{let o=r.openCursor(IDBKeyRange.lowerBound(-1));o.onerror=n,o.onsuccess=r=>{let n=r.target.result;n?(e.set(n.key,n.value),n.continue()):t(e)}})}async write(t,e,r){let n=(await this.getDb(this.dbName)).transaction(["data"],"readwrite"),o=n.objectStore("data");await new Promise((a,s)=>{let u=o.get(0);u.onsuccess=l=>{if(r&&!nR(u.result,e)){this.onFallbackFailure&&!this.hasAlertedFailure&&(this.hasAlertedFailure=!0,this.onFallbackFailure()),s(Error("Fallback mode unable to write file changes"));return}for(let e of t)o.put(e.value,e.key);n.onsuccess=()=>a(),n.onerror=()=>s()},u.onerror=s})}}class nY{constructor(t,e){this.filename=t,this.dbName=this.filename.replace(/\//g,"-"),this.cachedFirstBlock=null,this.writeQueue=null,this.blocks=new Map,this.lockType=0,this.transferBlockOwnership=!1,this.persistance=new nG(this.dbName,e)}async readIfFallback(){return this.transferBlockOwnership=!0,this.blocks=await this.persistance.readAll(),this.readMeta()}lock(t){return this.cachedFirstBlock=this.blocks.get(0),this.lockType=t,!0}unlock(t){return this.lockType>nN.SHARED&&t===nN.SHARED&&this.flush(),this.lockType=t,!0}delete(){let t=globalThis.indexedDB.deleteDatabase(this.dbName);t.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},t.onsuccess=()=>{}}open(){this.writeQueue=[],this.lockType=0}close(){this.flush(),this.transferBlockOwnership?this.transferBlockOwnership=!1:this.blocks=new Map,this.persistance.closeDb()}readMeta(){let t=this.blocks.get(-1);if(t){let e=this.blocks.get(0);return{size:t.size,blockSize:nD(new Uint8Array(e))}}return null}writeMeta(t){this.blocks.set(-1,t),this.queueWrite(-1,t)}readBlocks(t,e){let r=[];for(let n of t)r.push({pos:n,data:this.blocks.get(n$(n,e))});return r}writeBlocks(t,e){for(let r of t){let t=n$(r.pos,e);this.blocks.set(t,r.data),this.queueWrite(t,r.data)}this.lockType<=nN.SHARED&&this.flush()}queueWrite(t,e){this.writeQueue.push({key:t,value:e})}flush(){this.writeQueue.length>0&&(this.persistance.write(this.writeQueue,this.cachedFirstBlock,this.lockType>nN.SHARED),this.writeQueue=[]),this.cachedFirstBlock=null}}class nK{constructor(t){this.onFallbackFailure=t}createFile(t){let e;"undefined"!=typeof SharedArrayBuffer?e=new nz(t):e=new nY(t,this.onFallbackFailure);let r=new nL(t,e);return({}).PERF_BUILD&&(null==this._files&&(this._files=new Set),this._files.add(r)),r}startProfile(){for(let t of this._files)if(t.ops.writer){let e=t.ops.writer,r=t.ops.reader;e.string("profile-start"),e.finalize(),r.int32(),r.done()}}stopProfile(){for(let t of this._files)if(t.ops.writer){let e=t.ops.writer,r=t.ops.reader;e.string("profile-stop"),e.finalize(),r.int32(),r.done()}}}let nZ=nK;class nJ extends Error{meta;reason;type;constructor(t,e){super("PostError: "+t),this.type="PostError",this.reason=t,this.meta=e}}class nX extends Error{statusCode;responseBody;constructor(t,e){super(`HTTPError: unsuccessful status code (${t}): ${e}`),this.statusCode=t,this.responseBody=e}}class nQ extends Error{meta;reason;constructor(t,e){super("SyncError: "+t),this.reason=t,this.meta=e}}class n0 extends Error{}class n1 extends Error{}class n2 extends Error{type;constructor(t,e){super("RuleError: "+e),this.type=t}}function n6(t,e){return{type:"APIError",message:t,meta:e}}function n4(t,e){return{type:"FileDownloadError",reason:t,meta:e}}function n3(t,e){return{type:"FileUploadError",reason:t,meta:e}}let n8=function(t){console.log("[Exception]",t)},n5=function(){};function n7(t){let e={running:null,queue:[]};function r(){let t=e.queue.shift();void 0!==t?n(t.args,t.resolve,t.reject):e.running=null}function n(n,o,a){e.running=t.apply(null,n).then(t=>{r(),o(t)},t=>{r(),a(t)})}return(...t)=>new Promise(e.running?(r,n)=>{e.queue.push({resolve:r,reject:n,args:t})}:(e,r)=>n(t,e,r))}function n9(t){let e=null;return(...r)=>(e||(e=t.apply(null,r).finally(()=>{e=null})),e)}let it=new Set,ie=null,ir=new WeakMap,ii=!1,io=[];function ia(t){return ir.set(t,!0),t}function is(t){return ir.has(t)}async function iu(){for(await il(200);it.size>0;)await Promise.all([...it.values()]),await il(100)}function il(t){return new Promise(e=>setTimeout(e,t))}async function ic(t,e,{undoTag:r,name:n}={}){if(io.push(n),io.length>5&&(io=io.slice(-5)),ir.has(t))return id(()=>t(e),{undoTag:r});"close-budget"===n&&await iu();let o=t(e);return it.add(o),o.then(()=>{it.delete(o)}),o}let id=n7(function(t,e={}){return ie=e,t().finally(()=>{ie=null})});function ip(t,e){if(null==ie&&!ii)return n5("Recent methods: "+io.join(", ")),n8(Error("withMutatorContext: mutator not running")),e();let r=ie;return ie={...ie,...t},e().finally(()=>{ie=r})}function ih(){return null==ie?(n5({category:"server",message:"Recent methods: "+io.join(", ")}),{}):null==ie&&ii?{}:ie}function iy(){let t="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;if(!t)throw Error("Cannot get global object");return t}function ig(t){return t.type&&"APIError"===t.type?t:{type:"InternalError",message:t.message}}iy().__globalServerChannel=null;let im=function(t,e){let r=t;iy().__globalServerChannel=r,r.addEventListener("message",t=>{let n=t.data,o="string"==typeof n?JSON.parse(n):n;if(o.type&&("init"===o.type||o.type.startsWith("__")))return;let{id:a,name:s,args:u,undoTag:l,catchErrors:c}=o;e[s]?ic(e[s],u,{undoTag:l,name:s}).then(t=>{r.postMessage({type:"reply",id:a,result:c?{data:t,error:null}:t,mutated:is(e[s]),undoTag:l})},t=>{let e=ig(t);s.startsWith("api/")?r.postMessage({type:"reply",id:a,error:e}):c?r.postMessage({type:"reply",id:a,result:{error:e,data:null}}):r.postMessage({type:"error",id:a}),"InternalError"===e.type&&n8(t),c||i_("server-error")}):(console.warn("Unknown method: "+s),r.postMessage({type:"reply",id:a,result:null,error:n6("Unknown method: "+s)}))},!1),r.postMessage({type:"connect"})},i_=function(t,e){let{__globalServerChannel:r}=iy();r&&r.postMessage({type:"push",name:t,args:e})},ib=function(){return 1};var iw=__webpack_require__(9298),iE=__webpack_require__.n(iw);function iv(t){return t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"")}function iS(t){return t?iv(t):null}let iT=new(nT())({max:500});function iO(t,e){if(!t)return 0;e||(e="");let r=iT.get(t);return r||(r=RegExp(t.replace(/[.*+^${}()|[\]\\]/g,"\\$&").replaceAll("?",".").replaceAll("%",".*"),"i"),iT.set(t,r)),r.test(e)?1:0}let iA=null;async function iI(){return new Promise((t,e)=>{iE()({locateFile:t=>"/"+t}).then(e=>{iA=e,t(void 0)},t=>{e(t)})})}function iN(){if(null==iA)throw Error("_getModule: sql.js must be initialized first");return iA}function iD(t,e=[]){e.forEach(e=>{if("string"!=typeof e&&"number"!=typeof e&&null!==e)throw Error("Invalid field type "+e+" for sql "+t)})}function iR(t,e){return t.prepare(e)}function iC(t,e,r=[],n=!1){r&&iD(e,r);let o="string"==typeof e?t.prepare(e):e;if(n)try{o.bind(r);let t=[];for(;o.step();)t.push(o.getAsObject());return"string"==typeof e?o.free():o.reset(),t}catch(t){throw console.log(e),t}else try{return o.run(r),{changes:t.getRowsModified()}}catch(t){throw t}}function iM(t,e){t.exec(e)}let ix=0;function ik(t,e){let r,n,o;ix>0?(r="SAVEPOINT __actual_sp",n="RELEASE __actual_sp",o="ROLLBACK TO __actual_sp"):(r="BEGIN",n="COMMIT",o="ROLLBACK"),iM(t,r),ix++;try{e(),iM(t,n)}catch(e){throw iM(t,o),"ROLLBACK"!==o&&iM(t,n),e}finally{ix--}}async function iL(t,e){0===ix&&t.exec("BEGIN TRANSACTION"),ix++;try{await e()}finally{0==--ix&&t.exec("COMMIT")}}function iF(t,e){return new RegExp(t).test(e)?1:0}async function iP(t){let e=null;if(t){if("string"!=typeof t)e=new iA.Database(t);else{let r=t;if(":memory:"!==r){if("undefined"==typeof SharedArrayBuffer){let t=iA.FS.open(iA.FS.readlink(r),"a+");await t.node.contents.readIfFallback(),iA.FS.close(t)}(e=new iA.Database(r.includes("/blocked")?r:iA.FS.readlink(r),{filename:!0})).exec(`
          PRAGMA journal_mode=MEMORY;
          PRAGMA cache_size=-10000;
        `)}}}return null===e&&(e=new iA.Database),e.create_function("UNICODE_LOWER",t=>t?.toLowerCase()),e.create_function("UNICODE_UPPER",t=>t?.toUpperCase()),e.create_function("UNICODE_LIKE",iO),e.create_function("REGEXP",iF),e.create_function("NORMALISE",iS),e}function iB(t){t.close()}async function iU(t){return t.export()}function ij(t,e){let r,n="",o=0,a=-1,s=0;for(let u=0;u<=t.length;++u){if(u<t.length)r=t.charCodeAt(u);else if(47===r)break;else r=47;if(47===r){if(a===u-1||1===s);else if(a!==u-1&&2===s){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){let t=n.lastIndexOf("/");if(t!==n.length-1){-1===t?(n="",o=0):o=(n=n.slice(0,t)).length-1-n.lastIndexOf("/"),a=u,s=0;continue}}else if(2===n.length||1===n.length){n="",o=0,a=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),o=u-a-1;a=u,s=0}else 46===r&&-1!==s?++s:s=-1}return n}function iW(t){if(0===t.length)return".";let e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return(0!==(t=ij(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e)?"/"+t:t}let iH=(...t)=>{let e;if(0===t.length)return".";for(let r=0;r<t.length;++r){let n=t[r];n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":iW(e)},iz=t=>e=t,iV=()=>{if(!e)throw Error("Document directory is not set");return e},i$=t=>{if(!t)throw Error("getDocumentDir: id is falsy: "+t);if(t.match(/[^A-Za-z0-9\-_]/))throw Error(`Invalid budget id ${t}. Check the id of your budget in the Advanced section of the settings page.`);return iH(iV(),t)},iq=null,iG=null,iY=!1,iK="/default-db.sqlite",iZ="/migrations",iJ=()=>"/",iX=function(t){return t.replace(/^\//,"").replace(/\//g,"-")};function iQ(t){try{return iq.readlink(t),!0}catch(t){}try{return iq.stat(t),!0}catch(t){}return!1}function i0(t){let e=t.split("/").filter(t=>""!==t),r="";for(let t of e)iQ(r+="/"+t)||iq.mkdir(r)}function i1(t){return!iY&&t.startsWith("/documents")&&(t.endsWith(".sqlite")?iQ(t)||iq.symlink("/blocked/"+iX(t),t):iq.writeFile(t,"!$@) this should never read !$@)")),t}async function i2(t,e){if(!(!iY&&t.startsWith("/documents"))||t.endsWith(".sqlite"))return iq.readFile(i6(t),e);{if(!iQ(t))throw Error("File does not exist: "+t);let{store:r}=t0(await t4(),"files"),n=await t1(r,t);if(null==n)throw Error("File does not exist: "+t);return"utf8"===e.encoding&&ArrayBuffer.isView(n.contents)?String.fromCharCode.apply(null,new Uint16Array(n.contents.buffer)):n.contents}}function i6(t){try{let{node:e}=iq.lookupPath(t,{follow:!1});return e.link?iq.readlink(t):t}catch(e){return t}}async function i4(t,e){if(e instanceof ArrayBuffer?e=new Uint8Array(e):ArrayBuffer.isView(e)&&(e=new Uint8Array(e.buffer)),i1(t),!iY&&t.startsWith("/documents")){let r=t.endsWith(".sqlite"),{store:n}=t0(await t4(),"files");r?(await t2(n,{filepath:t,contents:""}),await Promise.resolve(),iq.writeFile(i6(t),e)):await t2(n,{filepath:t,contents:e})}else iq.writeFile(i6(t),e)}async function i3(t){if(!iY&&t.startsWith("/documents")){let e=t.endsWith(".sqlite"),{store:r}=t0(await t4(),"files");if(await t6(r,t),e){let e=i6(t);iQ(e)&&iq.unlink(e)}}iq.unlink(t)}async function i8(){let t=(await (await fetch("/data-file-index.txt")).text()).split("\n").map(t=>t.trim()).filter(t=>""!==t),e=t=>fetch(t).then(t=>t.arrayBuffer());await or("/migrations"),await or("/demo-budget"),await Promise.all(t.map(async t=>{let r=await e("/data/"+t);i4("/"+t,r)}))}let i5=async function(){let{store:t}=t0(await t4(),"files"),e=t.getAllKeys();for(let t of(await new Promise((t,r)=>{e.onsuccess=e=>t(e.target.result),e.onerror=t=>r(t)})))i0(i9(t)),i1(t)},i7=async function(){let t=iN();(iq=t.FS).mkdir("/uploads"),iq.mkdir("/documents"),iq.mkdir("/blocked");{let e=new nZ(()=>{i_("fallback-write-error")});iG=new nI(iq,e),t.register_for_idb(iG),iq.mount(iG,{},"/blocked"),await i8()}await i5()},i9=function(t){return t.split("/").slice(0,-1).join("/")},ot=async function(t){return iq.readdir(t).filter(t=>"."!==t&&".."!==t)},oe=async function(t){return iQ(t)},or=async function(t){iq.mkdir(t)},on=async function(t){return iq.stat(i6(t)).size},oi=async function(t,e){return i4(e,await i2(t))},oo=async function(t,e="utf8"){return i2(t,{encoding:e})},oa=async function(t,e){return i4(t,e)},os=async function(t){return i3(t)},ou=async function(t){iq.rmdir(t)},ol=async function(t){if(await oe(t)){for(let e of(await ot(t))){let r=iH(t,e),n=iq.stat(r,!0);iq.isDir(n.mode)?await ol(r):await os(r)}await ou(t)}},oc=async function(){throw Error("getModifiedTime not supported on the web (only used for backups)")};function of(t,e,r,n){r.forEach(r=>{if(n){if(e.hasOwnProperty(r)&&null==e[r])throw new n0(`${t} is missing field ${String(r)}`)}else if(!e.hasOwnProperty(r)||null==e[r])throw new n0(`${t} is missing field ${String(r)}`)})}function od(t){if("string"!=typeof t)throw Error("toDateRepr not passed a string: "+t);return parseInt(t.replace(/-/g,""))}function op(t){if("number"!=typeof t)throw Error("fromDateRepr not passed a number: "+t);let e=t.toString();return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6)}let oh={validate:(t,{update:e}={})=>(of("account",t,e?["name","offbudget","closed"]:["name"],e),t)},oy={validate(t,{update:e}={}){of("category",t,e?["name","is_income","cat_group"]:["name","cat_group"],e);let{sort_order:r,...n}=t;return{...n,hidden:n.hidden?1:0}}},og={validate(t,{update:e}={}){of("categoryGroup",t,e?["name","is_income"]:["name"],e);let{sort_order:r,...n}=t;return{...n,hidden:n.hidden?1:0}}},om={validate:(t,{update:e}={})=>(of("payee",t,["name"],e),t)};function o_(t,e){return e.required||"id"===t}function ob(t,e){if(void 0===t)throw Error("Query value cannot be undefined");if(null===t)return"boolean"===e?0:null;switch(e){case"date":if(t instanceof Date)return od(rM(t));if(null==t.match(/^\d{4}-\d{2}-\d{2}$/)||t.date<"2000-01-01")throw Error("Invalid date: "+t);return od(t);case"date-month":return od(t.slice(0,7));case"date-year":return od(t.slice(0,4));case"boolean":return t?1:0;case"id":if("string"!=typeof t&&null!==t)throw Error("Invalid id, must be string: "+t);break;case"integer":if("number"==typeof t&&Number.isInteger(t))break;throw Error("Cant convert to integer: "+JSON.stringify(t));case"json":return JSON.stringify(t)}return t}function ow(t,e){if(null===t)return"boolean"!==e&&null;switch(e){case"date":return op(t);case"date-month":return op(t).slice(0,7);case"date-year":return op(t).slice(0,4);case"boolean":return 1===t;case"json":case"json/fallback":try{return JSON.parse(t)}catch(r){return"json/fallback"===e?t:null}}return t}function oE(t,e,r,n,{skipNull:o=!1}={}){let a=t[r];if(null==a)throw Error(`Table ${r} does not exist`);let s=e.views||{},u=t=>s[r]&&s[r].fields&&s[r].fields[t]||t;return Object.fromEntries(Object.keys(n).map(t=>{if("_"===t[0])return null;let e=a[t];if(null==e)throw Error(`Field ${t} does not exist on table ${r}: ${JSON.stringify(n)}`);if(o_(t,e)&&null==n[t])throw Error(`${t} is required for table ${r}: ${JSON.stringify(n)}`);return o&&null==n[t]?null:[u(t),ob(n[t],e.type)]}).filter(Boolean))}function ov(t,e,r,n){let o={...n},a=t[r];if(null==a)throw Error(`Error inserting: table ${r} does not exist`);return Object.keys(a).forEach(t=>{let e=a[t];if(null==o[t]){if(void 0!==e.default)o[t]="function"==typeof e.default?e.default():e.default;else if(o_(t,e))throw Error(`${t} is required for table ${r}: ${JSON.stringify(o)}`)}}),oE(t,e,r,o,{skipNull:!0})}function oS(t,e,r,n){let o={...n};if(null==t[r])throw Error(`Error updating: table ${r} does not exist`);return oE(t,e,r,o)}function oT(t,e,r,n){let o=t[r];if(null==o)throw Error(`Table ${r} does not exist`);let a=Object.keys(o),s={};for(let t=0;t<a.length;t++){let e=a[t],r=o[e];s[e]=ow(n[e],r.type)}return s}let oO=0;function oA(){oO=0}function oI(t){return t+ ++oO}class oN extends Error{}function oD(t){let e=t=>(t<10?"0":"")+t;return t.getFullYear()+e(t.getMonth()+1)+e(t.getDate())}function oR(t){return parseInt(t.replace(/-/g,""))}function oC(t,e,r,n){return null!=t[e].tombstone?`${n} AND ${r}.tombstone = 0`:n}function oM(t){let e=t.split(".");return{path:e.slice(0,-1).join("."),field:e[e.length-1]}}function ox(t){return"group"===t}function ok(t){return -1!==t.indexOf(".")||ox(t)?`"${t}"`:t}function oL(t,e,{literal:r=!1}={}){return{value:t,type:e,literal:r}}function oF(t,e,r){if(null==t[e])throw new oN(`Table ${e} does not exist in the schema`);let n=t[e][r];if(null==n)throw new oN(`Field ${r} does not exist in table ${e}`);return n}function oP(t,e){let r;let{schema:n,paths:o}=t,a=e.split(".");if(a.length<2)throw new oN("Invalid path: "+e);let s=a[0],u=a.slice(1).reduce((t,e)=>{let r=n[t];if(null==r)throw new oN(`Path error: ${t} table does not exist`);if(!r[e]||null==r[e].ref)throw new oN(`Field not joinable on table ${t}: ${e}`);return r[e].ref},s),l=a.slice(0,-1);if(1===l.length)r=l[0];else{let t=l.join("."),e=o.get(t);if(!e)throw new oN("Path does not exist: "+t);r=e.tableId}return{tableName:u,tableId:oI(u),joinField:a[a.length-1],joinTable:r}}function oB(t,e){let r=e.split(".");return(r=r.reduce((t,e)=>{let r=t.context+"."+e;return{context:r,path:[...t.path,r]}},{context:t.implicitTableName,path:[]}).path).forEach(e=>{t.paths.get(e)||t.paths.set(e,oP(t,e))}),t.paths.get(r[r.length-1])}function oU(t,e){let r;if("string"!=typeof e)throw new oN("Invalid field name, must be a string");let{path:n,field:o}=oM(e),a=o;r=""===n?{tableName:t.implicitTableName,tableId:t.implicitTableId}:oB(t,n);let s=oF(t.schema,r.tableName,a);if(t.validateRefs&&s.ref&&"id"===s.type&&"id"!==a){let n=t.implicitTableName+"."+e,o=t.paths.get(n);o||((o=oP(t,n)).noMapping=!0,t.paths.set(n,o)),a="id",r=o}return oL(r.tableId+"."+a,s.type)}function oj(t){let e=t.match(/^(\d{4}-\d{2}-\d{2})$/);return e?oL(oR(e[1]),"date",{literal:!0}):null}function oW(t){let e=t.match(/^(\d{4}-\d{2})$/);return e?oL(oR(e[1]),"date",{literal:!0}):null}function oH(t){let e=t.match(/^(\d{4})$/);return e?oL(oR(e[1]),"date",{literal:!0}):null}function oz(t,e){throw new oN(`Bad ${e} format: ${t}`)}function oV(t,e){let r=t.paramType;if(r){let n={date:["string"],"date-month":["date"],"date-year":["date","date-month"],id:["string"],float:["integer"]};if(r!==e&&(!n[e]||!n[e].includes(r)))throw Error(`Parameter ${t.paramName} cant convert to ${e} (already inferred as ${r})`)}else t.paramType=e}function o$(t,e,r){if(e.type===r)return e;if("param"===e.type)return oV(e,r),oL(e.value,r);if("null"===e.type){if(!e.literal)throw new oN("A non-literal null doesnt make sense");return"boolean"===r?oL(0,"boolean",{literal:!0}):e}if("date"===r){if("string"===e.type){if(e.literal)return oj(e.value)||oz(e.value,"date");throw new oN("Casting string fields to dates is not supported")}throw new oN(`Cant cast ${e.type} to date`)}if("date-month"===r){let t;if("date"===e.type)t=e;else if("string"===e.type||"any"===e.type)t=oW(e.value)||oj(e.value)||oz(e.value,"date-month");else throw new oN(`Cant cast ${e.type} to date-month`);return t.literal?oL(oR(t.value.toString().slice(0,6)),"date-month",{literal:!0}):oL(`CAST(SUBSTR(${t.value}, 1, 6) AS integer)`,"date-month")}if("date-year"===r){let t;if("date"===e.type||"date-month"===e.type)t=e;else if("string"===e.type)t=oH(e.value)||oW(e.value)||oj(e.value)||oz(e.value,"date-year");else throw new oN(`Cant cast ${e.type} to date-year`);return t.literal?oL(oR(t.value.toString().slice(0,4)),"date-year",{literal:!0}):oL(`CAST(SUBSTR(${t.value}, 1, 4) AS integer)`,"date-year")}if("id"===r){if("string"===e.type)return oL(e.value,"id",{literal:e.literal})}else if("float"===r&&"integer"===e.type)return oL(e.value,"float",{literal:e.literal});if("any"===e.type)return oL(e.value,r,{literal:e.literal});throw new oN(`Cant convert ${e.type} to ${r}`)}function oq(t,e,r){let n=e;if(r&&(n=o$(t,e,r)),n.literal){if("id"===n.type)return`'${n.value}'`;if("string"===n.type){let t=n.value.replace(/'/g,"''");return`'${t}'`}}return n.value}function oG(t,e,r){return e.map((e,n)=>oq(t,e,r?r[n]:null))}function oY(t,e,r){if(null==r&&(r=e),null!=e&&t.length<e)throw new oN("Too few arguments");if(null!=r&&t.length>r)throw new oN("Too many arguments")}function oK(t,e){return(r,...n)=>{if(null==r||null==r.compileStack)throw new oN("This function cannot track error data. It needs to accept the compiler state as the first argument.");r.compileStack.push({type:t,args:n});let o=e(r,...n);return r.compileStack.pop(),o}}function oZ(t){if("string"==typeof t)return t;if(void 0===t)return"undefined";let e=JSON.stringify(t);return e.length>70?JSON.stringify(t,null,2).split("\n").join("\n  "):e}function oJ(t,e){if(0===e.length)return t;let r=e.slice(1).reverse().map(t=>{switch(t.type){case"expr":case"function":return oZ(t.args[0]);case"op":{let[e,r]=t.args;return oZ({[e]:r})}case"value":return oZ(t.value);default:return""}}).map(t=>"\n  "+t).join(""),n=e[0].type,o=e[0].args[0];r+=`
  ${n}(${oZ(1===o.length?o[0]:o)})`;{let e=new oN;return e.message=`${t.message}

Expression stack:`+r,e.stack=null,e}}function oX(t){if(void 0===t)throw new oN("`undefined` is not a valid query value");if(null===t)return oL("NULL","null",{literal:!0});if(t instanceof Date)return oL(oD(t),"date",{literal:!0});if("string"==typeof t)return oL(t=t.replace(/\\\$/g,"$"),"string",{literal:!0});if("boolean"==typeof t)return oL(t?1:0,"boolean",{literal:!0});if("number"==typeof t)return oL(t,Number.isInteger(t)?"integer":"float",{literal:!0});if(Array.isArray(t))return oL(t,"array",{literal:!0});else throw new oN("Unsupported type of expression: "+JSON.stringify(t))}let oQ=oK("expr",(t,e)=>{if("string"==typeof e){if("$"===e[0]){let r="$"===e?t.implicitField:e.slice(1);if(null==r||""===r)throw new oN("Invalid field reference: "+e);return oU(t,r)}if(":"===e[0]){let r={value:"?",type:"param",paramName:e.slice(1)};return t.namedParameters.push(r),r}}if(null!==e){if(Array.isArray(e));else if("object"==typeof e&&Object.keys(e).find(t=>"$"===t[0]))return o0(t,e)}return oX(e)}),o0=oK("function",(t,e)=>{let[r]=Object.keys(e),n=e[r];if(Array.isArray(n)||(n=[n]),"$"!==r[0])throw new oN(`Unknown property ${r}. Did you mean to call a function? Try prefixing it with $`);let o=n;switch("$condition"!==r&&(o=n.map(e=>oQ(t,e))),r){case"$sum":{oY(o,1);let[e]=oG(t,o,["float"]);return oL(`SUM(${e})`,o[0].type)}case"$sumOver":{let[e]=oG(t,o,["float"]),r=t.orders?"ORDER BY "+at(t,t.orders):"";return oL(`(SUM(${e}) OVER (${r} ROWS BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING))`,o[0].type)}case"$count":{oY(o,1);let[e]=oG(t,o);return oL(`COUNT(${e})`,"integer")}case"$substr":{oY(o,2,3);let[e,r,n]=oG(t,o,["string","integer","integer"]);return oL(`SUBSTR(${e}, ${r}, ${n})`,"string")}case"$lower":{oY(o,1);let[e]=oG(t,o,["string"]);return oL(`UNICODE_LOWER(${e})`,"string")}case"$neg":return oY(o,1),oG(t,o,["float"]),oL(`(-${oq(t,o[0])})`,o[0].type);case"$abs":return oY(o,1),oG(t,o,["float"]),oL(`ABS(${oq(t,o[0])})`,o[0].type);case"$idiv":return oY(o,2),oG(t,o,["integer","integer"]),oL(`(${oq(t,o[0])} / ${oq(t,o[1])})`,o[0].type);case"$id":return oY(o,1),oL(oq(t,o[0]),o[0].type);case"$day":return oY(o,1),o$(t,o[0],"date");case"$month":return oY(o,1),o$(t,o[0],"date-month");case"$year":return oY(o,1),o$(t,o[0],"date-year");case"$condition":return oY(o,1),oL(o2(t,o[0]).join(" AND "),"boolean");case"$nocase":oY(o,1);let[a]=oG(t,o,["string"]);return oL(`${a} COLLATE NOCASE`,o[0].type);case"$literal":if(oY(o,1),!o[0].literal)throw new oN("Literal not passed to $literal");return o[0];default:throw new oN(`Unknown function: ${r}`)}}),o1=oK("op",(t,e,r)=>{let n;let{$transform:o,...a}=r,[s]=Object.keys(a),u=oQ(t,r[s]);switch(n=o?o0({...t,implicitField:e},"string"==typeof o?{[o]:"$"}:o):oQ(t,"$"+e),s){case"$gte":{let[e,r]=oG(t,[n,u],[null,n.type]);return`${e} >= ${r}`}case"$lte":{let[e,r]=oG(t,[n,u],[null,n.type]);return`${e} <= ${r}`}case"$gt":{let[e,r]=oG(t,[n,u],[null,n.type]);return`${e} > ${r}`}case"$lt":{let[e,r]=oG(t,[n,u],[null,n.type]);return`${e} < ${r}`}case"$eq":{if("null"===o$(t,u,n.type).type)return`${oq(t,n)} IS NULL`;let[e,r]=oG(t,[n,u],[null,n.type]);if("param"===u.type){let o=t.namedParameters.map(t=>t===u||t===n?[t,{...t}]:t);return t.namedParameters=[].concat.apply([],o),`CASE
          WHEN ${e} IS NULL THEN ${r} IS NULL
          ELSE ${e} = ${r}
        END`}return`${e} = ${r}`}case"$ne":{if("null"===o$(t,u,n.type).type)return`${oq(t,n)} IS NULL`;let[e,r]=oG(t,[n,u],[null,n.type]);if("param"===u.type){let o=t.namedParameters.map(t=>t===u||t===n?[t,{...t}]:t);return t.namedParameters=[].concat.apply([],o),`CASE
          WHEN ${e} IS NULL THEN ${r} IS NULL
          ELSE ${e} != ${r}
        END`}return`${e} != ${r}`}case"$oneof":{let[e,r]=oG(t,[n,u],[null,"array"]);return`${e} IN (`+[...new Set(r)].map(t=>`'${t}'`).join(",")+")"}case"$like":{let[e,r]=oG(t,[n,u],["string","string"]);return`UNICODE_LIKE(${iv(r)}, NORMALISE(${e}))`}case"$regexp":{let[e,r]=oG(t,[n,u],["string","string"]);return`REGEXP(${r}, ${e})`}case"$notlike":{let[e,r]=oG(t,[n,u],["string","string"]);return`(NOT UNICODE_LIKE(${iv(r)}, NORMALISE(${e}))
 OR ${e} IS NULL)`}default:throw new oN(`Unknown operator: ${s}`)}});function o2(t,e){return Array.isArray(e)||(e=Object.entries(e).map(t=>({[t[0]]:t[1]}))),e.filter(Boolean).reduce((e,r)=>[...e,...Object.entries(r).map(([e,r])=>"$and"===e?r?o4(t,r):null:"$or"===e?r?o6(t,r):null:"string"==typeof r||"number"==typeof r||"boolean"==typeof r||r instanceof Date||null==r?o1(t,e,{$eq:r}):Array.isArray(r)?r.map(r=>o1(t,e,r)).join(" AND "):o1(t,e,r)).filter(Boolean)],[])}function o6(t,e){if(!e)return"0";let r=o2(t,e);return 0===r.length?"0":"("+r.join("\n  OR ")+")"}function o4(t,e){if(!e)return"1";let r=o2(t,e);return 0===r.length?"1":"("+r.join("\n  AND ")+")"}let o3=oK("filter",(t,e)=>o4(t,e));function o8(t,e,r){let n=[];return t.paths.forEach((o,a)=>{let{tableName:s,tableId:u,joinField:l,joinTable:c,noMapping:f}=t.paths.get(a),d=`${u}.id = ${e(c)}.${ok(l)}`,p=r(s);p.length>0&&(d+=" AND "+o4({...t,implicitTableName:s,implicitTableId:u},p)),n.push(`LEFT JOIN ${f?s:e(s,!0)} ${u} ON ${oC(t.schema,s,u,d)}`),-1===t.dependencies.indexOf(s)&&t.dependencies.push(s)}),n.join("\n")}function o5(t,e){let r,n;if("*"===e)n={tableName:t.implicitTableName,tableId:t.implicitTableId};else if(e.match(/\.\*$/)){let o=oM(e);r=o.path,n=oB(t,o.path)}let o=t.schema[n.tableName];if(null==o)throw Error(`Table ${n.tableName} does not exist`);return Object.keys(o).map(t=>r?`${r}.${t}`:t)}let o7=oK("select",(t,e,r,n)=>(r||e.includes("id")||e.includes("*")||(e=e.concat(["id"])),e.map(e=>{if("string"==typeof e){if(-1!==e.indexOf("*"))return o5(t,e).map(e=>{let r=oQ(t,"$"+e);return t.outputTypes.set(e,r.type),r.value+" AS "+ok(e)}).join(", ");let r=oQ(t,"$"+e);return t.outputTypes.set(e,r.type),r.value+" AS "+ok(e)}let[r,o]=Object.entries(e)[0];if("$"===r[0])throw t.compileStack.push({type:"value",value:e}),new oN(`Invalid field ${r}, are you trying to select a function? You need to name the expression`);if("string"==typeof o){let e=oQ(t,"$"+o);return t.outputTypes.set(r,e.type),`${e.value} AS ${ok(r)}`}let a=o0({...t,orders:n},o);return t.outputTypes.set(r,a.type),a.value+` AS ${ok(r)}`}).join(", "))),o9=oK("groupBy",(t,e)=>e.map(e=>"string"==typeof e?oQ(t,"$"+e).value:o0(t,e).value).join(", ")),at=oK("orderBy",(t,e)=>e.map(e=>{let r;let n=null;if("string"==typeof e)r=oQ(t,"$"+e).value;else{let o=Object.entries(e),a=o[0];if(1===o.length&&"$"!==a[0][0])n=a[1],r=oQ(t,"$"+a[0]).value;else{let{$dir:o,...a}=e;n=o,r=o0(t,a).value}}if(null!=n){if("desc"!==n&&"asc"!==n)throw new oN("Invalid order direction: "+n);return`${r} ${n}`}return r}).join(", ")),ae=["$sum","$count"];function ar(t){if("object"!=typeof t||Array.isArray(t))return!1;let[e,r]=Object.entries(t)[0],n=r;return Array.isArray(n)||(n=[n]),-1!==ae.indexOf(e)||!!n.find(t=>ar(t))}function an(t){return t.groupExpressions.length>0||!!t.selectExpressions.find(t=>{if("string"!=typeof t){let[e,r]=Object.entries(t)[0];return ar(r)}return!1})}function ai(t,e,r={}){let{withDead:n,validateRefs:o=!0,tableOptions:a,rawMode:s}=t,{tableViews:u={},tableFilters:l=()=>[],customizeQuery:c=t=>t}=r,f=t=>{let e=l(t);for(let t of e){if(Array.isArray(t))throw new oN("Invalid internal table filter: only object filters are supported");if(-1!==Object.keys(t)[0].indexOf("."))throw new oN("Invalid internal table filter: field names cannot contain paths")}return e},d=(t,e)=>("function"==typeof u?u(t,{withDead:n,isJoin:e,tableOptions:a}):u[t])||t,p=t.table,{filterExpressions:h,selectExpressions:y,groupExpressions:g,orderExpressions:m,limit:_,offset:b}=c(t),w="",E="",v="",S="",T="",O={schema:e,implicitTableName:p,implicitTableId:d(p),paths:new Map,dependencies:[p],compileStack:[],outputTypes:new Map,validateRefs:o,namedParameters:[]};oA();try{if(w=o7(O,y,an(t),m),h.length>0){let t=o3(O,h);E="WHERE "+t}else E="WHERE 1";if(!s){let t=f(p);t.length>0&&(E+=" AND "+o4(O,t))}if(g.length>0){let t=o9(O,g);S="GROUP BY "+t}if(m.length>0){let t=at(O,m);T="ORDER BY "+t}O.paths.size>0&&(v=o8(O,d,f))}catch(t){if(t instanceof oN)throw oJ(t,O.compileStack);throw t}return{sqlPieces:{select:w,from:d(p),joins:v,where:E,groupBy:S,orderBy:T,limit:_,offset:b},state:O}}function ao(t,e,r){let n=r,o=t.withDead?n.where:oC(e.schema,e.implicitTableName,e.implicitTableId,n.where);return`
    SELECT ${n.select} FROM ${n.from}
    ${n.joins}
    ${o}
    ${n.groupBy}
    ${n.orderBy}
    ${null!=n.limit?`LIMIT ${n.limit}`:""}
    ${null!=n.offset?`OFFSET ${n.offset}`:""}
  `}function aa(t){return Object.keys(t).map(e=>{let r=t[e],n=r!==e;return r.match(/[ .]/)||(r=`_.${r}`),n?`${r} AS ${ok(e)}`:`${r}`}).join(", ")}function as(t,e){let r=e.views,n=[];return Object.keys(r).forEach(e=>{let{fields:o={},...a}=r[e],s=Object.fromEntries(Object.keys(t[e]).map(t=>[t,t])),u={...s,...o};Object.keys(a).forEach(t=>{let e;let r=t=>aa({...s,...t}),o=t=>aa({...u,...t});e=(e="function"==typeof a[t]?a[t](o,r):a[t]).trim().replace(/;$/,""),n.push(`
        DROP VIEW IF EXISTS ${t};
        CREATE VIEW ${t} AS ${e};
      `)})}),n.join("\n")}function au(t,e){return{type:t,...e}}let al={transactions:{id:au("id"),is_parent:au("boolean"),is_child:au("boolean"),parent_id:au("id"),account:au("id",{ref:"accounts",required:!0}),category:au("id",{ref:"categories"}),amount:au("integer",{default:0,required:!0}),payee:au("id",{ref:"payees"}),notes:au("string"),date:au("date",{required:!0}),imported_id:au("string"),error:au("json"),imported_payee:au("string"),starting_balance_flag:au("boolean"),transfer_id:au("id"),sort_order:au("float",{default:()=>Date.now()}),cleared:au("boolean",{default:!0}),reconciled:au("boolean",{default:!1}),tombstone:au("boolean"),schedule:au("id",{ref:"schedules"})},payees:{id:au("id"),name:au("string",{required:!0}),transfer_acct:au("id",{ref:"accounts"}),tombstone:au("boolean"),favorite:au("boolean")},accounts:{id:au("id"),name:au("string",{required:!0}),offbudget:au("boolean"),closed:au("boolean"),sort_order:au("float"),tombstone:au("boolean"),account_id:au("string"),official_name:au("string"),account_sync_source:au("string")},categories:{id:au("id"),name:au("string"),is_income:au("boolean"),hidden:au("boolean"),group:au("id",{ref:"category_groups"}),sort_order:au("float"),tombstone:au("boolean")},category_groups:{id:au("id"),name:au("string"),is_income:au("boolean"),hidden:au("boolean"),sort_order:au("float"),tombstone:au("boolean")},schedules:{id:au("id"),name:au("string"),rule:au("id",{ref:"rules",required:!0}),next_date:au("date"),completed:au("boolean"),posts_transaction:au("boolean"),tombstone:au("boolean"),_payee:au("id",{ref:"payees"}),_account:au("id",{ref:"accounts"}),_amount:au("json/fallback"),_amountOp:au("string"),_date:au("json/fallback"),_conditions:au("json"),_actions:au("json")},rules:{id:au("id"),stage:au("string"),conditions_op:au("string"),conditions:au("json"),actions:au("json"),tombstone:au("boolean")},notes:{id:au("id"),note:au("string")},transaction_filters:{id:au("id"),name:au("string"),conditions_op:au("string"),conditions:au("json"),tombstone:au("boolean")},custom_reports:{id:au("id"),name:au("string"),start_date:au("string",{default:"2023-06"}),end_date:au("string",{default:"2023-09"}),date_static:au("integer",{default:0}),date_range:au("string"),mode:au("string",{default:"total"}),group_by:au("string",{default:"Category"}),balance_type:au("string",{default:"Expense"}),show_empty:au("integer",{default:0}),show_offbudget:au("integer",{default:0}),show_hidden:au("integer",{default:0}),show_uncategorized:au("integer",{default:0}),include_current:au("integer",{default:0}),graph_type:au("string",{default:"BarGraph"}),conditions:au("json"),conditions_op:au("string"),metadata:au("json"),interval:au("string",{default:"Monthly"}),color_scheme:au("json"),tombstone:au("boolean")},reflect_budgets:{id:au("id"),month:au("integer"),category:au("string"),amount:au("integer"),carryover:au("integer"),goal:au("integer"),long_goal:au("integer")},zero_budgets:{id:au("id"),month:au("integer"),category:au("string"),amount:au("integer"),carryover:au("integer"),goal:au("integer"),long_goal:au("integer")},dashboard:{id:au("id"),type:au("string",{required:!0}),width:au("integer",{required:!0}),height:au("integer",{required:!0}),x:au("integer",{required:!0}),y:au("integer",{required:!0}),meta:au("json"),tombstone:au("boolean")}},ac={tableViews(t,{isJoin:e,withDead:r,tableOptions:n={splits:void 0}}){switch(t){case"transactions":{if(e)return"v_transactions_internal_alive";let t=n.splits||"inline";if(!r&&("inline"===t||"none"===t))return"v_transactions_internal_alive";return"v_transactions_internal"}case"schedules":return"v_schedules";case"categories":return"v_categories";case"payees":return"v_payees"}return t},customizeQuery(t){let{table:e}=t;function r(t){if(t.length>0)return t.concat(["id"]);switch(e){case"transactions":return[{date:"desc"},"starting_balance_flag",{sort_order:"desc"},"id"];case"payees":return[{$condition:{transfer_acct:null},$dir:"desc"},{$nocase:"$name"}];case"accounts":return["sort_order","name"];case"schedules":return[{$condition:{completed:!0}},"next_date"]}return[]}return{...t,orderExpressions:r(t.orderExpressions)}},views:{payees:{v_payees:t=>{let e=t({name:"COALESCE(__accounts.name, _.name)"});return`
          SELECT ${e} FROM payees _
          LEFT JOIN accounts __accounts ON (_.transfer_acct = __accounts.id AND __accounts.tombstone = 0)
          -- We never want to show transfer payees that are pointing to deleted accounts.
          -- Either this is not a transfer payee, if the account exists
          WHERE _.transfer_acct IS NULL OR __accounts.id IS NOT NULL
        `}},categories:{fields:{group:"cat_group"},v_categories:t=>{let e=t({group:"cat_group"});return`SELECT ${e} FROM categories _`}},schedules:{v_schedules:t=>{let e=t({next_date:`
            CASE
              WHEN _nd.local_next_date_ts = _nd.base_next_date_ts THEN _nd.local_next_date
              ELSE _nd.base_next_date
            END
          `,_payee:"pm.targetId",_account:"json_extract(_rules.conditions, _paths.account || '.value')",_amount:"json_extract(_rules.conditions, _paths.amount || '.value')",_amountOp:"json_extract(_rules.conditions, _paths.amount || '.op')",_date:"json_extract(_rules.conditions, _paths.date || '.value')",_conditions:"_rules.conditions",_actions:"_rules.actions"});return`
        SELECT ${e} FROM schedules _
        LEFT JOIN schedules_next_date _nd ON _nd.schedule_id = _.id
        LEFT JOIN schedules_json_paths _paths ON _paths.schedule_id = _.id
        LEFT JOIN rules _rules ON _rules.id = _.rule
        LEFT JOIN payee_mapping pm ON pm.id = json_extract(_rules.conditions, _paths.payee || '.value')
        `}},transactions:{fields:{is_parent:"isParent",is_child:"isChild",account:"acct",imported_id:"financial_id",imported_payee:"imported_description",transfer_id:"transferred_id",payee:"description"},v_transactions_internal:t=>{let e=t({payee:"pm.targetId",category:"CASE WHEN _.isParent = 1 THEN NULL ELSE cm.transferId END",amount:"IFNULL(_.amount, 0)",parent_id:"CASE WHEN _.isChild = 0 THEN NULL ELSE _.parent_id END"});return`
          SELECT ${e} FROM transactions _
          LEFT JOIN category_mapping cm ON cm.id = _.category
          LEFT JOIN payee_mapping pm ON pm.id = _.description
          WHERE
           _.date IS NOT NULL AND
           _.acct IS NOT NULL AND
           (_.isChild = 0 OR _.parent_id IS NOT NULL)
        `},v_transactions_internal_alive:`
        SELECT _.* FROM v_transactions_internal _
        LEFT JOIN transactions t2 ON (_.is_child = 1 AND t2.id = _.parent_id)
        WHERE IFNULL(_.tombstone, 0) = 0 AND (_.is_child = 0 OR t2.tombstone = 0)
      `,v_transactions:(t,e)=>{let r=e({payee:"p.id",category:"c.id",account:"a.id"});return`
          SELECT ${r} FROM v_transactions_internal_alive _
          LEFT JOIN payees p ON (p.id = _.payee AND p.tombstone = 0)
          LEFT JOIN categories c ON (c.id = _.category AND c.tombstone = 0)
          LEFT JOIN accounts a ON (a.id = _.account AND a.tombstone = 0)
          ORDER BY _.date desc, _.starting_balance_flag, _.sort_order desc, _.id;
        `}}}};class af{state;constructor(t){this.state={filterExpressions:t.filterExpressions||[],selectExpressions:t.selectExpressions||[],groupExpressions:t.groupExpressions||[],orderExpressions:t.orderExpressions||[],calculation:!1,rawMode:!1,withDead:!1,validateRefs:!0,limit:null,offset:null,...t}}filter(t){return new af({...this.state,filterExpressions:[...this.state.filterExpressions,t]})}unfilter(t){let e=new Set(t);return new af({...this.state,filterExpressions:this.state.filterExpressions.filter(t=>!e.has(Object.keys(t)[0]))})}select(t=[]){Array.isArray(t)||(t=[t]);let e=new af({...this.state,selectExpressions:t});return e.state.calculation=!1,e}calculate(t){let e=this.select({result:t});return e.state.calculation=!0,e}groupBy(t){return Array.isArray(t)||(t=[t]),new af({...this.state,groupExpressions:[...this.state.groupExpressions,...t]})}orderBy(t){return Array.isArray(t)||(t=[t]),new af({...this.state,orderExpressions:[...this.state.orderExpressions,...t]})}limit(t){return new af({...this.state,limit:t})}offset(t){return new af({...this.state,offset:t})}raw(){return new af({...this.state,rawMode:!0})}withDead(){return new af({...this.state,withDead:!0})}withoutValidatedRefs(){return new af({...this.state,validateRefs:!1})}options(t){return new af({...this.state,tableOptions:t})}serialize(){return this.state}}function ad(t){return new af({table:t})}function ap(t,e){for(let r=0;r<t.length;r++){let n=t[r];Object.keys(n).forEach(t=>{n[t]=ow(n[t],e.get(t))})}}async function ah(t,e,r,n,o){let a=ao(t,e,r),s=await lC(a,n);return ap(s,o),s}async function ay(t,e,r,{params:n={},executors:o={}}={}){let a;let s=r.namedParameters.map(t=>{let e=t.paramName;if(void 0===n[e])throw Error(`Parameter ${e} not provided to query`);return ob(n[e],t.paramType)});if(a=o[r.implicitTableName]?await o[r.implicitTableName](r,t,e,s,r.outputTypes):await ah(t,r,e,s,r.outputTypes),t.calculation){if(a.length>0){let t=a[0],e=Object.keys(t)[0];a=t[e]||0}else a=null}return a}async function ag(t,e,r,n){let{sqlPieces:o,state:a}=ai(r,t,e);return{data:await ay(r,o,a,n),dependencies:a.dependencies}}async function am(t,e,r,n,o=[]){let a=500,s=[],u=new Set;for(let l=0;l<e.length;l+=a){let c=e.slice(l,l+a).filter(t=>!u.has(t));if(c.length>0){let e=n("("+c.map(t=>r(t)).join(" OR ")+")"),a=await t(e,o,!0);u=new Set([...u,...c]),s=s.concat(a)}}return s}function a_(t,e){return`${e} IN (`+[...new Set(t)].map(t=>`'${t}'`).join(",")+")"}function ab(t,e,r=t=>t){return t.reduce((t,n)=>{let o=e.get(n.id)||[];return t.push({...r(n),subtransactions:o.map(r)}),t},[])}function aw(t){for(let e of Object.keys(t))if("$or"===e||"$and"===e){if(t[e]&&aw(t[e]))return!0}else if(!(0===e.indexOf("account")||"date"===e))return!0;return!1}function aE(t){return null==t.filterExpressions.find(aw)}async function av(t,e,r,n,o,a){let s;let{withDead:u}=e,l=u?"":`AND ${r.from}.tombstone = 0`;if(an(e)){let o={...r};return o.where=`${o.where} AND ${o.from}.is_parent = 0`,u||(o.from="v_transactions_internal_alive v_transactions_internal"),ah(e,t,o,n,a)}let c=null;if(aE(e)){let t=`
      SELECT ${r.from}.id as group_id
      FROM ${r.from}
      ${r.joins}
      ${r.where} AND is_child = 0 ${l}
      ${r.orderBy}
      ${null!=r.limit?`LIMIT ${r.limit}`:""}
      ${null!=r.offset?`OFFSET ${r.offset}`:""}
    `;s=await lC(t,n)}else{let t=`
      SELECT group_id, matched FROM (
        SELECT
          group_id,
          GROUP_CONCAT(id) as matched
          FROM (
            SELECT ${r.from}.id, IFNULL(${r.from}.parent_id, ${r.from}.id) as group_id
            FROM ${r.from}
            LEFT JOIN transactions _t2 ON ${r.from}.is_child = 1 AND _t2.id = ${r.from}.parent_id
            ${r.joins}
            ${r.where} AND ${r.from}.tombstone = 0 AND IFNULL(_t2.tombstone, 0) = 0
          )
        GROUP BY group_id
      )
      LEFT JOIN ${r.from} ON ${r.from}.id = group_id
      ${r.joins}
      ${r.orderBy}
      ${null!=r.limit?`LIMIT ${r.limit}`:""}
      ${null!=r.offset?`OFFSET ${r.offset}`:""}
    `;s=await lC(t,n),c=new Set([].concat.apply([],s.map(t=>t.matched.split(","))))}let f=a_(s.map(t=>t.group_id),`IFNULL(${r.from}.parent_id, ${r.from}.id)`),d=`
    SELECT ${r.select}, parent_id AS _parent_id FROM ${r.from}
    ${r.joins}
    WHERE ${f} ${l}
    ${r.orderBy}
  `,{parents:p,children:h}=(await lC(d)).reduce((t,e)=>{let r=e._parent_id;if(delete e._parent_id,null==r)t.parents.push(e);else{let n=t.children.get(r)||[];n.push(e),t.children.set(r,n)}return t},{parents:[],children:new Map});return ab(p,h,t=>(Object.keys(t).forEach(e=>{t[e]=ow(t[e],a.get(e))}),c&&!c.has(t.id)&&(t._unmatched=!0),t))}async function aS(t,e,r,n,o,a){let s={...r};return"all"!==o&&("none"===o?s.where=`${s.where} AND ${s.from}.parent_id IS NULL`:s.where=`${s.where} AND ${s.from}.is_parent = 0`),ah(e,t,s,n,a)}let aT={transactions:function(t,e,r,n,o){let a=(e.tableOptions||{}).splits||"inline";if(-1===["all","inline","none","grouped"].indexOf(a))throw Error(`Invalid splits option for transactions: ${a}`);return"all"===a||"inline"===a||"none"===a?aS(t,e,r,n,a,o):"grouped"===a?av(t,e,r,n,a,o):void 0}};function aO(t,e,r,n){return ay(t,e,r,{params:n,executors:aT})}function aA(t,e){return t instanceof af&&(t=t.serialize()),ag(al,ac,t,{params:e,executors:aT})}let aI={info:(...t)=>{console.log(...t)}},aN=!1,aD=!0,aR=!1,aC=["report","rollover"],aM=null;async function ax(t){let e=iH(i$(t),"metadata.json");try{aM=JSON.parse(await oo(e))}catch(e){aM={id:t,budgetName:t}}for(let t of["syncAccount"])delete aM[`flags.${t}`];for(let t of Object.keys(aM))t.startsWith("notifications.")&&delete aM[t];return aM.id=t,aM}async function ak(t,{avoidSync:e=!1}={}){if(Object.assign(aM,t),!e){let e=Object.keys(t).map(e=>"budgetType"===e||"budgetName"===e?{dataset:"prefs",row:e,column:"value",value:t[e],timestamp:tE.send()}:null).filter(t=>t);e.length>0&&await li(e)}{let t=iH(i$(aM.id),"metadata.json");await oa(t,JSON.stringify(aM))}}function aL(){aM=null}function aF(){return aM}function aP(t,e){return{id:t,budgetName:e}}function aB(t){return{all:t=t||new Map,on:function(e,r){var n=t.get(e);n?n.push(r):t.set(e,[r])},off:function(e,r){var n=t.get(e);n&&(r?n.splice(n.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var n=t.get(e);n&&n.slice().map(function(t){t(r)}),(n=t.get("*"))&&n.slice().map(function(t){t(e,r)})}}}function aU(){let t={addNode:o,removeNode:s,adjacent:u,adjacentIncoming:l,addEdge:c,removeEdge:f,removeIncomingEdges:a,topologicalSort:d,generateDOT:h,getEdges:n},e=new Map,r=new Map;function n(){return{edges:e,incomingEdges:r}}function o(n){return e.set(n,u(n)),r.set(n,l(n)),t}function a(t){let e=l(t);r.set(t,new Set);let n=e.values(),o=n.next();for(;!o.done;)f(o.value,t),o=n.next()}function s(n){return a(n),e.delete(n),r.delete(n),t}function u(t){return e.get(t)||new Set}function l(t){return r.get(t)||new Set}function c(e,r){return o(e),o(r),u(e).add(r),l(r).add(e),t}function f(n,o){return e.has(n)&&u(n).delete(o),r.has(o)&&l(o).delete(n),t}function d(t){let e=new Set,r=[];return t.forEach(t=>{e.has(t)||p(t,e,r)}),r}function p(t,e,r){let n=[];for(n.push({count:-1,value:t,parent:"",level:0});n.length>0;){let t=n.slice(-1)[0],o=u(t.value);if(-1===t.count&&(t.count=o.size),t.count>0){let r=o.values(),a=r.next();for(;!a.done;)e.has(a.value)?t.count--:n.push({count:-1,parent:t.value,value:a.value,level:t.level+1}),a=r.next()}else{e.has(t.value)||(e.add(t.value),r.unshift(t.value));let o=n.pop();for(let t=0;t<n.length;t++)n[t].value===o.parent&&n[t].count--}}}function h(){let t=[];return e.forEach(function(e,r){0!==e.length&&t.push(`${r} -> {${e.join(",")}}`)}),`
    digraph G {
      ${t.join("\n").replace(/!/g,"_")}
    }
    `}return t}function aj(t){let e=t.indexOf("!");return -1!==e?{sheet:t.slice(0,e),name:t.slice(e+1)}:{sheet:null,name:t}}function aW(t,e){return t+"!"+e}class aH{_meta;cacheBarrier;computeQueue;dirtyCells;events;graph;nodes;running;saveCache;setCacheStatus;transactionDepth;constructor(t,e){this.graph=new aU,this.nodes=new Map,this.transactionDepth=0,this.saveCache=t,this.setCacheStatus=e,this.dirtyCells=[],this.computeQueue=[],this.events=aB(),this._meta={createdMonths:new Set}}meta(){return this._meta}setMeta(t){this._meta=t}_getNode(t){let{sheet:e}=aj(t);return this.nodes.has(t)||this.nodes.set(t,{name:t,expr:null,value:null,sheet:e}),this.nodes.get(t)}getNode(t){return this._getNode(t)}hasCell(t){return this.nodes.has(t)}add(t,e){this.set(t,e)}getNodes(){return this.nodes}serialize(){return{graph:this.graph.getEdges(),nodes:[...this.nodes.entries()]}}transaction(t){this.startTransaction();try{t()}catch(t){console.log(t)}return this.endTransaction()}startTransaction(){this.transactionDepth++}endTransaction(){if(this.transactionDepth--,0===this.transactionDepth){let t=this.dirtyCells;this.dirtyCells=[],this.queueComputation(this.graph.topologicalSort(t))}return[]}queueComputation(t){this.computeQueue=this.computeQueue.concat(t),Promise.resolve().then(()=>{this.running||this.runComputations()})}runComputations(t=0){for(this.running=!0;t<this.computeQueue.length;){let e,r;let n=this.computeQueue[t];try{if((e=this.getNode(n))._run){let t=e._dependencies.map(t=>this.getNode(t).value);(r=e._run(...t))instanceof Promise&&console.warn(`dynamic cell ${n} returned a promise! this is discouraged because errors are not handled properly`)}else if(e.sql)r=aO(e.query,e.sql.sqlPieces,e.sql.state);else{t++;continue}}catch(t){console.log("Error while evaluating "+n+":",t),this.running=!1,this.computeQueue=[];return}if(r instanceof Promise){r.then(r=>{e.value=r,this.runComputations(t+1)},r=>{console.warn(`Failed running ${e.name}!`,r),this.runComputations(t+1)});return}e.value=r,t++}t===this.computeQueue.length&&(this.events.emit("change",{names:this.computeQueue}),"function"==typeof this.saveCache&&this.saveCache(this.computeQueue),this.markCacheSafe(),this.running=!1,this.computeQueue=[])}markCacheSafe(){!this.cacheBarrier&&this.setCacheStatus&&this.setCacheStatus({clean:!0})}markCacheDirty(){this.setCacheStatus&&this.setCacheStatus({clean:!1})}startCacheBarrier(){this.cacheBarrier=!0,this.markCacheDirty()}endCacheBarrier(){this.cacheBarrier=!1,this.running||this.computeQueue.length>0||this.markCacheSafe()}addEventListener(t,e){return this.events.on(t,e),()=>this.events.off(t,e)}onFinish(t){if(0!==this.transactionDepth)throw Error("onFinish called while inside a spreadsheet transaction. This is not allowed as it will lead to race conditions");if(!this.running&&0===this.computeQueue.length)return t([]),()=>{};let e=this.addEventListener("change",(...r)=>(e(),t(...r)));return e}unload(){this.events.all.clear()}getValue(t){return this.getNode(t).value}getExpr(t){return this.getNode(t).expr}getCellValue(t,e){return this.getNode(aW(t,e)).value}getCellExpr(t,e){return this.getNode(aW(t,e)).expr}getCellValueLoose(t,e){let r=aW(t,e);return this.nodes.has(r)?this.getNode(r).value:null}bootup(t){this.onFinish(()=>{t()})}load(t,e){let r=this._getNode(t);r.expr=e,r.value=e}create(t,e){return this.transaction(()=>{let r=this._getNode(t);r.expr=e,r.value=e,this._markDirty(t)})}set(t,e){this.create(t,e)}recompute(t){this.transaction(()=>{this.dirtyCells.push(t)})}recomputeAll(){this.transaction(()=>{this.dirtyCells=[...this.nodes.keys()]})}createQuery(t,e,r){let n=aW(t,e),o=this._getNode(n);if(o.query!==r){o.query=r;let{sqlPieces:t,state:e}=ai(o.query,al,ac);o.sql={sqlPieces:t,state:e},this.transaction(()=>{this._markDirty(n)})}}createStatic(t,e,r){let n=aW(t,e);this.nodes.has(n)||this.create(n,r)}createDynamic(t,e,{dependencies:r=[],run:n,initialValue:o,refresh:a=!1}){let s=aW(t,e),u=this._getNode(s);!u.dynamic&&(u.dynamic=!0,u._run=n,r=r.map(e=>aj(e).sheet?e:aW(t,e)),u._dependencies=r,this.graph.removeIncomingEdges(s),r.forEach(t=>{this.graph.addEdge(t,s)}),(null==u.value||a)&&this.transaction(()=>{u.value=o,this._markDirty(s)}))}clearSheet(t){for(let[e,r]of this.nodes.entries())r.sheet===t&&this.nodes.delete(e)}voidCell(t,e,r=null){let n=this.getNode(aW(t,e));n._run=null,n.dynamic=!1,n.value=r}deleteCell(t,e){this.voidCell(t,e),this.nodes.delete(aW(t,e))}addDependencies(t,e,r){let n=aW(t,e);r=r.map(e=>aj(e).sheet?e:aW(t,e));let o=this.getNode(n),a=r.filter(t=>-1===(o._dependencies||[]).indexOf(t));a.length>0&&(o._dependencies=(o._dependencies||[]).concat(a),a.forEach(t=>{this.graph.addEdge(t,n)}),this.recompute(n))}removeDependencies(t,e,r){let n=aW(t,e);r=r.map(e=>aj(e).sheet?e:aW(t,e));let o=this.getNode(n);o._dependencies=(o._dependencies||[]).filter(t=>-1===r.indexOf(t)),r.forEach(t=>{this.graph.removeEdge(t,n)}),this.recompute(n)}_markDirty(t){this.dirtyCells.push(t)}triggerDatabaseChanges(t,e){let r=new Set([...t.keys(),...e.keys()]);this.startTransaction(),this.nodes.forEach(t=>{t.sql&&t.sql.state.dependencies.some(t=>r.has(t))&&this._markDirty(t.name)}),this.endTransaction()}}function az(){return r}async function aV(t,e){await ik(t,()=>{e.forEach(e=>{let n=r._getNode(e);null==n.sql&&iC(t,"INSERT OR REPLACE INTO kvcache (key, value) VALUES (?, ?)",[e,JSON.stringify(n.value)])})})}function a$(t,e,{clean:r}){if(r){let r=1e7*Math.random();iC(e,"INSERT OR REPLACE INTO kvcache_key (id, key) VALUES (1, ?)",[r]),t&&iC(t,"INSERT OR REPLACE INTO kvcache_key (id, key) VALUES (1, ?)",[r])}else iC(e,"DELETE FROM kvcache_key")}function aq(t,e){let r=iC(e,"SELECT key FROM kvcache_key WHERE id = 1",[],!0),n=0===r.length?null:r[0].key;if(null==n)return!0;if(t){let e=iC(t,"SELECT key FROM kvcache_key WHERE id = 1",[],!0);if(0===e.length||e[0].key!==n)return!0}return 0===(r=iC(e,"SELECT * FROM kvcache LIMIT 1",[],!0)).length}async function aG(t,e){let a,s;let u=!0,l=t.getDatabase();if(aR&&u?(o=a=iP(t.getDatabasePath().replace(/db\.sqlite$/,"cache.sqlite")),iM(a,`
        CREATE TABLE IF NOT EXISTS kvcache (key TEXT PRIMARY KEY, value TEXT);
        CREATE TABLE IF NOT EXISTS kvcache_key (id INTEGER PRIMARY KEY, key REAL)
      `)):a=l,s=u?new aH(aV.bind(null,a),a$.bind(null,l,a)):new aH,n5({message:"loading spreaadsheet",category:"server"}),r=s,n=e,e&&s.addEventListener("change",e),u&&!aq(l,a)){let t=await iC(a,"SELECT * FROM kvcache",[],!0);for(let e of(console.log(`Loaded spreadsheet from cache (${t.length} items)`),t)){let t=JSON.parse(e.value);s.load(e.key,t)}}else console.log("Loading fresh spreadsheet"),await aZ(t);return n5({message:"loaded spreaadsheet",category:"server"}),s}function aY(){r&&(r.unload(),r=null),o&&(iB(o),o=null)}async function aK(t){if(r)return aY(),aG(t,n)}async function aZ(t){let e=r,{budgetType:n}=aF()||{},o="report"===n?"reflect_budgets":"zero_budgets",a=await t.all(`
      SELECT * FROM ${o} b
      LEFT JOIN categories c ON c.id = b.category
      WHERE c.tombstone = 0
    `);for(let t of(e.startTransaction(),a))if(t.month&&t.category){let r=`budget${t.month}`;e.set(`${r}!budget-${t.category}`,t.amount),e.set(`${r}!carryover-${t.category}`,1===t.carryover),e.set(`${r}!goal-${t.category}`,t.goal),e.set(`${r}!long-goal-${t.category}`,t.long_goal)}if("report"!==n)for(let r of(await t.all("SELECT * FROM zero_budget_months"))){let t=rZ(r.id);e.set(`${t}!buffered`,r.buffered)}e.endTransaction()}function aJ(t,e){return r._getNode(aW(t,e))}function aX(t,e){return r.getValue(aW(t,e))}function aQ(){r&&r.startTransaction()}function a0(){r&&r.endTransaction()}function a1(){return new Promise(t=>{r?r.onFinish(t):t(void 0)})}async function a2(t,e){let r=await aJ(t,e);return nn("number"==typeof r.value?r.value:0)}function a6(t,e,r){return r=Math.min(Math.max(r,-e),Math.max(t,0)),e+r}function a4(){let{budgetType:t}=aF()||{};return"report"===t?"reflect_budgets":"zero_budgets"}function a3(){let{budgetType:t}=aF();return"report"===t}function a8(t){return parseInt(t.replace("-",""))}function a5(t,e){return lC(`
    SELECT b.*, c.is_income FROM v_categories c
    LEFT JOIN ${t} b ON b.category = c.id
    WHERE c.tombstone = 0 AND b.month = ?
  `,[e])}function a7(t){let{createdMonths:e}=az().meta(),r=null;for(let t of e)(null==r||t>r)&&(r=t);return rY(t,r)}function a9({category:t,month:e}){let r=a4(),n=lx(`SELECT * FROM ${r} WHERE month = ? AND category = ?`,[a8(e),t]);return n&&n.amount||0}function st({category:t,month:e,amount:r}){r=nn("number"==typeof r?r:0);let n=a4(),o=lx(`SELECT id FROM ${n} WHERE month = ? AND category = ?`,[a8(e),t]);return o?lF(n,{id:o.id,amount:r}):lB(n,{id:`${a8(e)}-${t}`,month:a8(e),category:t,amount:r})}function se({month:t,category:e,goal:r,long_goal:n}){let o=a4(),a=lx(`SELECT id FROM ${o} WHERE month = ? AND category = ?`,[a8(t),e]);return a?lF(o,{id:a.id,goal:r,long_goal:n}):lB(o,{id:`${a8(t)}-${e}`,month:a8(t),category:e,goal:r,long_goal:n})}function sr(t,e){let r=lx("SELECT id FROM zero_budget_months WHERE id = ?",[t]);return r?lF("zero_budget_months",{id:r.id,buffered:e}):lB("zero_budget_months",{id:t,buffered:e})}function sn(t,e,r,n){let o=lx(`SELECT id FROM ${t} WHERE month = ? AND category = ?`,[r,e]);return o?lF(t,{id:o.id,carryover:n?1:0}):lB(t,{id:`${r}-${e}`,month:r,category:e,carryover:n?1:0})}async function si({month:t}){let e=a8(rL(t)),r=a4(),n=await a5(r,e.toString());await ln(async()=>{n.forEach(e=>{(1!==e.is_income||a3())&&st({category:e.category,month:t,amount:e.amount})})})}async function so({month:t,category:e}){let r=rL(t),n=await a2(rZ(r),"budget-"+e);await ln(async()=>{st({category:e,month:t,amount:n})})}async function sa({month:t}){let e=await lC("SELECT * FROM v_categories WHERE tombstone = 0");await ln(async()=>{e.forEach(e=>{(1!==e.is_income||a3())&&st({category:e.id,month:t,amount:0})})})}async function ss({month:t}){let e=await lC("SELECT * FROM v_categories WHERE tombstone = 0"),r=rL(t),n=rL(r),o=rL(n);await ln(async()=>{for(let a of e){if(1===a.is_income&&!a3())continue;let e=Math.round((await a2(rZ(r),"sum-amount-"+a.id)+await a2(rZ(n),"sum-amount-"+a.id)+await a2(rZ(o),"sum-amount-"+a.id))/3);0===a.is_income&&(e*=-1),st({category:a.id,month:t,amount:e})}})}async function su({month:t,N:e,category:r}){let n=await lM("SELECT is_income FROM v_categories WHERE id = ?",[r]),o=rL(t),a=0;for(let t=0;t<e;t++)a+=await a2(rZ(o),"sum-amount-"+r),o=rL(o);await ln(async()=>{let o=Math.round(a/e);0===n.is_income&&(o*=-1),st({category:r,month:t,amount:o})})}async function sl({month:t,amount:e}){let r=await lM("SELECT buffered FROM zero_budget_months WHERE id = ?",[t]),n=rZ(t),o=await a2(n,"to-budget");if(o>0){let n=a6(o,r&&r.buffered||0,e);return await sr(t,n),!0}return!1}async function sc({month:t}){await sr(t,0)}async function sf({month:t,to:e,from:r}){let n=rZ(t),o=await a2(n,"budget-"+e),a=await a2(n,"leftover-"+e),s=await a2(n,"to-be-budgeted"===r?"to-budget":"leftover-"+r);if(a>=0||s<=0)return;let u=Math.min(-a,s);if("to-be-budgeted"!==r){let e=await a2(n,"budget-"+r);await st({category:r,month:t,amount:e-u})}await st({category:e,month:t,amount:o+u})}async function sd({month:t,amount:e,category:r}){let n=rZ(t);e=Math.max(Math.min(e,await a2(n,"to-budget")),0);let o=await a2(n,"budget-"+r);await st({category:r,month:t,amount:o+e})}async function sp({month:t,category:e}){let r=rZ(t),n=await a2(r,"to-budget"),o=await a2(r,"budget-"+e);await st({category:e,month:t,amount:o+n})}async function sh({month:t,amount:e,from:r,to:n}){let o=rZ(t),a=await a2(o,"budget-"+r);if(await st({category:r,month:t,amount:a-e}),"to-be-budgeted"!==n){let r=await a2(o,"budget-"+n);await st({category:n,month:t,amount:r+e})}}async function sy({startMonth:t,category:e,flag:r}){let n=a4(),o=a7(t);await ln(async()=>{for(let t of o)sn(n,e,a8(t).toString(),r)})}function sg(t){if("number"==typeof t)return t;if("string"==typeof t){let e=parseFloat(t);return isNaN(e)?0:e}return 0}function sm(...t){return nn(t.reduce((t,e)=>t+sg(e),0))}function s_(t){return Array.prototype.concat.apply([],t)}function sb(t){let e=[];for(let r=0;r<t.length;r+=2)e.push([t[r],t[r+1]]);return e}async function sw(t,e,r){az().createStatic(e,`budget-${t.id}`,0),null==az().getCellValue(e,`budget-${t.id}`)&&az().set(aW(e,`budget-${t.id}`),0),az().createDynamic(e,`leftover-${t.id}`,{initialValue:0,dependencies:[`budget-${t.id}`,`sum-amount-${t.id}`,`${r}!carryover-${t.id}`,`${r}!leftover-${t.id}`],run:(e,r,n,o)=>t.is_income?nn(sg(e)-sg(r)+(n?sg(o):0)):nn(sg(e)+sg(r)+(n?sg(o):0))}),az().createDynamic(e,`spent-with-carryover-${t.id}`,{initialValue:0,dependencies:[`budget-${t.id}`,`sum-amount-${t.id}`,`carryover-${t.id}`],refresh:!0,run:(t,e,r)=>r?Math.max(0,nn(sg(t)+sg(e))):e}),az().createStatic(e,`carryover-${t.id}`,!1)}function sE(t,e,r){let n=t.filter(t=>t.is_income)[0],o=e.filter(t=>!t.is_income);az().createDynamic(r,"total-budgeted",{initialValue:0,dependencies:t.filter(t=>!t.is_income).map(t=>`group-budget-${t.id}`),run:sm}),az().createDynamic(r,"total-spent",{initialValue:0,refresh:!0,dependencies:o.map(t=>`${r}!spent-with-carryover-${t.id}`),run:sm}),az().createDynamic(r,"total-income",{initialValue:0,dependencies:[`group-sum-amount-${n.id}`],run:t=>t}),az().createDynamic(r,"total-leftover",{initialValue:0,dependencies:["total-budgeted","total-spent"],run:sm}),az().createDynamic(r,"total-budget-income",{initialValue:0,dependencies:[`group-budget-${n.id}`],run:t=>t}),az().createDynamic(r,"total-saved",{initialValue:0,dependencies:["total-budget-income","total-budgeted"],run:(t,e)=>t-e}),az().createDynamic(r,"real-saved",{initialValue:0,dependencies:["total-income","total-spent"],run:(t,e)=>nn(t- -e)})}function sv(t){return rZ(rL(t[0]))}function sS(t,e){if(e.length>0){let r=sv(e);az().createStatic(r,`carryover-${t.id}`,!1),az().createStatic(r,`leftover-${t.id}`,0),az().createStatic(r,`leftover-pos-${t.id}`,0)}}function sT(t,e,r){az().createStatic(e,"is-blank",!0),az().createStatic(e,"to-budget",0),az().createStatic(e,"buffered",0),t.forEach(t=>sS(t,r))}function sO(t,e,r){t.is_income||(az().createStatic(e,`budget-${t.id}`,0),null==az().getCellValue(e,`budget-${t.id}`)&&az().set(aW(e,`budget-${t.id}`),0),az().createStatic(e,`carryover-${t.id}`,!1),az().createDynamic(e,`leftover-${t.id}`,{initialValue:0,dependencies:[`budget-${t.id}`,`sum-amount-${t.id}`,`${r}!carryover-${t.id}`,`${r}!leftover-${t.id}`,`${r}!leftover-pos-${t.id}`],run:(t,e,r,n,o)=>nn(sg(t)+sg(e)+(r?sg(n):sg(o)))}),az().createDynamic(e,"leftover-pos-"+t.id,{initialValue:0,dependencies:[`leftover-${t.id}`],run:t=>t<0?0:t}))}function sA(t,e,r,n){let o=t.filter(t=>t.is_income)[0],a=e.filter(t=>!t.is_income);az().createStatic(n,"buffered",0),az().createDynamic(n,"from-last-month",{initialValue:0,dependencies:[`${r}!to-budget`,`${r}!buffered`],run:(t,e)=>nn(sg(t)+sg(e))}),az().createDynamic(n,"total-income",{initialValue:0,dependencies:[`group-sum-amount-${o.id}`],run:t=>t}),az().createDynamic(n,"available-funds",{initialValue:0,dependencies:["total-income","from-last-month"],run:(t,e)=>nn(sg(t)+sg(e))}),az().createDynamic(n,"last-month-overspent",{initialValue:0,dependencies:s_(a.map(t=>[`${r}!leftover-${t.id}`,`${r}!carryover-${t.id}`])),run:(...t)=>nn((t=sb(t)).reduce((t,[e,r])=>r?t:t+Math.min(0,sg(e)),0))}),az().createDynamic(n,"total-budgeted",{initialValue:0,dependencies:t.filter(t=>!t.is_income).map(t=>`group-budget-${t.id}`),run:(...t)=>-sm(...t)}),az().createDynamic(n,"buffered",{initialValue:0}),az().createDynamic(n,"to-budget",{initialValue:0,dependencies:["available-funds","last-month-overspent","total-budgeted","buffered"],run:(t,e,r,n)=>nn(sg(t)+sg(e)+sg(r)-sg(n))}),az().createDynamic(n,"total-spent",{initialValue:0,dependencies:t.filter(t=>!t.is_income).map(t=>`group-sum-amount-${t.id}`),run:sm}),az().createDynamic(n,"total-leftover",{initialValue:0,dependencies:t.filter(t=>!t.is_income).map(t=>`group-leftover-${t.id}`),run:sm})}function sI(t,e,r){let n=sv(r);t.blankSheet!==n&&(az().clearSheet(t.blankSheet),sT(e,n,r),t.blankSheet=n)}function sN(){return az().meta().budgetType||"rollover"}function sD(t,e){return(t=rK(t))>(e=rK(e))&&(t=e),{start:t=rj(t,3),end:e=rF(e,12),range:rY(t,e)}}function sR(t,e,r,n,o){az().createDynamic(e,"sum-amount-"+t.id,{initialValue:0,run:()=>{let e=lT(`SELECT SUM(amount) as amount FROM v_transactions_internal_alive t
           LEFT JOIN accounts a ON a.id = t.account
         WHERE t.date >= ${n} AND t.date <= ${o}
           AND category = '${t.id}' AND a.offbudget = 0`,[],!0)[0];return(e?e.amount:0)||0}}),"rollover"===sN()?sO(t,e,r):sw(t,e,r)}function sC(t,e){az().createDynamic(e,"group-sum-amount-"+t.id,{initialValue:0,dependencies:t.categories.map(t=>`sum-amount-${t.id}`),run:sm}),t.is_income&&"rollover"===sN()||(az().createDynamic(e,"group-budget-"+t.id,{initialValue:0,dependencies:t.categories.map(t=>`budget-${t.id}`),run:sm}),az().createDynamic(e,"group-leftover-"+t.id,{initialValue:0,dependencies:t.categories.map(t=>`leftover-${t.id}`),run:sm}))}function sM(t,e,r){if(!e||e.offbudget!==r.offbudget){let e=lT(`
        SELECT DISTINCT(category) as category FROM transactions
        WHERE acct = ?
      `,[r.id],!0);t.forEach(t=>{let r=rZ(t);e.forEach(t=>{az().recompute(aW(r,"sum-amount-"+t.category))})})}}function sx(t,e){if((e.has("date")||e.has("acct")||e.has("amount")||e.has("category")||e.has("tombstone")||e.has("isParent"))&&t.date&&t.category){let e=rZ(rC(op(t.date)));az().recompute(aW(e,"sum-amount-"+t.category))}}function sk(t,e,r){t.forEach(t=>{let n=rZ(t);e&&az().recompute(aW(n,"sum-amount-"+e.transferId)),az().recompute(aW(n,"sum-amount-"+r.transferId))})}function sL(t,e,r){function n(t,e,r){az().addDependencies(t,`group-sum-amount-${e}`,[`sum-amount-${r}`]),az().addDependencies(t,`group-budget-${e}`,[`budget-${r}`]),az().addDependencies(t,`group-leftover-${e}`,[`leftover-${r}`])}function o(t,e,r){az().removeDependencies(t,`group-sum-amount-${e}`,[`sum-amount-${r}`]),az().removeDependencies(t,`group-budget-${e}`,[`budget-${r}`]),az().removeDependencies(t,`group-leftover-${e}`,[`leftover-${r}`])}let a=sN();if(e&&0===e.tombstone&&1===r.tombstone){let e=r.id,n=r.cat_group;t.forEach(t=>{o(rZ(t),n,e)})}else if(0!==r.tombstone||e&&1!==e.tombstone){if(e&&e.cat_group!==r.cat_group){let a=r.id;t.forEach(t=>{let s=rZ(t);o(s,e.cat_group,a),n(s,r.cat_group,a)})}}else"rollover"===a&&sS(r,t),t.forEach(t=>{let e=rZ(rL(t)),o=rZ(t),{start:a,end:s}=r$(t);sR(r,o,e,a,s);let u=r.id,l=r.cat_group;"rollover"===sN()&&az().addDependencies(o,"last-month-overspent",[`${e}!leftover-${u}`,`${e}!carryover-${u}`]),n(o,l,u)})}function sF(t,e,r){let n=sN();function o(t,e){az().addDependencies(t,"total-budgeted",[`group-budget-${e}`]),az().addDependencies(t,"total-spent",[`group-sum-amount-${e}`]),az().addDependencies(t,"total-leftover",[`group-leftover-${e}`])}function a(t,e){az().removeDependencies(t,"total-budgeted",[`group-budget-${e}`]),az().removeDependencies(t,"total-spent",[`group-sum-amount-${e}`]),az().removeDependencies(t,"total-leftover",[`group-leftover-${e}`])}if(1===r.tombstone&&e&&0===e.tombstone){let e=r.id;t.forEach(t=>{a(rZ(t),e)})}else if(0===r.tombstone&&(!e||1===e.tombstone)){let e=r;e.is_income&&"rollover"===n||t.forEach(t=>{let r=rZ(t),n=lT("SELECT * FROM categories WHERE tombstone = 0 AND cat_group = ?",[e.id],!0);sC({...e,categories:n},r),o(r,e.id)})}}function sP(t){let e=rZ(t.id);az().set(`${e}!buffered`,t.buffered)}function sB(t){if(t.category){let e=rZ(t.month.toString());az().set(`${e}!budget-${t.category}`,t.amount||0),az().set(`${e}!carryover-${t.category}`,1===t.carryover),az().set(`${e}!goal-${t.category}`,t.goal),az().set(`${e}!long-goal-${t.category}`,t.long_goal)}}function sU(t,e){let{createdMonths:r=new Set}=az().meta();aQ();try{e.forEach((e,n)=>{let o=t.get(n);e.forEach(t=>{let e=o&&o.get(t.id);if("zero_budget_months"===n)sP(t);else if("zero_budgets"===n||"reflect_budgets"===n)sB(t);else if("transactions"===n){let r=new Set(Object.keys(rQ(e||{},t)||{}));e&&sx(e,r),sx(t,r)}else"category_mapping"===n?sk(r,e,t):"categories"===n?sL(r,e,t):"category_groups"===n?sF(r,e,t):"accounts"===n&&sM(r,e,t)})})}finally{a0()}}async function sj(t,e){let{createdMonths:r}=az().meta();[...r].forEach(r=>{let n=t.map(t=>a9({month:r,category:t})).reduce((t,e)=>t+e,0),o=a9({month:r,category:e});st({month:r,category:e,amount:n+o})})}async function sW(t){let e=await l$(),r=await lq();aQ();let n=az().meta();n.createdMonths=n.createdMonths||new Set;let o=sN();"rollover"===o&&sI(n,e,t),t.forEach(t=>{if(!n.createdMonths.has(t)){let a=rL(t),{start:s,end:u}=r$(t),l=rZ(t),c=rZ(a);e.forEach(t=>{sR(t,l,c,s,u)}),r.forEach(t=>{sC(t,l)}),"rollover"===o?sA(r,e,c,l):sE(r,e,l),n.createdMonths.add(t)}}),az().setMeta(n),a0(),await a1()}async function sH(){let t=await lM("SELECT * FROM transactions WHERE isChild=0 AND date IS NOT NULL ORDER BY date ASC LIMIT 1"),e=t&&op(t.date),r=rx(),{start:n,end:o,range:a}=sD(e||r,r),s=az().meta().createdMonths||new Set;return a.filter(t=>!s.has(t)).length>0&&await sW(a),{start:n,end:o}}async function sz(t){let e=az().meta();if(t===e.budgetType)return;e.budgetType=t,e.createdMonths=new Set;let r=az().getNodes();lD(()=>{for(let t of r.keys()){let[e,r]=t.split("!");e.match(/^budget\d+/)&&az().deleteCell(e,r)}}),az().startCacheBarrier(),aZ(_);let n=await sH();return az().endCacheBarrier(),n}class sV{events;handlers;services;unlistenServices;constructor(){this.handlers={},this.services=[],this.events=aB(),this.unlistenServices=[]}method(t,e){if(null!=this.handlers[t])throw Error("Conflicting method name, names must be globally unique: "+t);this.handlers[t]=e}service(t){this.services.push(t)}combine(...t){for(let e of t)for(let[t,r]of(Object.keys(e.handlers).forEach(t=>{this.method(t,e.handlers[t])}),e.services.forEach(t=>{this.service(t)}),e.events.all.entries()))for(let e of r)this.events.on(t,e)}startServices(){this.unlistenServices.length>0&&n8(Error("App: startServices called while services are already running")),this.unlistenServices=this.services.map(t=>t())}stopServices(){this.unlistenServices.forEach(t=>{t&&t()}),this.unlistenServices=[]}}function s$(){return new sV}let sq=s$();sq.events.on("sync",t=>{i_("sync-event",t)});let sG=globalThis.fetch;var sY=__webpack_require__(8764).Buffer;function sK(t,e){if(200!==t.status){if(500===t.status)throw new nJ(500===t.status?"internal":e);if(-1!==t.headers.get("Content-Type").toLowerCase().indexOf("application/json"))throw new nJ(JSON.parse(e).reason);throw new nJ(e)}}async function sZ(t,e,r={},n=null){let o,a;try{let s=new AbortController,u=setTimeout(()=>s.abort(),n),l=n?s.signal:null;a=await sG(t,{method:"POST",body:JSON.stringify(e),signal:l,headers:{...r,"Content-Type":"application/json"}}),clearTimeout(u),o=await a.text()}catch(t){throw new nJ("network-failure")}sK(a,o);try{a=JSON.parse(o)}catch(t){throw new nJ("parse-json",{meta:o})}if("ok"!==a.status)throw console.log("API call failed: "+t+"\nData: "+JSON.stringify(e,null,2)+"\nResponse: "+JSON.stringify(a,null,2)),new nJ(a.description||a.reason||"unknown");return a.data}async function sJ(t,e,r){let n,o;try{n=await sG(t,{method:"POST",body:aD?e:sY.from(e),headers:{"Content-Length":e.length,"Content-Type":"application/actual-sync",...r}})}catch(t){throw new nJ("network-failure")}return o=n.arrayBuffer?sY.from(await n.arrayBuffer()):await n.buffer(),sK(n,o.toString()),o}function sX(t,e){return sG(t,e).then(t=>t.text())}let sQ=null;function s0(t,...e){let r=new URL(t);return r.pathname=iH(...e),r.toString()}function s1(t){sQ=null==t?null:s2(t)}function s2(t){return t?{BASE_SERVER:t,SYNC_SERVER:s0(t,"/sync"),SIGNUP_SERVER:s0(t,"/account"),GOCARDLESS_SERVER:s0(t,"/gocardless"),SIMPLEFIN_SERVER:s0(t,"/simplefin")}:sQ}let s6=[{type:"marker"}],s4=0,s3=20;function s8(){let t=(s6=s6.slice(0,s4+1)).filter(t=>"marker"===t.type);if(t.length>s3){let e=t.slice(-s3),r=s6.indexOf(e[0]);s4=(s6=s6.slice(r)).length-1}}function s5(t,e){let r=ih();if(r.undoListening&&t.length>0){s8();let{undoTag:n}=r;s6.push({type:"messages",messages:t,oldData:e,undoTag:n}),s4++}}function s7(){s6=[{type:"marker"}],s4=0}function s9(t,e){let r=ih();if(r.undoDisabled||r.undoListening)return t();s6=s6.slice(0,s4+1);let n={type:"marker",meta:e};return"marker"===s6[s6.length-1].type?s6[s6.length-1]=n:(s6.push(n),s4++),ip({undoListening:!0,undoTag:r.undoTag},t)}function ut(t){return(...e)=>s9(()=>t.apply(null,e))}async function ue(t,e,r){await ip({undoListening:!1},()=>li(t.map(t=>({...t,timestamp:tE.send()}))));let n=t.reduce((t,e)=>(t.includes(e.dataset)||t.push(e.dataset),t),[]);i_("undo-event",{messages:t,tables:n,meta:e,undoTag:r})}async function ur(){let t=s4;for(s4=Math.max(s4-1,0);s4>0&&"marker"!==s6[s4].type;)s4--;let e=s6[s4].meta,r=Math.max(s4,0),n=s6.slice(r,t+1).filter(t=>"messages"===t.type);if(n.length>0){let t=n.reduce((t,e)=>t.concat(e.messages.map(t=>un(t,e.oldData)).filter(t=>t)),[]).reverse();await ue(t,e,n[0].undoTag)}}function un(t,e){let r=r5(e,[t.dataset,t.row]);if(r){let e=t.column;return"spreadsheet_cells"===t.dataset&&(e="cachedValue"),{...t,value:r[e]}}return"spreadsheet_cells"===t.dataset?"expr"===t.column?{...t,value:null}:t:"category_mapping"!==t.dataset&&"payee_mapping"!==t.dataset?"zero_budget_months"===t.dataset||"zero_budgets"===t.dataset||"reflect_budgets"===t.dataset?["buffered","amount","carryover"].includes(t.column)?{...t,value:0}:null:"notes"===t.dataset?{...t,value:null}:{...t,column:"tombstone",value:1}:null}async function ui(){let t="marker"===s6[s4].type?s6[s4].meta:null,e=s4;for(s4=Math.min(s4+1,s6.length-1);s4<s6.length-1&&"marker"!==s6[s4].type;)s4++;let r=s4,n=s6.slice(e+1,r+1).filter(t=>"messages"===t.type);if(n.length>0){let e=n.reduce((t,e)=>t.concat(e.messages).concat(uo(e.messages,e.oldData)),[]);await ue(e,t,n[n.length-1].undoTag)}}function uo(t,e){let r=new Set;return t.forEach(t=>{r5(e,[t.dataset,t.row])||["zero_budget_months","zero_budgets","reflect_budgets","notes","category_mapping","payee_mapping"].includes(t.dataset)||r.add(t.dataset+"."+t.row)}),[...r].map(t=>{let[e,r]=t.split(".");return{dataset:e,row:r,column:"tombstone",value:0,timestamp:tE.send()}})}var ua=__webpack_require__(8764).Buffer;let us="aes-256-gcm";function uu(t){if("aes-256-gcm"===t)return"AES-GCM";throw Error("unsupported crypto algorithm: "+t)}function ul(t){return ua.from(crypto.getRandomValues(new Uint8Array(t)))}async function uc(t,e){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:uu(us),iv:r,tagLength:128},t.getValue().raw,e),o=(n=ua.from(n)).slice(-16);return{value:n=n.slice(0,-16),meta:{keyId:t.getId(),algorithm:us,iv:ua.from(r).toString("base64"),authTag:o.toString("base64")}}}async function uf(t,e,r){let{algorithm:n,iv:o,authTag:a}=r,s=await crypto.subtle.decrypt({name:uu(n),iv:ua.from(o,"base64"),tagLength:128},t.getValue().raw,ua.concat([e,ua.from(a,"base64")]));return ua.from(s)}async function ud({secret:t,salt:e}){let r=ua.from(t),n=ua.from(e),o=await crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),a=await crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",salt:n,iterations:1e4},o,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),s=await crypto.subtle.exportKey("raw",a);return{raw:a,base64:ua.from(s).toString("base64")}}async function up(t){return{raw:await crypto.subtle.importKey("raw",ua.from(t,"base64"),{name:"AES-GCM"},!1,["encrypt","decrypt"]),base64:t}}let uh={};class uy{id;value;constructor({id:t}){this.id=t||K()}async createFromPassword({password:t,salt:e}){this.value=await ud({secret:t,salt:e})}async createFromBase64(t){this.value=await up(t)}getId(){return this.id}getValue(){return this.value}serialize(){return{id:this.id,base64:this.value.base64}}}function ug(t){if(null==t||null==uh[t])throw Error("missing-key");return uh[t]}function um(t){return t in uh}function u_(t,e){return uc(ug(e),t)}function ub(t,e){return uf(ug(e.keyId),t,e)}function uw(t){return ul(t)}async function uE(t){let e;t instanceof uy?e=t:(e=new uy({id:t.id}),await e.createFromBase64(t.base64)),uh[e.getId()]=e}function uv(t){delete uh[t.getId()]}function uS(){uh={}}async function uT({id:t,password:e,salt:r}){let n=new uy({id:t});return await n.createFromPassword({password:e,salt:r}),n}var uO=__webpack_require__(8764).Buffer;function uA(t){return uO.isBuffer(t)?t:uO.from(t)}async function uI(t,e,r,n){let{encryptKeyId:o}=aF(),a=new tS.SyncRequest;for(let t=0;t<n.length;t++){let e=n[t],r=new tS.MessageEnvelope;r.setTimestamp(e.timestamp.toString());let s=new tS.Message;s.setDataset(e.dataset),s.setRow(e.row),s.setColumn(e.column),s.setValue(e.value);let u=s.serializeBinary();if(o){let t;let e=new tS.EncryptedData;try{t=await u_(u,o)}catch(t){throw new nQ("encrypt-failure",{isMissingKey:"missing-key"===t.message})}e.setData(t.value),e.setIv(uO.from(t.meta.iv,"base64")),e.setAuthtag(uO.from(t.meta.authTag,"base64")),r.setContent(e.serializeBinary()),r.setIsencrypted(!0)}else r.setContent(u);a.addMessages(r)}return a.setGroupid(t),a.setFileid(e),a.setKeyid(o),a.setSince(r.toString()),a.serializeBinary()}async function uN(t){let{encryptKeyId:e}=aF(),r=tS.SyncResponse.deserializeBinary(t),n=JSON.parse(r.getMerkle()),o=r.getMessagesList(),a=[];for(let t=0;t<o.length;t++){let r;let n=o[t],s=tE.parse(n.getTimestamp());if(n.getIsencrypted()){let t;let o=tS.EncryptedData.deserializeBinary(n.getContent());try{t=await ub(uA(o.getData()),{keyId:e,algorithm:"aes-256-gcm",iv:uA(o.getIv()),authTag:uA(o.getAuthtag())})}catch(t){throw console.log(t),new nQ("decrypt-failure",{isMissingKey:"missing-key"===t.message})}r=tS.Message.deserializeBinary(t)}else r=tS.Message.deserializeBinary(n.getContent());a.push({timestamp:s,dataset:r.getDataset(),row:r.getRow(),column:r.getColumn(),value:r.getValue()})}return{messages:a,merkle:n}}function uD(){let t=lT("SELECT timestamp FROM messages_crdt",[],!0),e=k();for(let r=0;r<t.length;r++)e=B(e,tE.parse(t[r].timestamp));return{numMessages:t.length,trie:e}}async function uR(){let t=uD(),e=tp();e.merkle=t.trie,lT(lI("INSERT OR REPLACE INTO messages_clock (id, clock) VALUES (1, ?)"),[ty(e)])}function uC(t){return void 0!==t.error}async function uM(){return(await uw(12)).toString()}async function ux(t){let e=new tS.Message;e.setDataset(await uM()),e.setRow(await uM()),e.setColumn(await uM()),e.setValue(await uM());let r=e.serializeBinary();return await u_(r,t)}var uk=__webpack_require__(5285),uL=__webpack_require__.n(uk),uF=__webpack_require__(8764).Buffer;let uP=7;async function uB(t){return 200!==t.status?t.text().then(e=>{throw new nX(t.status,e)}):t}async function uU(...t){let e=await sG(...t);return(e=await uB(e)).json()}async function uj(){let t;let e=await t5("user-token"),{cloudFileId:r,encryptKeyId:n}=aF();try{t=await sZ(s2().SYNC_SERVER+"/user-get-key",{token:e,fileId:r})}catch(t){return console.log(t),{valid:!1,error:{reason:"network"}}}return{valid:t.id==n&&(null==n||um(n))}}async function uW(t){let e=await t5("user-token"),{cloudFileId:r}=aF();try{await sZ(s2().SYNC_SERVER+"/reset-user-file",{token:e,fileId:r})}catch(t){if(t instanceof nJ)return{error:{reason:"unauthorized"===t.reason?"unauthorized":"network"}};return{error:{reason:"internal"}}}if(t)try{await sZ(s2().SYNC_SERVER+"/user-create-key",{token:e,fileId:r,keyId:t.key.getId(),keySalt:t.salt,testContent:t.testContent})}catch(t){if(t instanceof nJ)return{error:{reason:"network"}};return{error:{reason:"internal"}}}return{}}async function uH(){let{id:t,budgetName:e}=aF();if(!e)return null;let r=i$(t),n=new(uL());return await id(async()=>{let t=await oo(iH(r,"db.sqlite"),"binary"),e=await iP(t);iM(e,`
        DELETE FROM kvcache;
        DELETE FROM kvcache_key;
      `);let o=await iU(e);iB(e);let a=JSON.parse(await oo(iH(r,"metadata.json")));a.resetClock=!0;let s=uF.from(JSON.stringify(a),"utf8");n.addFile("db.sqlite",uF.from(o)),n.addFile("metadata.json",s)}),uF.from(n.toBuffer())}async function uz(t,e){let r,n,o;try{n=(r=new(uL())(e)).getEntries()}catch(t){throw n4("not-zip-file")}let a=n.find(t=>t.entryName.includes("db.sqlite")),s=n.find(t=>t.entryName.includes("metadata.json"));if(!a||!s)throw n4("invalid-zip-file");let u=r.readFile(a),l=r.readFile(s);try{o=JSON.parse(l.toString("utf8"))}catch(t){throw n4("invalid-meta-file")}let c=i$((o={...o,cloudFileId:t.fileId,groupId:t.groupId,lastUploaded:rk(),encryptKeyId:t.encryptMeta?t.encryptMeta.keyId:null}).id);if(await oe(c)){let t=iH(c,"db.sqlite"),e=iH(c,"metadata.json");await oe(t)&&await os(t),await oe(e)&&await os(e)}else await or(c);return await oa(iH(c,"db.sqlite"),u),await oa(iH(c,"metadata.json"),JSON.stringify(o)),{id:o.id}}async function uV(){let t;let e=await t5("user-token");if(!e)throw n3("unauthorized");let r=await uH();if(null==r)return;let{id:n,groupId:o,budgetName:a,cloudFileId:s,encryptKeyId:u}=aF(),l=s,c=r,f=null;if(u){let t;try{t=await u_(r,u)}catch(t){throw n3("encrypt-failure",{isMissingKey:"missing-key"===t.message})}c=t.value,f=t.meta}l||(l=K());try{t=await uU(s2().SYNC_SERVER+"/upload-user-file",{method:"POST",headers:{"Content-Length":c.length,"Content-Type":"application/encrypted-file","X-ACTUAL-TOKEN":e,"X-ACTUAL-FILE-ID":l,"X-ACTUAL-NAME":encodeURIComponent(a),"X-ACTUAL-FORMAT":2,...f?{"X-ACTUAL-ENCRYPT-META":JSON.stringify(f)}:null,...o?{"X-ACTUAL-GROUP-ID":o}:null},body:c})}catch(t){if(console.log("Upload failure",t),t instanceof nJ)throw n3("unauthorized"===t.reason?"unauthorized":t.reason||"network");throw n3("internal")}if("ok"===t.status)aF()&&aF().id===n&&await ak({lastUploaded:rk(),cloudFileId:l,groupId:t.groupId});else throw n3("internal")}async function u$(){let{cloudFileId:t,groupId:e,lastUploaded:r}=aF(),n=r&&rW(r,uP),o=rk();(!r||!(o<n))&&t&&e&&uV().catch(()=>{})}async function uq(t){let e=await t5("user-token");await sZ(s2().SYNC_SERVER+"/delete-user-file",{token:e,fileId:t})}async function uG(){let t;let e=await t5("user-token");if(!e)return null;try{t=await uU(s2().SYNC_SERVER+"/list-user-files",{headers:{"X-ACTUAL-TOKEN":e}})}catch(t){return console.log("Unexpected error fetching file list from server",t),null}return"error"===t.status?(console.log("Error fetching file list from server",t),null):t.data.map(t=>({...t,hasKey:um(t.encryptKeyId)}))}async function uY(t){let e=await t5("user-token"),r=s2().SYNC_SERVER,n=sG(`${r}/download-user-file`,{headers:{"X-ACTUAL-TOKEN":e,"X-ACTUAL-FILE-ID":t}}).then(uB).then(t=>t.arrayBuffer?t.arrayBuffer().then(t=>uF.from(t)):t.buffer()).catch(t=>{throw console.log("Download failure",t),n4("download-failure")}),o=uU(`${r}/get-user-file-info`,{headers:{"X-ACTUAL-TOKEN":e,"X-ACTUAL-FILE-ID":t}}).catch(e=>{throw console.log("Error fetching file info",e),n4("internal",{fileId:t})}),[a,s]=await Promise.all([o,n]);if("ok"!==a.status)throw console.log("Could not download file from the server. Are you sure you have the right file ID?",a),n4("internal",{fileId:t});let u=a.data,l=s;if(u.encryptMeta)try{l=await ub(l,u.encryptMeta)}catch(t){throw n4("decrypt-failure",{isMissingKey:"missing-key"===t.message})}return uz(u,l)}async function uK(t){if(!t){let{valid:t,error:e}=await uj();if(e)return{error:e};if(!t)return{error:{reason:"file-has-new-key"}}}let{error:e}=await uW(t);if(e)return{error:e};if(await id(async()=>{await lO(`
      DELETE FROM messages_crdt;
      DELETE FROM messages_clock;
      DELETE FROM transactions WHERE tombstone = 1;
      DELETE FROM accounts WHERE tombstone = 1;
      DELETE FROM payees WHERE tombstone = 1;
      DELETE FROM categories WHERE tombstone = 1;
      DELETE FROM category_groups WHERE tombstone = 1;
      DELETE FROM schedules WHERE tombstone = 1;
      DELETE FROM rules WHERE tombstone = 1;
      ANALYZE;
      VACUUM;
    `),await lS()}),await ak({groupId:null,lastSyncedTimestamp:null,lastUploaded:null}),t){let{key:e}=t,{cloudFileId:r}=aF(),n=JSON.parse(await t5("encrypt-keys")||"{}");n[r]=e.serialize(),await t7("encrypt-keys",JSON.stringify(n)),await ak({encryptKeyId:e.getId()})}try{await uV()}catch(t){if(t.reason)return{error:t};return n8(t),{error:{reason:"upload-failure"}}}finally{i_("prefs-updated")}return{}}let uZ=1e3,uJ="enabled";function uX(t){let e=uJ;switch(t){case"enabled":uJ="enabled";break;case"offline":uJ="offline";break;case"disabled":uJ="disabled";break;case"import":uJ="import";break;default:throw Error("setSyncingMode: invalid mode: "+t)}return e}function uQ(t){switch(t){case"enabled":return"enabled"===uJ||"offline"===uJ;case"disabled":return"disabled"===uJ||"import"===uJ;case"offline":return"offline"===uJ;case"import":return"import"===uJ;default:throw Error("checkSyncingMode: invalid mode: "+t)}}function u0(t,e){let{dataset:r,row:n,column:o,value:a}=t;if("prefs"===r);else{let t;try{t=e?{sql:`UPDATE ${r} SET ${o} = ? WHERE id = ?`,params:[a,n]}:{sql:`INSERT INTO ${r} (id, ${o}) VALUES (?, ?)`,params:[n,a]},lT(lI(t.sql),t.params)}catch(e){throw new nQ("invalid-schema",{error:{message:e.message,stack:e.stack},query:t})}}}async function u1(t,e){let r=[],n=100;for(let o=0;o<e.length;o+=n){let a;let s=e.slice(o,o+n),u=`${t}.id`;"transactions"===t?(a=`
        SELECT t.*, c.transferId AS category
        FROM transactions t
        LEFT JOIN category_mapping c ON c.id = t.category
      `,u="t.id"):a=`SELECT * FROM ${t}`,a+=" WHERE "+s.map(()=>`${u} = ?`).join(" OR ");try{let t=await lT(a,s,!0);r=r.concat(t)}catch(t){throw new nQ("invalid-schema",{error:{message:t.message,stack:t.stack},query:{sql:a,params:s}})}}return r}function u2(t){if(null===t)return"0:";if("number"==typeof t)return"N:"+t;if("string"==typeof t)return"S:"+t;throw Error("Unserializable value type: "+JSON.stringify(t))}function u6(t){switch(t[0]){case"0":return null;case"N":return parseFloat(t.slice(2));case"S":return t.slice(2)}throw Error("Invalid type key for value: "+t)}let u4=[];function u3(t){return u4.push(t),()=>{u4=u4.filter(e=>e!==t)}}async function u8(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r],{dataset:o,row:a,column:s,timestamp:u}=n,l=u.toString(),c=lT(lI("SELECT timestamp FROM messages_crdt WHERE dataset = ? AND row = ? AND column = ? AND timestamp >= ?"),[o,a,s,l],!0);0===c.length?e.push(n):c[0].timestamp!==l&&e.push({...n,old:!0})}return e}function u5(t){lD(()=>{for(let e=0;e<t.length;e++){let r=t[e],{dataset:n}=r;if(!r.old){try{u0(r)}catch(t){u0(r,!0)}if("prefs"===n)throw Error("Cannot set prefs while importing")}}})}let u7=n7(async t=>{let e,r;if(uQ("import")){u5(t);return}uQ("enabled")&&(t=await u8(t));let n={};async function o(){let t=new Map;for(let e of Object.keys(n)){let r=await u1(e,n[e]);for(let n=0;n<r.length;n++){let o=r[n];r8(t,[e,o.id],o)}}return t}(t=[...t].sort((t,e)=>{let r=t.timestamp?t.timestamp.toString():"",n=e.timestamp?e.timestamp.toString():"";return r<n?-1:r>n?1:0})).forEach(t=>{"prefs"!==t.dataset&&(null==n[t.dataset]&&(n[t.dataset]=[]),n[t.dataset].push(t.row))});let a={},s=await o();s5(t,s),uQ("enabled")&&(r=(e=tp()).merkle),az()&&az().startCacheBarrier(),lD(()=>{let n=new Set;for(let e of t){let{dataset:t,row:o,column:u,timestamp:l,value:c}=e;e.old||(u0(e,r5(s,[t,o])||n.has(t+o)),"prefs"===t?a[o]=c:n.add(t+o)),uQ("enabled")&&(lT(lI(`INSERT INTO messages_crdt (timestamp, dataset, row, column, value)
           VALUES (?, ?, ?, ?, ?)`),[l.toString(),t,o,u,u2(c)]),r=B(r,l))}uQ("enabled")&&(r=W(r),lT(lI("INSERT OR REPLACE INTO messages_clock (id, clock) VALUES (1, ?)"),[ty({...e,merkle:r})]))}),uQ("enabled")&&(e.merkle=r),Object.keys(a).length>0&&(ak(a,{avoidSync:!0}),a.budgetType&&sz(a.budgetType),i_("prefs-updated"));let u=await o();az()&&(aQ(),sU(s,u),az().triggerDatabaseChanges(s,u),a0(),az().endCacheBarrier()),u4.forEach(t=>t(s,u));let l=ll(t.filter(t=>!t.old));return sq.events.emit("sync",{type:"applied",tables:l,data:u,prevData:s}),t});function u9(t){return t.forEach(t=>{tE.recv(t.timestamp)}),id(()=>u7(t))}async function lt(t){try{await u7(t)}catch(t){throw t instanceof nQ&&("invalid-schema"===t.reason?sq.events.emit("sync",{type:"error",subtype:"apply-failure",meta:t.meta}):sq.events.emit("sync",{type:"error",meta:t.meta})),t}await lu()}let le=!1,lr=[];async function ln(t){if(le){await t();return}le=!0;let e=[];try{await t()}finally{le=!1,e=lr,lr=[]}e.length>0&&await lt(e)}async function li(t){if(!le)return lt(t);lr=lr.concat(t)}function lo(t){return lT("SELECT timestamp, dataset, row, column, value FROM messages_crdt WHERE timestamp > ?",[t],!0)}function la(){ls&&(clearTimeout(ls),ls=null)}let ls=null;function lu(){la(),uQ("enabled")&&!uQ("offline")&&(ls=setTimeout(lf,uZ))}function ll(t){return t.reduce((t,e)=>{let r="schedules_next_date"===e.dataset?"schedules":e.dataset;return t.includes(r)||t.push(r),t},[])}async function lc(){let t=await lf();return uC(t)?(await a1(),t):{}}let lf=n9(async function(){let t;sq.events.emit("sync",{type:"start"});try{t=await ld(null,0,null)}catch(t){return console.log(t),t instanceof nQ?"out-of-sync"===t.reason?(n8(t),sq.events.emit("sync",{type:"error",subtype:"out-of-sync",meta:t.meta})):"invalid-schema"===t.reason?sq.events.emit("sync",{type:"error",subtype:"invalid-schema",meta:t.meta}):"decrypt-failure"===t.reason||"encrypt-failure"===t.reason?sq.events.emit("sync",{type:"error",subtype:t.reason,meta:t.meta}):sq.events.emit("sync",{type:"error",meta:t.meta}):t instanceof nJ?(console.log(t),"unauthorized"===t.reason?(sq.events.emit("sync",{type:"unauthorized"}),t7("readOnly","true")):"network-failure"===t.reason?sq.events.emit("sync",{type:"error",subtype:"network"}):sq.events.emit("sync",{type:"error",subtype:t.reason})):(n8(t),sq.events.emit("sync",{type:"error"})),{error:{message:t.message,reason:t.reason,meta:t.meta}}}let e=ll(t);return sq.events.emit("sync",{type:"success",tables:e,syncDisabled:uQ("disabled")}),{messages:t}});async function ld(t,e,r){let{cloudFileId:n,groupId:o,lastSyncedTimestamp:a}=aF()||{};if(la(),uQ("disabled")||uQ("offline"))return[];let s=tp().timestamp.toString(),u=t||a||new tE(Date.now()-3e5,0,"0").toString(),l=lo(u),c=await t5("user-token");aI.info("Syncing since",u,l.length,"(attempt: "+e+")");let f=await uI(o,n,u,l),d=await sJ(s2().SYNC_SERVER+"/sync",f,{"X-ACTUAL-TOKEN":c});if(!aF()||aF().groupId!==o)return[];let p=await uN(d);aI.info("Got messages from server",p.messages.length);let h=tp().timestamp.toString()!==s,y=[];p.messages.length>0&&(y=await u9(p.messages.map(t=>({...t,value:u6(t.value)}))));let g=j(p.merkle,tp().merkle);if(null!==g){if(e>=10&&g===r||e>=100){aI.info("SENT -------"),aI.info(JSON.stringify(l)),aI.info("RECEIVED -------"),aI.info(JSON.stringify(p.messages));let t=uD();if(console.log(e,"messages:",l.length,l.length>0?l[0]:null,"res.messages:",p.messages.length,p.messages.length>0?p.messages[0]:null,"clientId",tp().timestamp.node(),"groupId",o,"diffTime:",g,g===r,"local clock:",tp().timestamp.toString(),tp().merkle.hash,"rebuilt hash:",t.numMessages,t.trie.hash,"server hash:",p.merkle.hash,"localTimeChanged:",h),t.trie.hash===p.merkle.hash){let t=await lC("SELECT * FROM messages_clock");1!==t.length&&console.log("Bad number of clocks:",t.length),console.log("Merkle hash in db:",tg(t[0]).merkle.hash)}throw new nQ("out-of-sync")}y=y.concat(await ld(new tE(g,0,"0").toString(),h?0:e+1,g))}else await ak({lastSyncedTimestamp:tp().timestamp.toString()});return y}let lp=16384;function lh(t,e){let r=t[e-1],n=t[e];return r?n?(r.sort_order+n.sort_order)/2:r.sort_order+lp:n.sort_order/2}function ly(t,e){let r=t.findIndex(t=>t.id===e),n=t[r],o=t[r-1],a=[];if(e&&-1!==r){if(n.sort_order-(o?o.sort_order:0)<=2){let e=r,n=Math.floor(t[e].sort_order)+lp;for(;e<t.length&&!(n<=t[e].sort_order);)a.push({id:t[e].id,sort_order:n}),e++,n+=lp}return{updates:a,sort_order:lh(t,r)}}{let e;return{updates:a,sort_order:e=t.length>0?t[t.length-1].sort_order+lp:lp}}}let lg=null,lm=null;function l_(){return lg}async function lb(t){lm&&await iB(lm),lg=iH(i$(t),"db.sqlite"),lE(await iP(lg))}async function lw(){lm&&(await iB(lm),lE(null))}function lE(t){lm=t,lN()}function lv(){return lm}async function lS(){let t=await lM("SELECT * FROM messages_clock");if(t)td(tg(t.clock));else{let t=th(new tE(0,0,tm()));td(t),await lT("INSERT INTO messages_clock (id, clock) VALUES (?, ?)",[1,ty(t)])}}function lT(t,e,r){return iC(lm,t,e,r)}function lO(t){iM(lm,t)}let lA=new(nT())({max:100});function lI(t){let e=lA.get(t);if(e)return e;let r=iR(lm,t);return lA.set(t,r),r}function lN(){lA=new(nT())({max:100})}function lD(t){return ik(lm,t)}function lR(t){return iL(lm,t)}async function lC(t,e){return lT(t,e,!0)}async function lM(t,e){let r=await lT(t,e,!0);return 0===r.length?null:r[0]}function lx(t,e){let r=lT(t,e,!0);return 0===r.length?null:r[0]}async function lk(t,e){return lT(t,e)}async function lL(t,e){return(await lT("SELECT * FROM "+t+" WHERE id = ?",[e],!0))[0]}async function lF(t,e){let r=Object.keys(e).filter(t=>"id"!==t);if(null==e.id)throw Error("update: id is required");await li(r.map(r=>({dataset:t,row:e.id,column:r,value:e[r],timestamp:tE.send()})))}async function lP(t,e){return e.id||(e={...e,id:K()}),await lB(t,e),e.id}async function lB(t,e){let r=Object.keys(e).filter(t=>"id"!==t);if(null==e.id)throw Error("insert: id is required");await li(r.map(r=>({dataset:t,row:e.id,column:r,value:e[r],timestamp:tE.send()})))}async function lU(t,e){await li([{dataset:t,row:e,column:"tombstone",value:1,timestamp:tE.send()}])}async function lj(t){let e=await lC(`
    SELECT id FROM ${t} WHERE tombstone = 0
  `);await Promise.all(e.map(({id:e})=>lU(t,e)))}async function lW(t,e,r){return(await lT(e,r,!0)).map(e=>oT(al,ac,t,e)).filter(Boolean)}async function lH(t,e,r){let n=await lW(t,e,r);return n.length>0?n[0]:null}function lz(t,e){return e.id||(e={...e,id:K()}),lP(t,ov(al,ac,t,e))}function lV(t,e){return lF(t,oS(al,ac,t,e))}async function l$(){return await lC(`
    SELECT c.* FROM categories c WHERE c.tombstone = 0
      ORDER BY c.sort_order, c.id
  `)}async function lq(){let t=await lC(`
    SELECT cg.* FROM category_groups cg WHERE cg.tombstone = 0 ORDER BY cg.is_income, cg.sort_order, cg.id
  `),e=await lC(`
    SELECT c.* FROM categories c WHERE c.tombstone = 0
      ORDER BY c.sort_order, c.id
  `);return t.map(t=>({...t,categories:e.filter(e=>e.cat_group===t.id)}))}async function lG(t){let e=await lM("SELECT id, name, hidden FROM category_groups WHERE UPPER(name) = ? and tombstone = 0 LIMIT 1",[t.name.toUpperCase()]);if(e)throw Error(`A ${e.hidden?"hidden ":""}${e.name} category group already exists.`);let r=await lM(`
    SELECT sort_order FROM category_groups WHERE tombstone = 0 ORDER BY sort_order DESC, id DESC LIMIT 1
  `),n=(r?r.sort_order:0)+lp;return lP("category_groups",t={...og.validate(t),sort_order:n})}function lY(t){return lF("category_groups",t=og.validate(t,{update:!0}))}async function lK(t,e){let{updates:r,sort_order:n}=ly(await lC("SELECT id, sort_order FROM category_groups WHERE tombstone = 0 ORDER BY sort_order, id"),e);for(let t of r)await lF("category_groups",t);await lF("category_groups",{id:t,sort_order:n})}async function lZ(t,e){let r=await lC("SELECT * FROM categories WHERE cat_group = ?",[t.id]);await Promise.all(r.map(t=>l0(t,e))),await lU("category_groups",t.id)}async function lJ(t,{atEnd:e}={atEnd:void 0}){let r,n;return await ln(async()=>{if(await lM("SELECT id FROM categories WHERE cat_group = ? and UPPER(name) = ? and tombstone = 0 LIMIT 1",[t.cat_group,t.name.toUpperCase()]))throw Error(`Category ${t.name} already exists in group ${t.cat_group}`);if(e){let t=await lM(`
        SELECT sort_order FROM categories WHERE tombstone = 0 ORDER BY sort_order DESC, id DESC LIMIT 1
      `);r=(t?t.sort_order:0)+lp}else{let e=await lC("SELECT id, sort_order FROM categories WHERE cat_group = ? AND tombstone = 0 ORDER BY sort_order, id",[t.cat_group]),{updates:n,sort_order:o}=ly(e,e.length>0?e[0].id:null);for(let t of n)await lF("categories",t);r=o}t={...oy.validate(t),sort_order:r};let o=await lP("categories",t);await lB("category_mapping",{id:o,transferId:o}),n=o}),n}function lX(t){return lF("categories",t=oy.validate(t,{update:!0}))}async function lQ(t,e,r){if(!e)throw Error("moveCategory: groupId is required");let{updates:n,sort_order:o}=ly(await lC("SELECT id, sort_order FROM categories WHERE cat_group = ? AND tombstone = 0 ORDER BY sort_order, id",[e]),r);for(let t of n)await lF("categories",t);await lF("categories",{id:t,sort_order:o,cat_group:e})}async function l0(t,e){if(e){for(let r of(await lC("SELECT * FROM category_mapping WHERE transferId = ?",[t.id])))await lF("category_mapping",{id:r.id,transferId:e});await lF("category_mapping",{id:t.id,transferId:e})}return lU("categories",t.id)}async function l1(t){return lM("SELECT * FROM payees WHERE id = ?",[t])}async function l2(t){let e;return t=om.validate(t),await ln(async()=>{e=await lP("payees",t),await lB("payee_mapping",{id:e,targetId:e})}),e}async function l6(t){let{transfer_acct:e}=await lM("SELECT * FROM payees WHERE id = ?",[t.id]);if(!e)return lU("payees",t.id)}async function l4(t){return lU("payees",t.id)}function l3(t){return lF("payees",t=om.validate(t,{update:!0}))}async function l8(t,e){let r=r3(await lC("SELECT * FROM payees"));null==r[t].transfer_acct&&(e=e.filter(t=>null==r[t].transfer_acct),await ln(async()=>{await Promise.all(e.map(async e=>{let r=await lC("SELECT id FROM payee_mapping WHERE targetId = ?",[e]);await Promise.all(r.map(e=>lF("payee_mapping",{id:e.id,targetId:t})))})),await Promise.all(e.map(e=>Promise.all([lF("payee_mapping",{id:e,targetId:t}),lU("payees",e)])))}))}function l5(){return lC(`
    SELECT p.*, COALESCE(a.name, p.name) AS name FROM payees p
    LEFT JOIN accounts a ON (p.transfer_acct = a.id AND a.tombstone = 0)
    WHERE p.tombstone = 0 AND (p.transfer_acct IS NULL OR a.id IS NOT NULL)
    ORDER BY p.transfer_acct IS NULL DESC, p.name COLLATE NOCASE, a.offbudget, a.sort_order
  `)}function l7(){let t="20240201",e=10;return lC(`
    SELECT     p.id as id, p.name as name, p.favorite as favorite,
      p.category as category, TRUE as common, NULL as transfer_acct,
    count(*) as c, 
    max(t.date) as latest
    FROM payees p
    LEFT JOIN v_transactions t on t.payee == p.id
    WHERE LENGTH(p.name) > 0
    GROUP BY p.id
    HAVING latest > ${t}
    ORDER BY c DESC ,p.transfer_acct IS NULL DESC, p.name 
    COLLATE NOCASE
    LIMIT ${e}
  `)}function l9(){return lC(`
  SELECT p.id FROM payees p
  LEFT JOIN payee_mapping pm ON pm.id = p.id
  LEFT JOIN v_transactions_internal_alive t ON t.payee = pm.targetId
  WHERE p.tombstone = 0 AND p.transfer_acct IS NULL AND t.id IS NULL
`)}async function ct(){return(await lC(`
    SELECT p.id FROM payees p
    LEFT JOIN payee_mapping pm ON pm.id = p.id
    LEFT JOIN v_transactions_internal_alive t ON t.payee = pm.targetId
    WHERE p.tombstone = 0 AND p.transfer_acct IS NULL AND t.id IS NULL
  `)).map(t=>t.id)}async function ce(t){return lM("SELECT * FROM payees WHERE UNICODE_LOWER(name) = ? AND tombstone = 0",[t.toLowerCase()])}function cr(){return lC(`SELECT a.*, b.name as bankName, b.id as bankId FROM accounts a
       LEFT JOIN banks b ON a.bank = b.id
       WHERE a.tombstone = 0
       ORDER BY sort_order, name`)}async function cn(t){let{sort_order:e}=ly(await lC("SELECT * FROM accounts WHERE offbudget = ? ORDER BY sort_order, name",[null!=t.offbudget?t.offbudget:0]));return lP("accounts",t=oh.validate({...t,sort_order:e}))}function ci(t){return lF("accounts",t=oh.validate(t,{update:!0}))}function co(t){return lU("accounts",t.id)}async function ca(t,e){let r;let n=await lM("SELECT * FROM accounts WHERE id = ?",[t]),{updates:o,sort_order:a}=ly(r=n.closed?await lC("SELECT id, sort_order FROM accounts WHERE closed = 1 ORDER BY sort_order, name"):await lC("SELECT id, sort_order FROM accounts WHERE tombstone = 0 AND offbudget = ? ORDER BY sort_order, name",[n.offbudget]),e);await ln(async()=>{for(let t of o)lF("accounts",t);lF("accounts",{id:t,sort_order:a})})}async function cs(t){return(await lW("transactions","SELECT * FROM v_transactions WHERE id = ?",[t]))[0]}async function cu(t){if(arguments.length>1)throw Error("`getTransactions` was given a second argument, it now only takes a single argument `accountId`");return lW("transactions","SELECT * FROM v_transactions WHERE account = ?",[t])}function cl(t){return lz("transactions",t)}function cc(t){return lV("transactions",t)}async function cf(t){return lU("transactions",t.id)}async function cd(t){let e=await lM("SELECT id FROM payees WHERE UNICODE_LOWER(name) = ? AND tombstone = 0",[t.toLowerCase()]);return e?e.id:l2({name:t})}async function cp(){let t=await lM(`
    SELECT * FROM categories
      WHERE is_income = 1 AND
      LOWER(name) = 'starting balances' AND
      tombstone = 0
  `);return null===t&&(t=await lM("SELECT * FROM categories WHERE is_income = 1 AND tombstone = 0")),{id:await cd("Starting Balance"),category:t?t.id:null}}let ch=new Set(["for","and","nor","but","or","yet","so","a","an","the","aboard","about","above","across","after","against","along","amid","among","anti","around","as","at","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","considering","despite","down","during","except","excepting","excluding","following","for","from","in","inside","into","like","minus","near","of","off","on","onto","opposite","over","past","per","plus","regarding","round","save","since","than","through","to","toward","towards","under","underneath","unlike","until","up","upon","versus","via","with","within","without"]),cy=["CLI","API","HTTP","HTTPS","JSX","DNS","URL","CI","CDN","GitHub","CSS","JS","JavaScript","TypeScript","HTML","WordPress","JavaScript","Next.js","Node.js"],cg="[0-9A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",cm=RegExp(`(?:(?:(\\s?(?:^|[.\\(\\)!?;:"-])\\s*)(${cg}))|(${cg}))(${cg}*[']*${cg}*)`,"g"),c_=t=>t.map(t=>[RegExp(`\\b${t}\\b`,"gi"),t]);function cb(t){let e=t[0];return/\s/.test(e)?t.substr(1):/[()]/.test(e)?null:t}function cw(t,e={special:void 0}){return t=t.toLowerCase().replace(cm,(t,e="",r,n,o)=>{let a=cb(t);if(!a)return t;if(!r){let t=n+o;if(ch.has(t))return a}return e+(n||r).toUpperCase()+o}),c_([...cy,...e.special||[]]).forEach(([e,r])=>{t=t.replace(e,r)}),t}let cE=new Map(Object.entries({imported_payee:"imported_payee",payee:"id",date:"date",notes:"string",amount:"number",amountInflow:"number",amountOutfow:"number",category:"id",account:"id",cleared:"boolean",reconciled:"boolean",saved:"saved"}));function cv(t,e){return t<e?[t,e]:[e,t]}function cS(t){return Math.round(.075*Math.abs(t))}async function cT(){let t=(await lC("SELECT * FROM category_mapping")).map(t=>[t.id,t.transferId]),e=(await lC("SELECT * FROM payee_mapping")).map(t=>[t.id,t.targetId]);a=new Map(t.concat(e)),s&&s(),s=u3(cO)}function cO(t,e){e.forEach((t,e)=>{if(-1!==e.indexOf("mapping")){let r="category_mapping"===e?"transferId":"targetId";t.forEach(t=>{a.set(t.id,t[r])})}})}function cA(){return a}function cI(t,e,r){let n=rk();return e?"completed":r?"paid":t===n?"due":t>n&&t<=rW(n,7)?"upcoming":t<n?"missed":"scheduled"}function cN(t){let e=t.map(t=>{let e=t._conditions.find(t=>"date"===t.field);return{$and:{schedule:t.id,date:{$gte:e&&"is"===e.op?t.next_date:rH(t.next_date,2)}}}});return ad("transactions").options({splits:"all"}).filter({$or:e}).orderBy({date:"desc"}).select(["schedule","date"])}function cD(t){let e={start:rD(t.start),frequency:t.frequency.toUpperCase(),byHourOfDay:[12]};switch(t.interval&&(e.interval=t.interval),t.endMode){case"after_n_occurrences":e.count=t.endOccurrences;break;case"on_date":e.end=rD(t.endDate)}let r=t=>t.slice(0,2).toUpperCase();switch(t.frequency){case"daily":case"weekly":case"yearly":return[e];case"monthly":if(!t.patterns||!(t.patterns.length>0))return[e];{let n=t.patterns.filter(t=>"day"===t.type),o=t.patterns.filter(t=>"day"!==t.type);return[n.length>0&&{...e,byDayOfMonth:n.map(t=>t.value)},o.length>0&&{...e,byDayOfWeek:o.map(t=>[r(t.type),t.value])}].filter(Boolean)}default:throw Error("Invalid recurring date config")}}function cR(t){return{payee:t.find(t=>"is"===t.op&&"payee"===t.field)||t.find(t=>"is"===t.op&&"description"===t.field)||null,account:t.find(t=>"is"===t.op&&"account"===t.field)||t.find(t=>"is"===t.op&&"acct"===t.field)||null,amount:t.find(t=>("is"===t.op||"isapprox"===t.op||"isbetween"===t.op)&&"amount"===t.field)||null,date:t.find(t=>("is"===t.op||"isapprox"===t.op)&&"date"===t.field)||null}}function cC(t){return t&&"number"!=typeof t?Math.round((t.num1+t.num2)/2):t}class cM extends Error{}class cx{constructor(t,e){if(this.metadata={},this.duration=e&&e.duration||0,this.generators=e&&e.generators&&e.generators.slice()||[],!Number.isInteger(this.duration)||this.duration<0)throw new cM("duration must be a non-negative integer")}static set adapter(t){if(u)throw Error(`"${u.name}" has already been configured.`);u=t}static get adapter(){if(!u)throw Error("No date adapter has been configured. See rSchedule docs.");return u}static isDate(t){throw ck("isDate()")}static fromDate(t,e){throw ck("fromDate()")}static fromJSON(t){throw ck("fromJSON()")}static fromDateTime(t){throw ck("fromDateTime()")}toISOString(){return this.set("timezone","UTC").toDateTime().toISOString()}toDateTime(){return cF.fromJSON(Object.assign(Object.assign({},this.toJSON()),{generators:this.generators,metadata:this.metadata}))}}function ck(t){return Error(`You must implement the "${t}" method for this DateAdapter class`)}cx.hasTimezoneSupport=!1,function(t){t.WEEKDAYS=["SU","MO","TU","WE","TH","FR","SA"],t.MILLISECONDS_IN_SECOND=1e3,t.MILLISECONDS_IN_MINUTE=60*t.MILLISECONDS_IN_SECOND,t.MILLISECONDS_IN_HOUR=60*t.MILLISECONDS_IN_MINUTE,t.MILLISECONDS_IN_DAY=24*t.MILLISECONDS_IN_HOUR,t.MILLISECONDS_IN_WEEK=7*t.MILLISECONDS_IN_DAY}(g||(g={}));class cL extends Error{}class cF{constructor(t,e,r,n,o={}){if(this.metadata={},this.date=new Date(t),this.timezone=e||null,this.duration=r||0,this.generators=n&&n.slice()||[],!Number.isInteger(this.duration)||this.duration<0)throw new cL("duration must be a non-negative integer");o.metadata&&Object.assign(this.metadata,o.metadata),this.assertIsValid()}static fromJSON(t){return new cF(new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond)),t.timezone,t.duration,t.generators,{metadata:t.metadata})}static fromDateAdapter(t){return cF.fromJSON(Object.assign(Object.assign({},t.toJSON()),{generators:t.generators,metadata:t.metadata}))}get end(){if(this.duration)return this._end||(this._end=this.add(this.duration,"millisecond")),this._end}isEqual(t){return!!t&&(cP(this,t),this.valueOf()===t.valueOf())}isBefore(t){return cP(this,t),this.valueOf()<t.valueOf()}isBeforeOrEqual(t){return cP(this,t),this.valueOf()<=t.valueOf()}isAfter(t){return cP(this,t),this.valueOf()>t.valueOf()}isAfterOrEqual(t){return cP(this,t),this.valueOf()>=t.valueOf()}isOccurring(t){if(!this.duration)throw Error("DateTime#isOccurring() is only applicable to DateTimes with durations");return cP(this,t),t.isAfterOrEqual(this)&&t.isBeforeOrEqual(this.add(this.duration,"millisecond"))}add(t,e){switch(e){case"generator":{let e=this.generators.slice();return e.unshift(t),new cF(this.date,this.timezone,this.duration,e)}case"year":return this.forkDateTime(cJ(this.date,t));case"month":return this.forkDateTime(cX(this.date,t));case"week":return this.forkDateTime(cQ(this.date,t));case"day":return this.forkDateTime(c0(this.date,t));case"hour":return this.forkDateTime(c1(this.date,t));case"minute":return this.forkDateTime(c2(this.date,t));case"second":return this.forkDateTime(c6(this.date,t));case"millisecond":return this.forkDateTime(c4(this.date,t));default:throw Error("Invalid unit provided to `DateTime#add`")}}subtract(t,e){switch(e){case"year":return this.forkDateTime(c3(this.date,t));case"month":return this.forkDateTime(c8(this.date,t));case"week":return this.forkDateTime(c5(this.date,t));case"day":return this.forkDateTime(c7(this.date,t));case"hour":return this.forkDateTime(c9(this.date,t));case"minute":return this.forkDateTime(ft(this.date,t));case"second":return this.forkDateTime(fe(this.date,t));case"millisecond":return this.forkDateTime(fr(this.date,t));default:throw Error("Invalid unit provided to `DateTime#subtract`")}}get(t){switch(t){case"year":return this.date.getUTCFullYear();case"month":return this.date.getUTCMonth()+1;case"yearday":return cY(this.date);case"weekday":return g.WEEKDAYS[this.date.getUTCDay()];case"day":return this.date.getUTCDate();case"hour":return this.date.getUTCHours();case"minute":return this.date.getUTCMinutes();case"second":return this.date.getUTCSeconds();case"millisecond":return this.date.getUTCMilliseconds();default:throw Error("Invalid unit provided to `DateTime#set`")}}set(t,e){if("duration"===t)return new cF(this.date,this.timezone,e,this.generators);if("generators"===t)return new cF(this.date,this.timezone,this.duration,e);let r=new Date(this.date);switch(t){case"year":r.setUTCFullYear(e);break;case"month":{let t=c$(e,r.getUTCFullYear());r.getUTCDate()>t?(r.setUTCDate(1),r.setUTCMonth(e),r=c7(r,1)):r.setUTCMonth(e-1);break}case"day":r.setUTCDate(e);break;case"hour":r.setUTCHours(e);break;case"minute":r.setUTCMinutes(e);break;case"second":r.setUTCSeconds(e);break;case"millisecond":r.setUTCMilliseconds(e);break;default:throw Error("Invalid unit provided to `DateTime#set`")}return this.forkDateTime(r)}granularity(t,e={}){let r=this.forkDateTime(this.date);switch(t){case"year":r=r.set("month",1);case"month":r=r.set("day",1);break;case"week":r=cB(r,e.weekStart)}switch(t){case"year":case"month":case"week":case"day":r=r.set("hour",0);case"hour":r=r.set("minute",0);case"minute":r=r.set("second",0);case"second":r=r.set("millisecond",0);case"millisecond":return r;default:throw Error("Invalid granularity provided to `DateTime#granularity`: "+t)}}endGranularity(t,e={}){let r=this.forkDateTime(this.date);switch(t){case"year":r=r.set("month",12);case"month":r=r.set("day",c$(r.get("month"),r.get("year")));break;case"week":r=cU(r,e.weekStart)}switch(t){case"year":case"month":case"week":case"day":r=r.set("hour",23);case"hour":r=r.set("minute",59);case"minute":r=r.set("second",59);case"second":r=r.set("millisecond",999);case"millisecond":return r;default:throw Error("Invalid granularity provided to `DateTime#granularity`: "+t)}}toISOString(){return this.date.toISOString()}toDateTime(){return this}toJSON(){let t={timezone:this.timezone,year:this.get("year"),month:this.get("month"),day:this.get("day"),hour:this.get("hour"),minute:this.get("minute"),second:this.get("second"),millisecond:this.get("millisecond")};return this.duration&&(t.duration=this.duration),t}valueOf(){return this.date.valueOf()}assertIsValid(){if(isNaN(this.valueOf()))throw new cL("DateTime has invalid date.");return!0}forkDateTime(t){return new cF(t,this.timezone,this.duration,this.generators)}}function cP(t,e){if(t.timezone!==e.timezone)throw new cL("Attempted to compare a datetime to another date in a different timezone: "+JSON.stringify(t)+" and "+JSON.stringify(e));return!0}function cB(t,e){let r=cH(e).indexOf(t.get("weekday"));return t.subtract(r,"day")}function cU(t,e){let r=cH(e).indexOf(t.get("weekday"));return t.add(6-r,"day")}function cj(t,e){if(t.isAfter(e))return 1;if(t.isBefore(e))return -1;if(t.duration&&e.duration){if(t.duration>e.duration)return 1;if(t.duration<e.duration)return -1}return 0}function cW(t){return Array.from(new Map(t.map(t=>[t.toISOString(),t])).values())}function cH(t="SU"){let e=g.WEEKDAYS.slice(),r=e.indexOf(t);for(;0!==r;)cz(e),r--;return e}function cz(t,e="first"){return 0===t.length||("first"===e?t.push(t.shift()):t.unshift(t.pop())),t}function cV(t,e){if(t===e)return 0;let r=g.WEEKDAYS.indexOf(t)-g.WEEKDAYS.indexOf(e);return r>0?7-r:Math.abs(r)}function c$(t,e){return({1:31,2:cq(e),3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31})[t]}function cq(t){return cG(t)?29:28}function cG(t){return t%400==0||t%4==0&&t%100!=0}function cY(t){let e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return 1+Math.floor((t.valueOf()-e.valueOf())/g.MILLISECONDS_IN_DAY)}function cK(t){if(null===t||!0===t||!1===t)return NaN;let e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function cZ(t,e){if(arguments.length<2)throw TypeError("2 arguments required, but only "+arguments.length+" present");return new Date(t.valueOf()+cK(e))}function cJ(t,e){return cX(t,12*cK(e))}function cX(t,e){let r=cK(e),n=(t=new Date(t)).getUTCMonth()+r,o=new Date(0);o.setUTCFullYear(t.getUTCFullYear(),n,1),o.setUTCHours(0,0,0,0);let a=c$(o.getUTCMonth()+1,o.getUTCFullYear());return t.setUTCMonth(n,Math.min(a,t.getUTCDate())),t}function cQ(t,e){return c0(t,7*cK(e))}function c0(t,e){return c4(t,cK(e)*g.MILLISECONDS_IN_DAY)}function c1(t,e){return cZ(t,cK(e)*g.MILLISECONDS_IN_HOUR)}function c2(t,e){return cZ(t,cK(e)*g.MILLISECONDS_IN_MINUTE)}function c6(t,e){return cZ(t,cK(e)*g.MILLISECONDS_IN_SECOND)}function c4(t,e){let r=cK(e);return new Date(t.getTime()+r)}function c3(t,e){return cJ(t,-e)}function c8(t,e){return cX(t,-e)}function c5(t,e){return cQ(t,-e)}function c7(t,e){return c0(t,-e)}function c9(t,e){return c1(t,-e)}function ft(t,e){return c2(t,-e)}function fe(t,e){return c6(t,-e)}function fr(t,e){return c4(t,-e)}class fn extends Error{}class fi extends Error{}function fo(t,e){return t>e?1:e>t?-1:0}function fa(t){switch(t){case"YEARLY":return"year";case"MONTHLY":return"month";case"WEEKLY":return"week";case"DAILY":return"day";case"HOURLY":return"hour";case"MINUTELY":return"minute";case"SECONDLY":return"second";case"MILLISECONDLY":return"millisecond";default:throw Error("unknown freq passed to freqToGranularity()")}}function fs(t){return JSON.parse(JSON.stringify(t))}function fu(t){return t instanceof cF?cx.adapter.fromDateTime(t):t instanceof cx?t:cx.adapter.fromDate(t)}function fl(t,e){return t instanceof cF?t.timezone!==e?cx.adapter.fromDateTime(t).set("timezone",e).toDateTime():t:t instanceof cx?t.set("timezone",e).toDateTime():cx.adapter.fromDate(t).set("timezone",e).toDateTime()}function fc(t,e){return t.timezone!==e?cx.adapter.fromDateTime(t).set("timezone",e).toDateTime():t}class ff extends Error{}function fd(t){let e,r;if(t.start instanceof cF)e=t.start;else if(t.start instanceof cx)e=t.start.toDateTime();else if(cx.adapter.isDate(t.start))e=cx.adapter.fromDate(t.start).toDateTime();else throw new ff('"start" must be either a `DateAdapter` instance or an instance of the date a DateAdapter is wrapping (e.g. `StandardDateAdapter` wraps a `Date`)');if(t.end){if(t.end instanceof cF)r=t.end;else if(t.end instanceof cx)r=t.end.toDateTime();else if(cx.adapter.isDate(t.end))r=cx.adapter.fromDate(t.end).toDateTime();else throw new ff('"end" must be either be `undefined`, a `DateAdapter` instance, or an instance of the date a DateAdapter is wrapping (e.g. `StandardDateAdapter` wraps a `Date`)')}if(void 0!==t.duration){if(!Number.isInteger(t.duration))throw new ff('"duration" expects a whole number');if(t.duration<=0)throw new ff('"duration" must be greater than 0')}if(void 0!==t.count){if(!Number.isInteger(t.count))throw new ff('"count" must be a whole number');if(t.count<0)throw new ff('"count" must be greater than 0')}if(void 0!==t.end&&void 0!==t.count)throw new ff('"end" and "count" cannot both be present');return{start:e,end:r,count:t.count,duration:t.duration}}function fp(t,e){let r=fd(e),n=fs(e);return t.forEach(t=>{t.normalizeOptions(n,r)}),Object.keys(r).forEach(t=>{void 0===r[t]&&delete r[t]}),r}function fh(t){let e=fs(t);return e.start=t.start,t.end&&(e.end=t.end),e}class fy extends Error{}class fg{constructor(t){this.date=t}}class fm{constructor(t){this.date=t}}function f_(t){return e=>t.reduce((t,r)=>{let n=r.get(e);return n&&t.push(n),t},[])}class fb{constructor(t,e,r){this.options=e,this.args=r,this.rules=[],this.iterator=void 0===this.options.count?this.iterate():this.args.reverse?this.iterateWithReverseCount():this.iterateWithCount(),this.options=Object.assign(Object.assign({},fs(e)),{start:e.start,end:e.end}),this.reverse=void 0===this.options.count&&r.reverse||!1;let{start:n,end:o}=this.normalizeDateTimeArgs(r);if(void 0!==e.count?this.start=e.start:n&&e.start?this.start=n.isAfterOrEqual(e.start)?n:e.start:this.start=n||e.start,o&&e.end?this.end=o.isBeforeOrEqual(e.end)?o:e.end:this.end=o||e.end,this.args.reverse&&!(void 0!==e.count||this.end))throw Error("When iterating in reverse, the rule must have an `end` or `count` property or you must provide an `end` argument.");this.isInfinite=!this.end&&void 0===this.options.count,this.hasDuration=!!this.options.duration,this.rules=Array.isArray(t)?t:t(this)}[Symbol.iterator](){return this.iterator}next(t){return this.iterator.next(t)}*iterateWithReverseCount(){let t;let e=Array.from(this.iterateWithCount()).reverse().slice(),r=e.shift();for(;r;){if(t&&t.skipToDate&&r.isAfter(t.skipToDate)){r=e.shift();continue}if((t=yield r)&&t.skipToDate&&t.skipToDate.isAfterOrEqual(r))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");r=e.shift()}}*iterateWithCount(){let t;if(0===this.options.count)return;let e=this.iterate(),r=this.args.start||this.start,n=e.next().value,o=1;for(;n&&o<=this.options.count;){if(o++,n.isBefore(r)||t&&t.skipToDate&&n.isBefore(t.skipToDate)){n=e.next().value;continue}if((t=yield n)&&t.skipToDate&&t.skipToDate.isBeforeOrEqual(n))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");n=e.next().value}}*iterate(){let t=this.start;this.reverse&&(t=this.end);let e=this.nextDate(t);for(;e;){let t=yield this.normalizeRunOutput(e);if(t&&t.skipToDate){if(this.reverse?t.skipToDate.isAfterOrEqual(e):t.skipToDate.isBeforeOrEqual(e))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");e=this.nextDate(t.skipToDate)}else e=this.nextDate(this.reverse?e.subtract(1,"millisecond"):e.add(1,"millisecond"))}}nextDate(t){let e=this.runRules(t.set("generators",[]));if(this.isDatePastEnd(e.date))return null;let r=0;for(;e instanceof fm&&r<50;){if(e=this.runRules(e.date),this.isDatePastEnd(e.date))return null;r++}if(e instanceof fm)throw new fy(`Failed to find a matching occurrence in ${r} iterations. Last iterated date: "${e.date.toISOString()}"`);if(this.reverse?t.isBefore(e.date):t.isAfter(e.date))throw new fy("An error occurred in a recurrence rule. If this happened using the rSchedule provided recurrence rules, you should open an issue in the rSchedule repo. The maintainer is going to want to know how to recreate the error.");return e.date}runRules(t){let e=new fg(t);for(let t of this.rules){if(e instanceof fm)break;e=t.run(e.date)}return e}isDatePastEnd(t){return this.reverse?t.isBefore(this.start):this.end&&t.isAfter(this.end)}normalizeRunOutput(t){return this.hasDuration?t.set("duration",this.options.duration):t}normalizeDateTimeArgs(t){return{start:t.start&&fc(t.start,this.options.start.timezone),end:t.end&&fc(t.end,this.options.start.timezone)}}}class fw{constructor(t={}){this.timezone=void 0!==t.timezone?t.timezone:null,this.maxDuration=t.maxDuration||0}get firstDate(){if(void 0!==this._firstDate)return this._firstDate;let t=this._run().next().value;return this._firstDate=t?this.dateAdapter.fromDateTime(t):null,this._firstDate}get lastDate(){if(void 0!==this._lastDate)return this._lastDate;if(this.isInfinite)return this._lastDate=null,null;let t=this._run({reverse:!0}).next().value;return this._lastDate=t?this.dateAdapter.fromDateTime(t):null,this._lastDate}pipe(...t){return t.reduce((t,e)=>e({base:t,timezone:this.timezone}),this)}occurrences(t={}){return new fE(this,this.normalizeOccurrencesArgs(t))}collections(t={}){return new fS(this,this.normalizeCollectionsArgs(t))}occursBetween(t,e,r={}){let n=this.normalizeDateInput(t),o=this.normalizeDateInput(e);if(this.hasDuration&&!r.excludeEnds){let t=this.getMaxDuration("occursBetween",r);for(let e of this._run({start:n.subtract(t,"millisecond"),end:o,reverse:!0}))if(!e.end.isBefore(n))return!0;return!1}for(let t of this._run({start:n,end:o})){if(r.excludeEnds){if(t.isEqual(n))continue;if(t.isEqual(o))break}return!0}return!1}occursOn(t){let e=this.normalizeOccursOnArgs(t);if(e.weekday){if(this.isInfinite&&!e.before)throw new fn("When calling `occursOn()` with a `weekday` argument and an occurrence object that has infinite occurrences, you must include a `before` argument as well.");let t=e.after&&(e.excludeEnds?e.after.add(1,"day"):e.after),r=e.before&&(e.excludeEnds?e.before.subtract(1,"day"):e.before),n=this._run({start:t,end:r}),o=n.next().value;if(!o)return!1;for(;o;){if(o.get("weekday")===e.weekday)return!0;o=n.next({skipToDate:o.add(cV(o.get("weekday"),e.weekday),"day").granularity("day")}).value}return!1}if(!e.date)throw new fn('"occursOn()" must be called with either a "date" or "weekday" argument');if(this.hasDuration){let t=this.getMaxDuration("occursOn",e);for(let r of this._run({start:e.date.subtract(t,"millisecond"),end:e.date}))if(!r.end.isBefore(e.date)){if(r.isAfter(e.date))return!1;return!0}return!1}for(let t of this._run({start:e.date,end:e.date}))return!!t;return!1}occursAfter(t,e={}){let r=this.normalizeDateInput(t);if(this.hasDuration&&!e.excludeStart){let t=this.getMaxDuration("occursAfter",e);for(let e of this._run({start:r.subtract(t,"millisecond")}))if(!e.end.isBefore(r))return!0;return!1}for(let t of this._run({start:r}))if(!(e.excludeStart&&t.isEqual(r)))return!0;return!1}occursBefore(t,e={}){let r=this.normalizeDateInput(t);if(this.hasDuration&&e.excludeStart){for(let t of this._run({end:r,reverse:!0}))if(!t.end.isAfterOrEqual(r))return!0;return!1}for(let t of this._run({end:r,reverse:!0}))if(!(e.excludeStart&&t.isEqual(r)))return!0;return!1}get dateAdapter(){return cx.adapter}normalizeOccurrencesArgs(t){return Object.assign(Object.assign({},t),{start:this.normalizeDateInput(t.start),end:this.normalizeDateInput(t.end)})}normalizeCollectionsArgs(t){if(void 0!==t.reverse)throw new fn("`collections()` does not support the `reverse` option at this time.");return Object.assign(Object.assign({},t),{start:this.normalizeDateInput(t.start),end:this.normalizeDateInput(t.end)})}normalizeOccursOnArgs(t={}){return Object.assign(Object.assign({},t),{date:this.normalizeDateInput(t.date),after:this.normalizeDateInput(t.after),before:this.normalizeDateInput(t.before),excludeDates:t.excludeDates&&t.excludeDates.map(t=>this.normalizeDateInput(t))})}normalizeRunArgs(t){return Object.assign(Object.assign({},t),{start:this.normalizeDateInput(t.start),end:this.normalizeDateInput(t.end)})}normalizeDateInput(t){return t?fl(t,this.timezone):void 0}normalizeDateInputToAdapter(t){if(t)return fu(t)}normalizeRunOutput(t){return fc(t,this.timezone)}getMaxDuration(t,e){let r=e.maxDuration||this.maxDuration;if(!Number.isInteger(r))throw new fn(`When an occurrence generator has a duration, a 'maxDuration' argument must be supplied to ${t}().`);return r}}class fE{constructor(t,e){this.iterable=t,this.args=e,this[Symbol.iterator]=()=>this.occurrenceIterator(),this.iterator=t._run(e),this.isInfinite=t.isInfinite}next(t){return this.occurrenceIterator(t).next()}toArray(){if(this.args.end||this.args.take||!this.isInfinite)return Array.from(this.occurrenceIterator());throw new fi("OccurrenceIterator#toArray() can only be called if the iterator is not infinite, or you provide and `end` argument, or you provide a `take` argument.")}*occurrenceIterator(t){let e=this.normalizeRunArgs(t),r=this.iterator.next(e).value;for(;r;){let t=yield this.normalizeDateOutput(r);e=this.normalizeRunArgs(t),r=this.iterator.next(e).value}}normalizeRunArgs(t){return{skipToDate:this.normalizeDateInput(t&&t.skipToDate)}}normalizeDateInput(t){return t?fl(t,this.iterable.timezone):void 0}normalizeDateOutput(t){if(t)return t?cx.adapter.fromDateTime(t):void 0}}class fv{constructor(t=[],e,r,n){this.dates=t,this.granularity=e,this.periodStart=r,this.periodEnd=n}}class fS{constructor(t,e){if(this.iterable=t,this.args=e,this.granularity="year",this[Symbol.iterator]=()=>this.iterator,e.granularity&&(this.granularity=e.granularity,"week"===this.granularity&&!e.weekStart))throw Error('"week" granularity requires `weekStart` arg');if(e.weekStart&&(this.weekStart=e.weekStart),e.reverse)throw Error("`OccurrenceGenerator#collections()` does not support iterating in reverse. Though `OccurrenceGenerator#occurrences()` does support iterating in reverse.");this.args=Object.assign(Object.assign({},e),{start:e.start||t._run().next().value,end:e.end&&this.getPeriod(e.end).end}),this.startDate=this.args.start&&this.normalizeDateOutput(this.getPeriod(this.args.start).start)||null,this.iterator=this.collectionIterator()}next(){return this.iterator.next()}toArray(){if(this.args.end||this.args.take||!this.iterable.isInfinite){let t=[];for(let e of this.collectionIterator())t.push(e);return t}throw new fi("CollectionIterator#toArray() can only be called if the iterator is not infinite, or you provide and `end` argument, or you provide a `take` argument.")}normalizeDateOutput(t){if(t)return cx.adapter.fromDateTime(t)}*collectionIterator(){if(!this.startDate)return;let t=this.occurrenceIterator(),e=t.next().value;if(!e)return;let r=this.getPeriod(this.args.start),n=[],o=0;for(;e&&(void 0===this.args.take||this.args.take>o);){for(;e&&e.isBeforeOrEqual(r.end);)n.push(e),e=t.next().value;if(yield new fv(n.map(t=>this.normalizeDateOutput(t)),this.granularity,this.normalizeDateOutput(r.start),this.normalizeDateOutput(r.end)),!e)return;n=[],r=this.args.skipEmptyPeriods?this.getPeriod(e):this.getPeriod(this.incrementPeriod(r.period)),"month"===this.granularity&&this.weekStart&&(e=(t=this.iterable._run({start:r.start,end:this.args.end})).next().value),o++}}getPeriod(t){let e,r,n;return"month"===this.granularity&&this.weekStart?(e=t.granularity("month").granularity("week",{weekStart:this.weekStart}),r=t.endGranularity("month").endGranularity("week",{weekStart:this.weekStart}),n=t.granularity("month")):(e=t.granularity(this.granularity,{weekStart:this.weekStart}),r=t.endGranularity(this.granularity,{weekStart:this.weekStart}),n=e),{start:e,end:r,period:n}}incrementPeriod(t){return t.add(1,this.granularity)}occurrenceIterator(){let t=this.args.start||this.iterable._run().next().value;return t?(t=this.getPeriod(t).start,this.iterable._run({start:t,end:this.args.end})):this.iterable._run(this.args)}}class fT extends fw{constructor(t,e){super(e),this.streams=t,this.config=e,this.timezone=e.timezone,this.streams=t.map(t=>t instanceof fT?t:t.set("timezone",this.timezone)),this.isInfinite=this.calculateIsInfinite(),this.hasDuration=this.calculateHasDuration()}normalizeDateInput(t){if(t)return fl(t,this.timezone)}normalizeRunOutput(t){return fc(t,this.timezone)}}class fO{constructor(t,e){this.runArgs=e,this.stream=t._run(this.runArgs),this.next()}next(t){let{done:e,value:r}=this.stream.next(t);return this.done="boolean"!=typeof e||e,this.value=r,{done:e,value:r}}}function fA(t,e={},r={}){if(r.skipToDate&&0!==t.length){if(e.reverse?t.every(t=>t.value.isBeforeOrEqual(r.skipToDate)):t.every(t=>t.value.isAfterOrEqual(r.skipToDate)))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");for(let n of t)if(!n.done){if(e.reverse?n.value.isBeforeOrEqual(r.skipToDate):n.value.isAfterOrEqual(r.skipToDate))continue;n.next(r)}}}function fI(t,e){return t.done&&e.done?0:t.done?1:e.done?-1:t.value.isAfter(e.value)?1:-1}function fN(t,e){return t.done&&e.done?0:t.done?-1:e.done?1:t.value.isAfter(e.value)?-1:1}function fD(t,e={},r={}){return fA(t,e,r),t.sort(e.reverse?fN:fI).filter(t=>!t.done).shift()}function fR(t,e={},r={}){return fA(t,e,r),t.sort(e.reverse?fN:fI).filter(t=>!t.done).pop()}function fC(...t){return e=>new fM(t,e)}class fM extends fT{set(t,e){return new fM(this.streams.map(t=>t.set("timezone",e)),Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}*_run(t={}){let e=this.streams.map(e=>new fO(e,t));if(this.config.base&&e.push(new fO(this.config.base,t)),0===e.length)return;let r=fD(e,t);for(;r&&!r.done;){let n=yield this.normalizeRunOutput(r.value);n&&n.skipToDate||r.next(),r=fD(e,t,n)}}calculateIsInfinite(){return this.config.base&&this.config.base.isInfinite||this.streams.some(t=>t.isInfinite)}calculateHasDuration(){let t=this.streams.every(t=>t.hasDuration);return this.config.base?this.config.base.hasDuration&&t:t}}class fx extends fw{constructor(t={}){super(t),this.schedules=[],this.data=t.data,t.schedules&&(this.schedules=Array.isArray(t.schedules)?t.schedules:[t.schedules],this.schedules=this.schedules.map(t=>t.set("timezone",this.timezone))),this.isInfinite=this.schedules.some(t=>t.isInfinite),this.hasDuration=this.schedules.every(t=>t.hasDuration)}occurrences(t={}){return new fE(this,this.normalizeOccurrencesArgs(t))}collections(t={}){return new fS(this,this.normalizeCollectionsArgs(t))}set(t,e,r){if("timezone"===t)return new fx({schedules:this.schedules.map(n=>n.set(t,e,r)),data:this.data,timezone:e,maxDuration:this.maxDuration});if("schedules"===t)return new fx({schedules:Array.isArray(e)?e:[e],data:this.data,timezone:this.timezone,maxDuration:this.maxDuration});throw new fn(`Unknown value for \`prop\`: "${t}"`)}*_run(t={}){let e;if(0===this.schedules.length)return;let r=t.take;delete t.take;let n=(e=1===this.schedules.length?this.schedules[0]._run(t):new fM(this.schedules,{timezone:this.timezone})._run(t)).next().value,o=0;for(;n&&(void 0===r||r>o);){n=n.add(this,"generator");let t=yield this.normalizeRunOutput(n);n=e.next(t).value,o++}}}class fk extends fw{constructor(t={}){super(t),this.adapters=[],this.isInfinite=!1,this.maxDuration=0,this.datetimes=[],this.data=t.data,t.dates&&(this.adapters=t.dates.map(e=>{let r=this.normalizeDateInputToAdapter(e);return t.duration&&!r.duration&&(r=r.set("duration",t.duration)),r.set("timezone",this.timezone)}),this.datetimes=this.adapters.map(t=>t.toDateTime())),this.hasDuration=this.datetimes.every(t=>!!t.duration),this.hasDuration&&(this.maxDuration=this.adapters.reduce((t,e)=>e.duration>t?e.duration:t,0))}get length(){return this.adapters.length}get firstDate(){return this.adapters[0]||null}get lastDate(){return this.adapters[this.length-1]||null}occurrences(t={}){return new fE(this,this.normalizeOccurrencesArgs(t))}collections(t={}){return new fS(this,this.normalizeCollectionsArgs(t))}add(t){return new fk({dates:[...this.adapters,t],timezone:this.timezone,data:this.data})}remove(t){let e=this.adapters.slice(),r=this.normalizeDateInputToAdapter(t),n=e.findIndex(t=>t.valueOf()===r.valueOf());return n>=0&&e.splice(n,1),new fk({dates:e,timezone:this.timezone,data:this.data})}set(t,e,r={}){let n=this.timezone,o=this.adapters.slice();if("timezone"===t){if(e===this.timezone)return this;r.keepLocalTime&&(o=this.adapters.map(t=>{let r=t.toJSON();return r.timezone=e,this.dateAdapter.fromJSON(r)})),n=e}else if("dates"===t)o=e;else if("duration"===t)o=o.map(t=>t.set("duration",e||0));else throw new fn(`Unexpected prop argument "${t}". Accepted values are "timezone" or "dates"`);return new fk({dates:o,data:this.data,timezone:n})}filter(t){return new fk({dates:this.adapters.filter(t),data:this.data,timezone:this.timezone})}*_run(t={}){let e,r=this.datetimes.sort(cj);t.start&&(r=r.filter(e=>e.isAfterOrEqual(t.start))),t.end&&(r=r.filter(e=>e.isBeforeOrEqual(t.end))),t.reverse&&(r=r.slice().reverse()),t.take&&(r=r.slice(0,t.take));let n=r.slice(),o=n.shift();for(;o;){if(e&&e.skipToDate&&(t.reverse?e.skipToDate.isBefore(o):e.skipToDate.isAfter(o))){o=n.shift();continue}if(o=o.add(this,"generator"),(e=yield this.normalizeRunOutput(o))&&e.skipToDate&&(t.reverse?e.skipToDate.isAfterOrEqual(o):e.skipToDate.isBeforeOrEqual(o)))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");o=n.shift()}}}class fL extends Error{}class fF{constructor(t,e){if(this.metadata={},this.duration=e&&e.duration||0,this.generators=e&&e.generators&&e.generators.slice()||[],!Number.isInteger(this.duration)||this.duration<0)throw new fL("duration must be a non-negative integer")}static set adapter(t){if(l)throw Error(`"${l.name}" has already been configured.`);l=t}static get adapter(){if(!l)throw Error("No date adapter has been configured. See rSchedule docs.");return l}static isDate(t){throw fP("isDate()")}static fromDate(t,e){throw fP("fromDate()")}static fromJSON(t){throw fP("fromJSON()")}static fromDateTime(t){throw fP("fromDateTime()")}toISOString(){return this.set("timezone","UTC").toDateTime().toISOString()}toDateTime(){return fU.fromJSON(Object.assign(Object.assign({},this.toJSON()),{generators:this.generators,metadata:this.metadata}))}}function fP(t){return Error(`You must implement the "${t}" method for this DateAdapter class`)}fF.hasTimezoneSupport=!1,function(t){t.WEEKDAYS=["SU","MO","TU","WE","TH","FR","SA"],t.MILLISECONDS_IN_SECOND=1e3,t.MILLISECONDS_IN_MINUTE=60*t.MILLISECONDS_IN_SECOND,t.MILLISECONDS_IN_HOUR=60*t.MILLISECONDS_IN_MINUTE,t.MILLISECONDS_IN_DAY=24*t.MILLISECONDS_IN_HOUR,t.MILLISECONDS_IN_WEEK=7*t.MILLISECONDS_IN_DAY}(m||(m={}));class fB extends Error{}class fU{constructor(t,e,r,n,o={}){if(this.metadata={},this.date=new Date(t),this.timezone=e||null,this.duration=r||0,this.generators=n&&n.slice()||[],!Number.isInteger(this.duration)||this.duration<0)throw new fB("duration must be a non-negative integer");o.metadata&&Object.assign(this.metadata,o.metadata),this.assertIsValid()}static fromJSON(t){return new fU(new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond)),t.timezone,t.duration,t.generators,{metadata:t.metadata})}static fromDateAdapter(t){return fU.fromJSON(Object.assign(Object.assign({},t.toJSON()),{generators:t.generators,metadata:t.metadata}))}get end(){if(this.duration)return this._end||(this._end=this.add(this.duration,"millisecond")),this._end}isEqual(t){return!!t&&(fj(this,t),this.valueOf()===t.valueOf())}isBefore(t){return fj(this,t),this.valueOf()<t.valueOf()}isBeforeOrEqual(t){return fj(this,t),this.valueOf()<=t.valueOf()}isAfter(t){return fj(this,t),this.valueOf()>t.valueOf()}isAfterOrEqual(t){return fj(this,t),this.valueOf()>=t.valueOf()}isOccurring(t){if(!this.duration)throw Error("DateTime#isOccurring() is only applicable to DateTimes with durations");return fj(this,t),t.isAfterOrEqual(this)&&t.isBeforeOrEqual(this.add(this.duration,"millisecond"))}add(t,e){switch(e){case"generator":{let e=this.generators.slice();return e.unshift(t),new fU(this.date,this.timezone,this.duration,e)}case"year":return this.forkDateTime(fJ(this.date,t));case"month":return this.forkDateTime(fX(this.date,t));case"week":return this.forkDateTime(fQ(this.date,t));case"day":return this.forkDateTime(f0(this.date,t));case"hour":return this.forkDateTime(f1(this.date,t));case"minute":return this.forkDateTime(f2(this.date,t));case"second":return this.forkDateTime(f6(this.date,t));case"millisecond":return this.forkDateTime(f4(this.date,t));default:throw Error("Invalid unit provided to `DateTime#add`")}}subtract(t,e){switch(e){case"year":return this.forkDateTime(f3(this.date,t));case"month":return this.forkDateTime(f8(this.date,t));case"week":return this.forkDateTime(f5(this.date,t));case"day":return this.forkDateTime(f7(this.date,t));case"hour":return this.forkDateTime(f9(this.date,t));case"minute":return this.forkDateTime(dt(this.date,t));case"second":return this.forkDateTime(de(this.date,t));case"millisecond":return this.forkDateTime(dr(this.date,t));default:throw Error("Invalid unit provided to `DateTime#subtract`")}}get(t){switch(t){case"year":return this.date.getUTCFullYear();case"month":return this.date.getUTCMonth()+1;case"yearday":return fY(this.date);case"weekday":return m.WEEKDAYS[this.date.getUTCDay()];case"day":return this.date.getUTCDate();case"hour":return this.date.getUTCHours();case"minute":return this.date.getUTCMinutes();case"second":return this.date.getUTCSeconds();case"millisecond":return this.date.getUTCMilliseconds();default:throw Error("Invalid unit provided to `DateTime#set`")}}set(t,e){if("duration"===t)return new fU(this.date,this.timezone,e,this.generators);if("generators"===t)return new fU(this.date,this.timezone,this.duration,e);let r=new Date(this.date);switch(t){case"year":r.setUTCFullYear(e);break;case"month":{let t=f$(e,r.getUTCFullYear());r.getUTCDate()>t?(r.setUTCDate(1),r.setUTCMonth(e),r=f7(r,1)):r.setUTCMonth(e-1);break}case"day":r.setUTCDate(e);break;case"hour":r.setUTCHours(e);break;case"minute":r.setUTCMinutes(e);break;case"second":r.setUTCSeconds(e);break;case"millisecond":r.setUTCMilliseconds(e);break;default:throw Error("Invalid unit provided to `DateTime#set`")}return this.forkDateTime(r)}granularity(t,e={}){let r=this.forkDateTime(this.date);switch(t){case"year":r=r.set("month",1);case"month":r=r.set("day",1);break;case"week":r=fW(r,e.weekStart)}switch(t){case"year":case"month":case"week":case"day":r=r.set("hour",0);case"hour":r=r.set("minute",0);case"minute":r=r.set("second",0);case"second":r=r.set("millisecond",0);case"millisecond":return r;default:throw Error("Invalid granularity provided to `DateTime#granularity`: "+t)}}endGranularity(t,e={}){let r=this.forkDateTime(this.date);switch(t){case"year":r=r.set("month",12);case"month":r=r.set("day",f$(r.get("month"),r.get("year")));break;case"week":r=fH(r,e.weekStart)}switch(t){case"year":case"month":case"week":case"day":r=r.set("hour",23);case"hour":r=r.set("minute",59);case"minute":r=r.set("second",59);case"second":r=r.set("millisecond",999);case"millisecond":return r;default:throw Error("Invalid granularity provided to `DateTime#granularity`: "+t)}}toISOString(){return this.date.toISOString()}toDateTime(){return this}toJSON(){let t={timezone:this.timezone,year:this.get("year"),month:this.get("month"),day:this.get("day"),hour:this.get("hour"),minute:this.get("minute"),second:this.get("second"),millisecond:this.get("millisecond")};return this.duration&&(t.duration=this.duration),t}valueOf(){return this.date.valueOf()}assertIsValid(){if(isNaN(this.valueOf()))throw new fB("DateTime has invalid date.");return!0}forkDateTime(t){return new fU(t,this.timezone,this.duration,this.generators)}}function fj(t,e){if(t.timezone!==e.timezone)throw new fB("Attempted to compare a datetime to another date in a different timezone: "+JSON.stringify(t)+" and "+JSON.stringify(e));return!0}function fW(t,e){let r=fz(e).indexOf(t.get("weekday"));return t.subtract(r,"day")}function fH(t,e){let r=fz(e).indexOf(t.get("weekday"));return t.add(6-r,"day")}function fz(t="SU"){let e=m.WEEKDAYS.slice(),r=e.indexOf(t);for(;0!==r;)fV(e),r--;return e}function fV(t,e="first"){return 0===t.length||("first"===e?t.push(t.shift()):t.unshift(t.pop())),t}function f$(t,e){return({1:31,2:fq(e),3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31})[t]}function fq(t){return fG(t)?29:28}function fG(t){return t%400==0||t%4==0&&t%100!=0}function fY(t){let e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return 1+Math.floor((t.valueOf()-e.valueOf())/m.MILLISECONDS_IN_DAY)}function fK(t){if(null===t||!0===t||!1===t)return NaN;let e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function fZ(t,e){if(arguments.length<2)throw TypeError("2 arguments required, but only "+arguments.length+" present");return new Date(t.valueOf()+fK(e))}function fJ(t,e){return fX(t,12*fK(e))}function fX(t,e){let r=fK(e),n=(t=new Date(t)).getUTCMonth()+r,o=new Date(0);o.setUTCFullYear(t.getUTCFullYear(),n,1),o.setUTCHours(0,0,0,0);let a=f$(o.getUTCMonth()+1,o.getUTCFullYear());return t.setUTCMonth(n,Math.min(a,t.getUTCDate())),t}function fQ(t,e){return f0(t,7*fK(e))}function f0(t,e){return f4(t,fK(e)*m.MILLISECONDS_IN_DAY)}function f1(t,e){return fZ(t,fK(e)*m.MILLISECONDS_IN_HOUR)}function f2(t,e){return fZ(t,fK(e)*m.MILLISECONDS_IN_MINUTE)}function f6(t,e){return fZ(t,fK(e)*m.MILLISECONDS_IN_SECOND)}function f4(t,e){let r=fK(e);return new Date(t.getTime()+r)}function f3(t,e){return fJ(t,-e)}function f8(t,e){return fX(t,-e)}function f5(t,e){return fQ(t,-e)}function f7(t,e){return f0(t,-e)}function f9(t,e){return f1(t,-e)}function dt(t,e){return f2(t,-e)}function de(t,e){return f6(t,-e)}function dr(t,e){return f4(t,-e)}function dn(t,e){return t.timezone!==e?fF.adapter.fromDateTime(t).set("timezone",e).toDateTime():t}class di extends fw{constructor(t,e,r={}){super(r),this.recurrenceRules=t,this.options=fh(e),this.normOptions=fp(this.recurrenceRules,this.options),this.timezone=void 0!==r.timezone?r.timezone:this.normOptions.start.timezone,this.data=r.data,this.hasDuration=!!e.duration,this.hasDuration&&(this.duration=e.duration),this.isInfinite=void 0===this.normOptions.end&&void 0===this.normOptions.count}occurrences(t={}){return new fE(this,this.normalizeOccurrencesArgs(t))}collections(t={}){return new fS(this,this.normalizeCollectionsArgs(t))}*_run(t={}){let e=this.normalizeRunArgs(t),r=new fb(f_(this.recurrenceRules),this.normOptions,e),n=r.next().value,o=0;for(;n&&(void 0===e.take||o<e.take);){o++,n=n.add(this,"generator");let t=yield this.normalizeRunOutput(n);n=(null==t?void 0:t.skipToDate)?r.next(Object.assign(Object.assign({},t),{skipToDate:dn(t.skipToDate,r.start.timezone)})).value:r.next(t).value}}}class da extends di{constructor(t,e={}){super(da.recurrenceRules,t,e)}set(t,e,r={}){let n=fh(this.options),o=this.timezone;if("timezone"===t){if(e===this.timezone&&!r.keepLocalTime)return this;if(r.keepLocalTime){let t=this.normalizeDateInput(n.start).toJSON();t.timezone=e;let r=this.dateAdapter.fromJSON(t);n.start=n.start instanceof this.dateAdapter?r:n.start instanceof cF?r.toDateTime():r.date}o=e}else"options"===t?n=e:n[t]=e;return new da(n,{data:this.data,maxDuration:this.maxDuration,timezone:o})}}da.recurrenceRules=[];class ds extends fw{constructor(t){super(t),this.data=t.data}occurrences(t={}){return new fE(this,this.normalizeOccurrencesArgs(t))}collections(t={}){return new fS(this,this.normalizeCollectionsArgs(t))}*_run(t={}){let e=t.take;delete t.take;let r=this.occurrenceStream._run(t),n=r.next().value,o=0;for(;n&&(void 0===e||e>o);){n=n.add(this,"generator");let t=yield this.normalizeRunOutput(n);n=r.next(t).value,o++}}}function du(...t){return e=>new dl(t,e)}class dl extends fT{set(t,e){return new dl(this.streams.map(t=>t.set("timezone",e)),Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}*_run(t={}){if(!this.config.base)return;let e=new fO(this.config.base,t),r=new fO(new fM(this.streams,{timezone:this.config.timezone}),t);for(dc(e,r,t);!e.done;){let n=yield this.normalizeRunOutput(e.value);n&&n.skipToDate||e.next(),dc(e,r,t,n)}}calculateIsInfinite(){return!!(this.config.base&&this.config.base.isInfinite)}calculateHasDuration(){return!!(this.config.base&&this.config.base.hasDuration)}}function dc(t,e,r={},n={}){for(fA([t,e],r,n),df(t,e,r);!t.done&&!e.done&&t.value.isEqual(e.value);)t.next(),df(t,e,r)}function df(t,e,r={}){if(r.reverse){for(;!e.done&&!t.done&&e.value.isAfter(t.value);)e.next();return}for(;!e.done&&!t.done&&e.value.isBefore(t.value);)e.next()}function dd(){return t=>new dp([],t)}class dp extends fT{set(t,e){return new dp([],Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}*_run(t={}){if(!this.config.base)return;let e=new fO(this.config.base,t);for(;!e.done;){let t=yield this.normalizeRunOutput(e.value),r=e.value;for(e.next(t);!(t&&t.skipToDate)&&!e.done&&e.value.isEqual(r);)e.next()}}calculateIsInfinite(){return!!(this.config.base&&this.config.base.isInfinite)}calculateHasDuration(){return!!(this.config.base&&this.config.base.hasDuration)}}class dh extends ds{constructor(t={}){for(let e of(super(t),this.rrules=[],this.exrules=[],["rrules","exrules"])){let r=t[e];r&&(this[e]=r.map(t=>t instanceof da?t.set("timezone",this.timezone):new da(t,{timezone:this.timezone})))}for(let e of["rdates","exdates"]){let r=t[e];r?this[e]=r instanceof fk?r.set("timezone",this.timezone):new fk({dates:r,timezone:this.timezone}):this[e]=new fk({timezone:this.timezone})}this.hasDuration=this.rrules.every(t=>t.hasDuration)&&this.exrules.every(t=>t.hasDuration)&&this.rdates.hasDuration&&this.exdates.hasDuration,this.isInfinite=this.rrules.some(t=>t.isInfinite),this.occurrenceStream=[fC(...this.rrules),du(...this.exrules),fC(this.rdates),du(this.exdates),dd()].reduce((t,e)=>e({base:t,timezone:this.timezone}),void 0)}add(t,e){let r=this.rrules.slice(),n=this.exrules.slice(),o=this.rdates,a=this.exdates;switch(t){case"rrule":r.push(e);break;case"exrule":n.push(e);break;case"rdate":o=this.rdates.add(e);break;case"exdate":a=this.exdates.add(e)}return new dh({timezone:this.timezone,data:this.data,rrules:r,exrules:n,rdates:o,exdates:a})}remove(t,e){let r=this.rrules,n=this.exrules,o=this.rdates,a=this.exdates;switch(t){case"rrule":r=r.filter(t=>t!==e);break;case"exrule":n=n.filter(t=>t!==e);break;case"rdate":o=this.rdates.remove(e);break;case"exdate":a=this.exdates.remove(e)}return new dh({timezone:this.timezone,data:this.data,rrules:r,exrules:n,rdates:o,exdates:a})}set(t,e,r={}){let n=this.timezone,o=this.rrules,a=this.exrules,s=this.rdates,u=this.exdates;switch(t){case"timezone":if(e===this.timezone&&!r.keepLocalTime)return this;r.keepLocalTime&&(o=o.map(t=>t.set("timezone",e,r)),a=a.map(t=>t.set("timezone",e,r)),s=s.set("timezone",e,r),u=u.set("timezone",e,r)),n=e;break;case"rrules":o=e;break;case"exrules":a=e;break;case"rdates":s=e;break;case"exdates":u=e}return new dh({timezone:n,data:this.data,rrules:o,exrules:a,rdates:s,exdates:u})}}class dy extends fT{constructor(t,e){if(super(t.streams,e),this.isInfinite&&(this.maxFailedIterations=t.maxFailedIterations||dy.defaultMaxFailedIterations,!this.maxFailedIterations))throw new fn('The IntersectionOperator must be provided a `maxFailedIterations` argument when it is built from schedules of infinite length. This argument is used to ensure that the IntersectionOperator does not enter an infinite loop because the underlying schedules never intersect. If the `maxFailedIterations` count is reached it will be assumed that all valid occurrences have been found and iteration will end without error.Without additional information, "50" is probably a good `maxFailedIterations` value. If the schedules are not of infinite length, `maxFailedIterations` is ignored. Note also that you can provide a `defaultMaxFailedIterations` number via IntersectionOperator.defaultMaxFailedIterations.')}set(t,e){return new dy({maxFailedIterations:this.maxFailedIterations,streams:this.streams.map(t=>t.set("timezone",e))},Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}*_run(t={}){let e=this.streams.map(e=>new fO(e,t));if(this.config.base&&e.push(new fO(this.config.base,t)),0===e.length)return;let r=!!(!this.isInfinite||t.reverse||t.end);if(!dg(e,void 0,Object.assign(Object.assign({},t),{hasEndDate:r,iteration:0,maxIterations:this.maxFailedIterations})))return;let n=fD(e,t);for(;n;){let o=yield this.normalizeRunOutput(n.value),a=n.value;if((null==o?void 0:o.skipToDate)||n.next(),!dg(e,a,Object.assign(Object.assign({},t),{hasEndDate:r,iteration:0,maxIterations:this.maxFailedIterations}),o))return;n=fD(e,t)}}calculateIsInfinite(){return this.config.base?0===this.streams.length?this.config.base.isInfinite:this.config.base.isInfinite&&this.streams.every(t=>t.isInfinite):0!==this.streams.length&&this.streams.every(t=>t.isInfinite)}calculateHasDuration(){let t=this.streams.every(t=>t.hasDuration);return this.config.base?this.config.base.hasDuration&&t:t}}function dg(t,e,r,n){let o=fD(t,r,n);if(!o)return!1;if(e&&o.value.isEqual(e))return!0;if(t.some(t=>t.done))return!1;if(t.every(t=>t.value.isEqual(o.value)))return!0;if(r.iteration++,r.maxIterations&&!r.hasEndDate&&r.iteration>r.maxIterations)return!1;let a=fR(t,r);return t.forEach(t=>{a.value.isEqual(t.value)||t.next({skipToDate:a.value})}),dg(t,e,r)}class dm extends fO{constructor(t,e){super(t,e),this.workingValue=this.value,this.next()}}class d_ extends Error{}class db extends fT{constructor(t,e){if(super([],e),this.maxDuration=t.maxDuration,e.base&&!e.base.hasDuration)throw new fn("Base stream provided to MergeDurationOperator does not have an associated duration. The MergeDurationOperator can only be used with streams which have a duration. ")}set(t,e){return new db({maxDuration:this.maxDuration},Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}_run(t={}){return t.reverse?this.reverseRun(t):this.forwardRun(t)}calculateIsInfinite(){return!!(this.config.base&&this.config.base.isInfinite)}calculateHasDuration(){return!0}*forwardRun(t={}){let e;if(!this.config.base)return;let r=t.start;t.start&&(r=t.start.subtract(this.maxDuration,"millisecond"));let n=t.end;t.end&&(n=t.end.add(this.maxDuration,"millisecond"));let o=new dm(this.config.base,Object.assign(Object.assign({},t),{start:r,end:n}));for(;o.workingValue;){for(;!o.done&&o.workingValue.end.isAfterOrEqual(o.value);){if(o.workingValue.duration>this.maxDuration)throw new d_("MergeDurationOperatorError: Occurrence duration exceeded maxDuration of "+this.maxDuration);if(o.value.end.isAfter(o.workingValue.end)){let t=o.value.end.valueOf()-o.workingValue.end.valueOf();o.workingValue=o.workingValue.set("duration",o.workingValue.duration+t)}o.next()}if(t.start&&o.workingValue.end.isBefore(t.start)||(null==e?void 0:e.skipToDate)&&o.workingValue.end.isBefore(e.skipToDate)){o.workingValue=o.value,o.next();continue}if(t.end&&o.workingValue&&o.workingValue.isAfter(t.end))break;if(o.workingValue.duration>this.maxDuration)throw new d_("MergeDurationOperatorError: Occurrence duration exceeded maxDuration of "+this.maxDuration);if((null==(e=yield this.normalizeRunOutput(o.workingValue))?void 0:e.skipToDate)&&o.workingValue.isAfterOrEqual(e.skipToDate))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");o.workingValue=o.value,o.next()}}*reverseRun(t={}){let e;if(!this.config.base)return;let r=t.start;t.start&&(r=t.start.subtract(this.maxDuration,"millisecond"));let n=t.end;t.end&&(n=t.end.add(this.maxDuration,"millisecond"));let o=new dm(this.config.base,Object.assign(Object.assign({},t),{start:r,end:n}));for(;o.workingValue;){for(;!o.done&&o.workingValue.isBeforeOrEqual(o.value.end);){if(o.workingValue.duration>this.maxDuration)throw new d_("MergeDurationOperatorError: Occurrence duration exceeded maxDuration of "+this.maxDuration);if(o.value.isBefore(o.workingValue)||o.value.end.isAfter(o.workingValue.end)){if(o.value.end.isAfter(o.workingValue.end))o.workingValue=o.value;else{let t=o.workingValue.valueOf()-o.value.valueOf();o.workingValue=o.value.set("duration",o.workingValue.duration+t)}}o.next()}if(t.start&&o.workingValue.end.isBefore(t.start))break;if(e&&e.skipToDate&&o.workingValue.end.isBefore(e.skipToDate)||t.end&&o.workingValue&&o.workingValue.isAfter(t.end)){o.workingValue=o.value,o.next();continue}if(o.workingValue.duration>this.maxDuration)throw new d_("MergeDurationOperatorError: Occurrence duration exceeded maxDuration of "+this.maxDuration);if((e=yield this.normalizeRunOutput(o.workingValue))&&e.skipToDate&&o.workingValue.end.isBeforeOrEqual(e.skipToDate))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)");o.workingValue=o.value,o.next()}}}class dw extends Error{}class dE extends fT{constructor(t,e){if(super([],e),this.splitFn=t.splitFn,this.maxDuration=t.maxDuration,e.base&&!e.base.hasDuration)throw new fn("Base stream provided to SplitDurationOperator does not have an associated duration. The SplitDurationOperator can only be used with streams which have a duration.")}set(t,e){return new dE({maxDuration:this.maxDuration,splitFn:this.splitFn},Object.assign(Object.assign({},this.config),{base:this.config.base&&this.config.base.set("timezone",e),timezone:e}))}*_run(t={}){let e;if(!this.config.base)return;let r=t.reverse||!1,n=t.start;t.start&&(n=t.start.subtract(this.maxDuration,"millisecond"));let o=t.end;t.end&&(o=t.end.add(this.maxDuration,"millisecond"));let a=new fO(this.config.base,Object.assign(Object.assign({},t),{start:n,end:o})),s=[];for(;!a.done||s[0]&&s[0][0];){for(s[0]&&s[0][0]||(s.push(this.splitDate(a.value,r)),a.next());!a.done&&(r?s[0].some(t=>t.isBeforeOrEqual(a.value.end)):s[0].some(t=>t.isAfterOrEqual(a.value)));)s.push(this.splitDate(a.value,r)),a.next();let n=s[0]&&s[0][0],o=-1,u=0,l=-1,c=0;for(let t of s)for(let e of(o++,l=-1,t)){let t;if(l++,t=r?e.isAfter(n)||e.isEqual(n)&&e.duration>n.duration:e.isBefore(n)||e.isEqual(n)&&e.duration<n.duration){n=e,u=o,c=l;break}}if(s[u].splice(c,1),0===s[u].length&&s.splice(u,1),!e||!e.skipToDate||!n||dv(n,t)||dS(n,e.skipToDate,t)){if(t.start&&n.end.isBefore(t.start)){if(r)break;continue}if(t.end&&n.isAfter(t.end)){if(r)continue;break}if(n.duration>this.maxDuration)throw new dw("SplitDurationOperatorError: Occurrence duration exceeded maxDuration of "+this.maxDuration);if((e=yield this.normalizeRunOutput(n))&&e.skipToDate&&(t.reverse?n.isBeforeOrEqual(e.skipToDate):n.isAfterOrEqual(e.skipToDate)))throw Error("A provided `skipToDate` option must be greater than the last yielded date (or smaller, in the case of reverse iteration)")}}}calculateIsInfinite(){return!!(this.config.base&&this.config.base.isInfinite)}calculateHasDuration(){return!0}splitDate(t,e){let r;let n=this.splitFn(t);if(!(r=0!==n.length&&(1===n.length?t.duration===n[0].duration:t.duration===n.reduce((t,e)=>t+e.duration,0))))throw Error("The provided SplitDurationOperator split function must return an array of DateTimes with length > 0 where the total duration of the new dates equals the duration of the original date.");return n.sort(cj),e&&n.reverse(),n}}function dv(t,e){return!!(e.reverse?e.start&&t.isBefore(e.start):e.end&&t.isAfter(e.end))}function dS(t,e,r){return!!(r.reverse?e.isAfterOrEqual(t):e.isBeforeOrEqual(t))}class dT{constructor(t){this.processor=t,this.start=t.start,this.end=t.end,this.options=t.options}}class dO extends dT{constructor(t,e){super(t),this.initDate=e,this.intervalUnit=fa(this.options.frequency),this.firstIntervalStartDate=this.normalizedStartDate(this.options.start),this.intervalStartDate=this.firstIntervalStartDate,this.intervalEndDate=this.normalizedEndDate(this.firstIntervalStartDate),this.skipToInterval(this.initDate)}run(t){return this.validateDate(new fg(t))}validateDate(t){let{date:e}=t;return t instanceof fg&&this.dateIsWithinInterval(e)?t:(this.skipToInterval(e),new fm(this.dateIsWithinInterval(e)?e:this.setToCurrentInterval()))}setToCurrentInterval(){return this.intervalStartDate}normalizedStartDate(t){return"WEEKLY"===this.options.frequency?t.granularity("week",{weekStart:this.options.weekStart}):t.granularity(this.intervalUnit)}normalizedEndDate(t){switch(this.options.frequency){case"YEARLY":return t.add(1,"year");case"MONTHLY":return t.add(1,"month");case"WEEKLY":return t.add(1,"week");case"DAILY":return t.add(1,"day");case"HOURLY":return t.add(1,"hour");case"MINUTELY":return t.add(1,"minute");case"SECONDLY":return t.add(1,"second");case"MILLISECONDLY":return t.add(1,"millisecond");default:throw Error(`Unknown frequency ${this.options.frequency}`)}}skipToInterval(t){let e=this.intervalDifference(t);this.intervalStartDate=this.firstIntervalStartDate.add(e,this.intervalUnit),this.intervalEndDate=this.normalizedEndDate(this.intervalStartDate)}dateIsWithinInterval(t){return this.intervalStartDate.isBeforeOrEqual(t)&&this.intervalEndDate.isAfter(t)}intervalDifference(t){return dA({first:this.firstIntervalStartDate,second:t,unit:this.intervalUnit,interval:this.options.interval,weekStart:this.options.weekStart,direction:"after"})}}function dA({first:t,second:e,unit:r,interval:n,weekStart:o,direction:a}){return("after"===a?Math.ceil:Math.floor)((()=>{let n,a;switch(r){case"year":return Math.floor((a=(a=(e.get("year")-t.get("year"))*12)+e.get("month")-t.get("month"))/12);case"month":return(a=(e.get("year")-t.get("year"))*12)+e.get("month")-t.get("month");case"week":t=t.granularity("week",{weekStart:o}),n=g.MILLISECONDS_IN_WEEK;break;case"day":n=g.MILLISECONDS_IN_DAY;break;case"hour":n=g.MILLISECONDS_IN_HOUR;break;case"minute":n=g.MILLISECONDS_IN_MINUTE;break;case"second":n=g.MILLISECONDS_IN_SECOND;break;case"millisecond":n=1;break;default:throw Error("Unexpected `unit` value")}return Math.floor((e.valueOf()-t.valueOf())/n)})()/n)*n}class dI extends dO{setToCurrentInterval(){return this.intervalEndDate.subtract(1,"millisecond")}intervalDifference(t){return dA({first:this.firstIntervalStartDate,second:t,unit:this.intervalUnit,interval:this.options.interval,weekStart:this.options.weekStart,direction:"before"})}}let dN=["MILLISECONDLY","SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],dD={name:"FrequencyRule",get:t=>void 0!==t.options.byMillisecondOfSecond||"MILLISECONDLY"!==t.options.frequency?null:t.reverse?new dI(t,t.end):new dO(t,t.start),normalizeOptions:(t,e)=>{if(!dN.includes(t.frequency))throw new ff(`"frequency" must be one of ${JSON.stringify(dN)}`);if(void 0!==t.interval){if(!Number.isInteger(t.interval))throw new ff('"interval" expects a whole number');if(t.interval<1)throw new ff('"interval" cannot be less than 1')}if(void 0!==t.weekStart&&!g.WEEKDAYS.includes(t.weekStart))throw new ff(`"weekStart" must be one of ${JSON.stringify(g.WEEKDAYS)}`);e.frequency=t.frequency,e.interval=t.interval||1,e.weekStart=t.weekStart||"MO"},deps:()=>[dD]};function dR(t){return Array.isArray(t)&&t.length>0}let dC=new WeakMap;class dM extends dT{constructor(t){super(t),dC.has(this.processor)||dC.set(this.processor,new dO(t,t.start)),this.frequency=dC.get(this.processor)}validateDate(t){return this.frequency.validateDate(t)}}class dx extends dT{constructor(t){super(t),dC.has(this.processor)||dC.set(this.processor,new dI(t,t.end)),this.frequency=dC.get(this.processor)}validateDate(t){return this.frequency.validateDate(t)}}class dk extends dx{run(t){let e=t.get(this.granularity);for(let r of this.option)if(!(e<r)){if(e===r)return this.validateDate(new fg(t));return this.validateDate(new fm(t.endGranularity(this.baseGranularity).set(this.granularity,r)))}return this.validateDate(new fm(t.endGranularity(this.baseGranularity).subtract(1,this.baseGranularity).set(this.granularity,this.option[0])))}}class dL extends dk{constructor(){super(...arguments),this.baseGranularity="second",this.granularity="millisecond",this.option=this.options.byMillisecondOfSecond.slice().reverse()}}class dF extends dM{run(t){let e=t.get(this.granularity);for(let r of this.option)if(!(e>r)){if(e===r)return this.validateDate(new fg(t));return this.validateDate(new fm(t.granularity(this.baseGranularity).set(this.granularity,r)))}return this.validateDate(new fm(t.granularity(this.baseGranularity).add(1,this.baseGranularity).set(this.granularity,this.option[0])))}}class dP extends dF{constructor(){super(...arguments),this.baseGranularity="second",this.granularity="millisecond",this.option=this.options.byMillisecondOfSecond}}let dB={name:"ByMillisecondOfSecond",get:t=>void 0===t.options.byMillisecondOfSecond?null:t.reverse?new dL(t):new dP(t),normalizeOptions:(t,e)=>{if(void 0!==t.byMillisecondOfSecond){if(!dR(t.byMillisecondOfSecond))throw new ff('"byMillisecondOfSecond" expects a non-empty array');if(t.byMillisecondOfSecond.some(t=>t<0||t>999))throw new ff('"byMillisecondOfSecond" values must be >= 0 && <= 999');e.byMillisecondOfSecond=t.byMillisecondOfSecond,e.byMillisecondOfSecond.sort(fo)}else"MILLISECONDLY"!==t.frequency&&(e.byMillisecondOfSecond=[e.start.get("millisecond")])},deps:()=>[dD,dB]};class dU extends dk{constructor(){super(...arguments),this.baseGranularity="minute",this.granularity="second",this.option=this.options.bySecondOfMinute.slice().reverse()}}class dj extends dF{constructor(){super(...arguments),this.baseGranularity="minute",this.granularity="second",this.option=this.options.bySecondOfMinute}}let dW={name:"BySecondOfMinute",get:t=>void 0===t.options.bySecondOfMinute?null:t.reverse?new dU(t):new dj(t),normalizeOptions:(t,e)=>{if(void 0!==t.bySecondOfMinute){if(!dR(t.bySecondOfMinute))throw new ff('"bySecondOfMinute" expects a non-empty array');if(t.bySecondOfMinute.some(t=>t<0||t>60))throw new ff('"bySecondOfMinute" values must be >= 0 && <= 60');e.bySecondOfMinute=t.bySecondOfMinute,e.bySecondOfMinute.sort(fo)}else["SECONDLY","MILLISECONDLY"].includes(t.frequency)||(e.bySecondOfMinute=[e.start.get("second")])},deps:()=>[dD,dW,dB]};class dH extends dk{constructor(){super(...arguments),this.baseGranularity="hour",this.granularity="minute",this.option=this.options.byMinuteOfHour.slice().reverse()}}class dz extends dF{constructor(){super(...arguments),this.baseGranularity="hour",this.granularity="minute",this.option=this.options.byMinuteOfHour}}let dV={name:"ByMinuteOfHour",get:t=>void 0===t.options.byMinuteOfHour?null:t.reverse?new dH(t):new dz(t),normalizeOptions:(t,e)=>{if(void 0!==t.byMinuteOfHour){if(!dR(t.byMinuteOfHour))throw new ff('"byMinuteOfHour" expects a non-empty array');if(t.byMinuteOfHour.some(t=>t<0||t>59))throw new ff('"byMinuteOfHour" values must be >= 0 && <= 59');e.byMinuteOfHour=t.byMinuteOfHour,e.byMinuteOfHour.sort(fo)}else["MINUTELY","SECONDLY","MILLISECONDLY"].includes(t.frequency)||(e.byMinuteOfHour=[e.start.get("minute")])},deps:()=>[dD,dV,dW,dB]};class d$ extends dk{constructor(){super(...arguments),this.baseGranularity="day",this.granularity="hour",this.option=this.options.byHourOfDay.slice().reverse()}}class dq extends dF{constructor(){super(...arguments),this.baseGranularity="day",this.granularity="hour",this.option=this.options.byHourOfDay}}let dG={name:"ByHourOfDay",get:t=>void 0===t.options.byHourOfDay?null:t.reverse?new d$(t):new dq(t),normalizeOptions:(t,e)=>{if(void 0!==t.byHourOfDay){if(!dR(t.byHourOfDay))throw new ff('"byHourOfDay" expects a non-empty array');if(t.byHourOfDay.some(t=>t<0||t>23))throw new ff('"byHourOfDay" values must be >= 0 && <= 23');e.byHourOfDay=t.byHourOfDay,e.byHourOfDay.sort(fo)}else["YEARLY","MONTHLY","WEEKLY","DAILY"].includes(t.frequency)&&(e.byHourOfDay=[e.start.get("hour")])},deps:()=>[dD,dG,dV,dW,dB]};function dY(t,e){return t.add(cV(t.get("weekday"),e),"day")}function dK(t,e,r){let n=t.set("day",1);return r<0&&(n=n.add(1,"month")),n=dY(n,e),r<0?n.add(r,"week"):n.add(r-1,"week")}class dZ extends dM{run(t){let e;let r=dJ(t,this.options.byDayOfMonth,this.options.byDayOfWeek),n=t.get("day");for(let e of r)if(!(n>e)){if(n===e)return this.validateDate(new fg(t));return this.validateDate(new fm(t.granularity("month").set("day",e)))}let o=t,a=0;for(;!e&&a<30;)e=dJ(o=o.granularity("month").add(1,"month"),this.options.byDayOfMonth,this.options.byDayOfWeek)[0],a++;if(a>=13)throw new fy("byDayOfMonth Infinite while loop");return this.validateDate(new fm(o.set("day",e)))}}function dJ(t,e,r){let n=t.endGranularity("month").get("day"),o=e.filter(t=>n>=Math.abs(t)).map(t=>t>0?t:n+t+1);if(r){let e=t.granularity("month"),n=[];r.forEach(r=>{if("string"==typeof r){n.push(...o.filter(t=>e.set("day",t).get("weekday")===r));return}let a=dK(t,...r).get("day");o.includes(a)&&n.push(a)}),o=Array.from(new Set(n))}return o.sort((t,e)=>t>e?1:t<e?-1:0)}class dX extends dx{run(t){let e;let r=dJ(t,this.options.byDayOfMonth,this.options.byDayOfWeek).reverse(),n=t.get("day");for(let e of r)if(!(n<e)){if(n===e)return this.validateDate(new fg(t));return this.validateDate(new fm(t.endGranularity("month").set("day",e)))}let o=t,a=0;for(;!e&&a<30;)e=dJ(o=o.endGranularity("month").subtract(1,"month"),this.options.byDayOfMonth,this.options.byDayOfWeek).pop(),a++;if(a>=13)throw new fy("byDayOfMonth Infinite while loop");return this.validateDate(new fm(o.set("day",e)))}}let dQ={name:"ByDayOfMonth",get:t=>void 0===t.options.byDayOfMonth?null:t.reverse?new dX(t):new dZ(t),normalizeOptions:(t,e)=>{if(void 0!==t.byDayOfMonth){if("WEEKLY"===t.frequency)throw new ff('when "frequency" is "WEEKLY", "byDayOfMonth" cannot be present');if(!dR(t.byDayOfMonth))throw new ff('"byDayOfMonth" expects a non-empty array');if(t.byDayOfMonth.some(t=>0===t||t<-31||t>31))throw new ff('"byDayOfMonth" values must be `num !== 0 && num <= 31 && num >= -31`');e.byDayOfMonth=t.byDayOfMonth.slice()}else!(dR(t.byDayOfWeek)||dR(t.byDayOfYear))&&["YEARLY","MONTHLY"].includes(t.frequency)&&(e.byDayOfMonth=[e.start.get("day")])},deps:()=>[dD,dQ,dG,dV,dW,dB]};function d0(t,e,r){let n=t.set("month",1).set("day",1);return r<0&&(n=n.add(1,"year")),n=dY(n,e),r<0?n.add(r,"week"):n.add(r-1,"week")}function d1(t,e){let r=cV(t.get("weekday"),e);return t.subtract(0===r?0:7-r,"day")}class d2 extends dx{run(t){return"YEARLY"===this.options.frequency?void 0===this.options.byMonthOfYear?this.expandYearly(t):this.expandMonthly(t):"MONTHLY"===this.options.frequency?this.expandMonthly(t):this.expand(t)}expandYearly(t){let e=d6(t,this.options.byDayOfWeek)[0],r=0,n=t;for(;!e&&r<28;)r++,e=d6(n=n.granularity("year").subtract(1,"millisecond"),this.options.byDayOfWeek)[0];if(!e)throw new fy("The byDayOfWeek rule appears to contain an impossible combination");return this.result(t,e)}expandMonthly(t){let e=d4(t,this.options.byDayOfWeek)[0],r=0,n=t;for(;!e&&r<50;)r++,e=d4(n=n.granularity("month").subtract(1,"millisecond"),this.options.byDayOfWeek)[0];if(!e)throw new fy("The byDayOfWeek rule appears to contain an impossible combination");return this.result(t,e)}expand(t){let e=this.options.byDayOfWeek.map(e=>d1(t,e)).sort(cj).pop();return this.result(t,e)}result(t,e){return e.isEqual(t)?this.validateDate(new fg(t)):this.validateDate(new fm(e.endGranularity("day")))}}function d6(t,e){return cW([...e.filter(t=>Array.isArray(t)).map(e=>d0(t,...e)),...e.filter(t=>"string"==typeof t).map(e=>d1(t,e)).filter(e=>e.get("year")===t.get("year"))]).filter(e=>e.isBeforeOrEqual(t)).sort(cj).reverse()}function d4(t,e){return cW([...e.filter(t=>Array.isArray(t)).map(e=>dK(t,...e)),...e.filter(t=>"string"==typeof t).map(e=>d1(t,e)).filter(e=>e.get("year")===t.get("year")&&e.get("month")===t.get("month"))]).filter(e=>e.isBeforeOrEqual(t)).sort(cj).reverse()}class d3 extends dM{run(t){return"YEARLY"===this.options.frequency?void 0===this.options.byMonthOfYear?this.expandYearly(t):this.expandMonthly(t):"MONTHLY"===this.options.frequency?this.expandMonthly(t):this.expand(t)}expandYearly(t){let e=d8(t,this.options.byDayOfWeek)[0],r=0,n=t;for(;!e&&r<28;)r++,e=d8(n=n.granularity("year").add(1,"year"),this.options.byDayOfWeek)[0];if(!e)throw new fy("The byDayOfWeek rule appears to contain an impossible combination");return this.result(t,e)}expandMonthly(t){let e=d5(t,this.options.byDayOfWeek)[0],r=0,n=t;for(;!e&&r<50;)r++,e=d5(n=n.granularity("month").add(1,"month"),this.options.byDayOfWeek)[0];if(!e)throw new fy("The byDayOfWeek rule appears to contain an impossible combination");return this.result(t,e)}expand(t){let e=this.options.byDayOfWeek.map(e=>dY(t,e)).sort(cj)[0];return this.result(t,e)}result(t,e){return e.isEqual(t)?this.validateDate(new fg(t)):this.validateDate(new fm(e.granularity("day")))}}function d8(t,e){return cW([...e.filter(t=>Array.isArray(t)).map(e=>d0(t,...e)),...e.filter(t=>"string"==typeof t).map(e=>dY(t,e)).filter(e=>e.get("year")===t.get("year"))]).filter(e=>e.isAfterOrEqual(t)).sort(cj)}function d5(t,e){return cW([...e.filter(t=>Array.isArray(t)).map(e=>dK(t,...e)),...e.filter(t=>"string"==typeof t).map(e=>dY(t,e)).filter(e=>e.get("year")===t.get("year")&&e.get("month")===t.get("month"))]).filter(e=>e.isAfterOrEqual(t)).sort(cj)}let d7={name:"ByDayOfWeek",get:t=>void 0===t.options.byDayOfWeek?null:t.reverse?new d2(t):new d3(t),normalizeOptions:(t,e)=>{if(void 0!==t.byDayOfWeek){if(!dR(t.byDayOfWeek))throw new ff('"byDayOfWeek" expects a non-empty array');let r=t.byDayOfWeek.find(t=>Array.isArray(t)?!g.WEEKDAYS.includes(t[0]):!g.WEEKDAYS.includes(t));if(r)throw new ff(`"byDayOfWeek" expects weedays in the form ${JSON.stringify(g.WEEKDAYS)} but "${r}" was provided`);if(!["YEARLY","MONTHLY"].includes(t.frequency)&&t.byDayOfWeek.some(t=>Array.isArray(t)))throw new ff('"byDayOfWeek" can only include a numeric value (i.e. `[string, number]`) when the "frequency" is either "MONTHLY" or "YEARLY"');if("MONTHLY"===t.frequency&&t.byDayOfWeek.some(t=>Array.isArray(t)&&(t[1]<-31||0===t[1]||t[1]>31)))throw new ff('when "frequency" is "MONTHLY", each "byDayOfWeek" can optionally only have a numeric value >= -31 and <= 31 and !== 0');if("YEARLY"===t.frequency&&t.byDayOfWeek.some(t=>Array.isArray(t)&&(t[1]<-366||0===t[1]||t[1]>366)))throw new ff('when "frequency" is "YEARLY", each "byDayOfWeek" can optionally only have a numeric value >= -366 and <= 366 and !== 0');e.byDayOfWeek=t.byDayOfWeek}else dR(t.byDayOfMonth)||"WEEKLY"!==t.frequency||(e.byDayOfWeek=[e.start.get("weekday")])},deps:()=>[dD,d7,dG,dV,dW,dB]};class d9 extends dx{constructor(){super(...arguments),this.option=this.processor.options.byMonthOfYear.slice().reverse()}run(t){let e=t.get("month");for(let r of this.option)if(!(e<r)){if(e===r)return this.validateDate(new fg(t));return this.validateDate(new fm(t.endGranularity("year").set("month",r)))}return this.validateDate(new fm(t.endGranularity("year").subtract(1,"year").set("month",this.option[0])))}}class pt extends dM{run(t){let e=t.get("month");for(let r of this.options.byMonthOfYear)if(!(e>r)){if(e===r)return this.validateDate(new fg(t));return this.validateDate(new fm(t.granularity("year").set("month",r)))}return this.validateDate(new fm(t.granularity("year").add(1,"year").set("month",this.options.byMonthOfYear[0])))}}let pe={name:"ByMonthOfYear",get:t=>void 0===t.options.byMonthOfYear?null:t.reverse?new d9(t):new pt(t),normalizeOptions:(t,e)=>{if(void 0!==t.byMonthOfYear){if(!dR(t.byMonthOfYear))throw new ff('"byMonthOfYear" expects a non-empty array');if(t.byMonthOfYear.some(t=>t<1||t>12))throw new ff('"byMonthOfYear" values must be `num >= 1 && num >= 12`');e.byMonthOfYear=t.byMonthOfYear.slice(),e.byMonthOfYear.sort(fo)}else dR(t.byDayOfMonth)||dR(t.byDayOfWeek)||dR(t.byDayOfYear)||"YEARLY"!==t.frequency||(e.byMonthOfYear=[e.start.get("month")])},deps:()=>[dD,pe,dQ,dG,dV,dW,dB]},pr=[dD,pe,dQ,d7,dG,dV,dW,dB];class pn extends cx{constructor(t,e={}){if(super(void 0,e),!["UTC",null,void 0].includes(e.timezone))throw new cM(`StandardDateAdapter only supports "UTC" and local time zones but "${e.timezone}" was provided.`);this._date=new Date(t),this.timezone=void 0!==e.timezone?e.timezone:null,e.metadata&&Object.assign(this.metadata,e.metadata),this.assertIsValid()}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static fromDate(t,e){return new pn(t,e)}static fromJSON(t){let e;let r=[t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond];switch(t.timezone){case"UTC":e=new pn(new Date(Date.UTC(...r)),{timezone:"UTC",duration:t.duration});break;case null:e=new pn(new Date(...r),{timezone:null,duration:t.duration});break;default:throw new cM(`The \`StandardDateAdapter\` only supports datetimes in UTC or LOCAL (null) time. You provided a JSON object with timezone "${t.timezone}".`)}return t.metadata&&Object.assign(e.metadata,t.metadata),e}static fromDateTime(t){let e=pn.fromJSON(t.toJSON());return e.generators.push(...t.generators),t.metadata&&Object.assign(e.metadata,t.metadata),e}get date(){return new Date(this._date)}get end(){if(this.duration)return this._end||(this._end=pn.fromDateTime(this.toDateTime().add(this.duration,"millisecond")).date),this._end}set(t,e){if("timezone"===t)return this.timezone===e?this:new pn(this._date,{timezone:e,duration:this.duration,generators:this.generators});if("duration"===t)return this.duration===e?this:new pn(this._date,{timezone:this.timezone,duration:e,generators:this.generators});throw new fn(`Unknown prop "${t}" for StandardDateAdapter#set()`)}valueOf(){return this._date.valueOf()}toJSON(){let t;return t="UTC"===this.timezone?{timezone:this.timezone,year:this._date.getUTCFullYear(),month:this._date.getUTCMonth()+1,day:this._date.getUTCDate(),hour:this._date.getUTCHours(),minute:this._date.getUTCMinutes(),second:this._date.getUTCSeconds(),millisecond:this._date.getUTCMilliseconds()}:{timezone:this.timezone,year:this._date.getFullYear(),month:this._date.getMonth()+1,day:this._date.getDate(),hour:this._date.getHours(),minute:this._date.getMinutes(),second:this._date.getSeconds(),millisecond:this._date.getMilliseconds()},this.duration&&(t.duration=this.duration),t}assertIsValid(){if(!pn.isDate(this._date)||isNaN(this._date.valueOf()))throw new cM("StandardDateAdapter has invalid date.");if([null,"UTC"].includes(this.timezone)){if(this.duration&&this.duration<=0)throw new cM("If provided, duration must be greater than 0.")}else throw new cM(`StandardDateAdapter only supports local (null) and UTC timezones but "${this.timezone}" was specified.`);return!0}}pn.hasTimezoneSupport=!1,cx.adapter=pn,da.recurrenceRules=pr;class pi extends Error{}class po extends Error{}function pa(t,e,r){r.data&&(!0===r.data?e.data=t.data:e.data=r.data(t),void 0===e.data&&delete e.data)}function ps(t,e){fw.JSON_FN_MAP.set(t,e)}function pu(t,e,r){if(!t)throw new n2(e,r)}function pl(t){try{let e=cD(t);return{type:"recur",schedule:new dh({rrules:e,data:{skipWeekend:t.skipWeekend,weekendSolve:t.weekendSolveMode}})}}catch(t){throw new n2("parse-recur-date",t.message)}}function pc(t){if("string"!=typeof t);else if(10===t.length)return ei(tC(t))?{type:"date",date:t}:null;else if(7===t.length)return ei(tC(t+"-01"))?{type:"month",date:t}:null;else if(4===t.length)return ei(tC(t+"-01-01"))?{type:"year",date:t}:null;return null}function pf(t){let{num1:e,num2:r}=t;return"number"!=typeof e||"number"!=typeof r?null:{type:"between",num1:e,num2:r}}fw.JSON_FN_MAP=new Map,fw.prototype.toJSON=function(t){throw new po(`To support smaller bundles, ${this.constructor.name}#toJSON() must be manually added. See "@rschedule/json-tools" in the rSchedule docs.`)},fw.fromJSON=function(t,e){if("object"!=typeof t||null===t)throw new pi(`Invalid json "${t}"`);let r=fw.JSON_FN_MAP.get(t.type);if(!r)throw new pi(`Unknown rSchedule object type "${t.type}". Have you added a json serializer for "${t.type}"? See "@rschedule/json-tools" in the rSchedule docs.`);return r(t,e)},fk.prototype.toJSON=function(t={}){let e={type:"Dates",dates:this.adapters.map(t=>t.toJSON())};return t.nested||(e.timezone=this.timezone),pa(this,e,t),e},fk.fromJSON=function(t,e={}){if("Dates"!==t.type)throw new pi("Invalid Dates JSON");return new fk({dates:t.dates.map(t=>cx.adapter.fromJSON(t)),data:"function"==typeof e.data?e.data(t):t.data,timezone:e.timezone||t.timezone})},ps("Dates",fk.fromJSON),da.prototype.toJSON=function(t={}){let e={type:"Rule",config:Object.assign(Object.assign({},fs(this.options)),{start:this.normalizeDateInput(this.options.start).toJSON()})};return this.options.end&&(e.config.end=this.normalizeDateInput(this.options.end).toJSON()),t.nested||(e.timezone=this.timezone),pa(this,e,t),e},da.fromJSON=function(t,e={}){return new da(Object.assign(Object.assign({},t.config),{start:cx.adapter.fromJSON(t.config.start),end:t.config.end&&cx.adapter.fromJSON(t.config.end)}),{data:"function"==typeof e.data?e.data(t):t.data,timezone:e.timezone||t.timezone})},ps("Rule",da.fromJSON),dh.prototype.toJSON=function(t={}){let e={type:"Schedule",rrules:this.rrules.map(e=>e.toJSON(Object.assign(Object.assign({},t),{nested:!0}))),exrules:this.exrules.map(e=>e.toJSON(Object.assign(Object.assign({},t),{nested:!0}))),rdates:this.rdates.toJSON(Object.assign(Object.assign({},t),{nested:!0})),exdates:this.exdates.toJSON(Object.assign(Object.assign({},t),{nested:!0}))};return t.nested||(e.timezone=this.timezone),pa(this,e,t),e},dh.fromJSON=function(t,e={}){if("Schedule"!==t.type)throw new pi("Invalid Schedule JSON");return new dh({rrules:t.rrules.map(r=>da.fromJSON(r,Object.assign({timezone:t.timezone},e))),exrules:t.exrules.map(r=>da.fromJSON(r,Object.assign({timezone:t.timezone},e))),rdates:fk.fromJSON(t.rdates,Object.assign({timezone:t.timezone},e)),exdates:fk.fromJSON(t.exdates,Object.assign({timezone:t.timezone},e)),data:"function"==typeof e.data?e.data(t):t.data,timezone:e.timezone||t.timezone})},ps("Schedule",dh.fromJSON);let pd={date:{ops:["is","isapprox","gt","gte","lt","lte"],nullable:!1,parse(t,e,r){let n="string"==typeof e?pc(e):null!=e.frequency?pl(e):null;return pu(n,"date-format",`Invalid date format (field: ${r})`),"isapprox"===t?pu("date"===n.type||"recur"===n.type,"date-format",`Invalid date value for isapprox (field: ${r})`):("gt"===t||"gte"===t||"lt"===t||"lte"===t)&&pu("date"===n.type,"date-format",`Invalid date value for ${t} (field: ${r})`),n}},id:{ops:["is","contains","matches","oneOf","isNot","doesNotContain","notOneOf"],nullable:!0,parse:(t,e,r)=>(("oneOf"===t||"notOneOf"===t)&&pu(Array.isArray(e),"no-empty-array",`oneOf must have an array value (field: ${r})`),e)},string:{ops:["is","contains","matches","oneOf","isNot","doesNotContain","notOneOf","hasTags"],nullable:!0,parse:(t,e,r)=>"oneOf"===t||"notOneOf"===t?(pu(Array.isArray(e),"no-empty-array",`oneOf must have an array value (field: ${r}): ${JSON.stringify(e)}`),e.filter(Boolean).map(t=>t.toLowerCase())):(("contains"===t||"matches"===t||"doesNotContain"===t||"hasTags"===t)&&pu("string"==typeof e&&e.length>0,"no-empty-string",`contains must have non-empty string (field: ${r})`),e.toLowerCase())},imported_payee:{ops:["is","contains","matches","oneOf","isNot","doesNotContain","notOneOf"],nullable:!0,parse:(t,e,r)=>"oneOf"===t||"notOneOf"===t?(pu(Array.isArray(e),"no-empty-array",`${t} must have an array value (field: ${r}): ${JSON.stringify(e)}`),e.filter(Boolean).map(t=>t.toLowerCase())):(("contains"===t||"matches"===t||"doesNotContain"===t)&&pu("string"==typeof e&&e.length>0,"no-empty-string",`${t} must have non-empty string (field: ${r})`),e.toLowerCase())},number:{ops:["is","isapprox","isbetween","gt","gte","lt","lte"],nullable:!1,parse(t,e,r){let n="number"==typeof e?{type:"literal",value:e}:pf(e);return pu(null!=n,"not-number",`Value must be a number or between amount: ${JSON.stringify(e)} (field: ${r})`),"isbetween"===t?pu("between"===n.type,"number-format",`Invalid between value for ${t} (field: ${r})`):pu("literal"===n.type,"number-format",`Invalid number value for ${t} (field: ${r})`),n}},boolean:{ops:["is"],nullable:!1,parse:(t,e,r)=>(pu("boolean"==typeof e,"not-boolean",`Value must be a boolean: ${e} (field: ${r})`),e)}};class pp{field;op;options;rawValue;type;unparsedValue;value;constructor(t,e,r,n,o){let a=o.get(e);pu(a,"internal","Invalid condition field: "+e);let s=pd[a];pu(s,"internal",`Invalid condition type: ${a} (field: ${e})`),pu(s.ops.includes(t),"internal",`Invalid condition operator: ${t} (type: ${a}, field: ${e})`),!0!==s.nullable&&pu(null!=r,"no-null",`Field cannot be empty: ${e}`),"string"===a&&!0!==s.nullable&&pu(""!==r,"no-null",`Field cannot be empty: ${e}`),this.rawValue=r,this.unparsedValue=r,this.op=t,this.field=e,this.value=s.parse?s.parse(t,r,e):r,this.options=n,this.type=a}eval(t){let e=t[this.field];if(void 0===e)return!1;"string"==typeof e&&(e=e.toLowerCase());let r=this.type;if("number"===r&&this.options){if(this.options.outflow){if(e>0)return!1;e=-e}else if(this.options.inflow&&e<0)return!1}let n=t=>"number"===r?t.value:t;switch(this.op){case"isapprox":case"is":if("date"===r){if(null==e)return!1;if("recur"===this.value.type){let{schedule:t}=this.value;if("isapprox"!==this.op)return t.occursOn({date:rD(e)});{let r=rD(e);return t.occursBetween(r_(r,2),rd(r,2))}}{let{date:t}=this.value;if("isapprox"===this.op){let r=rD(t),n=rW(r,2);return e>=rH(r,2)&&e<=n}switch(this.value.type){case"date":return e===t;case"month":return rC(e)===t;case"year":return rR(e)===t}}}else if("number"===r){let t=this.value.value;if("isapprox"===this.op){let r=cS(t);return e>=t-r&&e<=t+r}return e===t}return e===this.value;case"isNot":return e!==this.value;case"isbetween":{let[t,r]=cv(this.value.num1,this.value.num2);return e>=t&&e<=r}case"contains":case"hasTags":if(null===e)break;return -1!==e.indexOf(this.value);case"doesNotContain":if(null===e)break;return -1===e.indexOf(this.value);case"oneOf":if(null===e)break;return -1!==this.value.indexOf(e);case"notOneOf":if(null===e)break;return -1===this.value.indexOf(e);case"gt":if(null===e)break;if("date"===r)return rV(e,this.value.date);return e>n(this.value);case"gte":if(null===e)break;if("date"===r)return e===this.value.date||rV(e,this.value.date);return e>=n(this.value);case"lt":if(null===e)break;if("date"===r)return rz(e,this.value.date);return e<n(this.value);case"lte":if(null===e)break;if("date"===r)return e===this.value.date||rz(e,this.value.date);return e<=n(this.value);case"matches":if(null===e)break;try{return new RegExp(this.value).test(e)}catch(t){console.log("invalid regexp in matches condition",t)}}return!1}getValue(){return this.value}serialize(){return{op:this.op,field:this.field,value:this.unparsedValue,type:this.type,...this.options?{options:this.options}:null}}}let ph=["set","set-split-amount","link-schedule","prepend-notes","append-notes"];class py{field;op;options;rawValue;type;value;constructor(t,e,r,n,o){if(pu(ph.includes(t),"internal",`Invalid action operation: ${t}`),"set"===t){let t=o.get(e);pu(t,"internal",`Invalid field for action: ${e}`),this.field=e,this.type=t}else"set-split-amount"===t?(this.field=null,this.type="number"):"link-schedule"===t?(this.field=null,this.type="id"):("prepend-notes"===t||"append-notes"===t)&&(this.field="notes",this.type="id");"account"===e&&pu(r,"no-null",`Field cannot be empty: ${e}`),this.op=t,this.rawValue=r,this.value=r,this.options=n}exec(t){switch(this.op){case"set":t[this.field]=this.value;break;case"set-split-amount":"fixed-amount"===this.options.method&&(t.amount=this.value);break;case"link-schedule":t.schedule=this.value;break;case"prepend-notes":t[this.field]=t[this.field]?this.value+t[this.field]:this.value;break;case"append-notes":t[this.field]=t[this.field]?t[this.field]+this.value:this.value}}serialize(){return{op:this.op,field:this.field,value:this.value,type:this.type,...this.options?{options:this.options}:null}}}function pg(t,e){let r=e;return t.forEach(t=>t.exec(r)),r}function pm(t,e){let r=t.filter(t=>!t.options?.splitIndex),n=t.filter(t=>t.options?.splitIndex),o=t.reduce((t,e)=>Math.max(t,e.options?.splitIndex??0),0)+1,a=pg(r,e);if(1===o||a.is_child)return a;let s=n.filter(t=>"set-split-amount"===t.op),u=s.filter(t=>"fixed-amount"===t.options.method),l={};u.forEach(t=>{l[t.options.splitIndex??0]=t.value});let c=Object.keys(l).length,f=Object.values(l).reduce((t,e)=>t+e,0);if(c===o&&f!==(e.amount??f))return e;let{data:d,newTransaction:p}=nv(nm(a),e.id);a=nd(p),d[0]=a;let h=d;for(let t of n){let r=t.options?.splitIndex??0;if(r>=a.subtransactions.length){let{data:t,newTransaction:r}=nb(h,e.id);a=nd(r),t[0]=a,h=t}t.exec(a.subtransactions[r])}if(c!==o){let t=(e.amount??f)-f,r=t;s.filter(t=>"fixed-percent"===t.options.method).forEach(e=>{let n=e.options.splitIndex,o=Math.round(e.value/100*t);a.subtransactions[n].amount=o,r-=o});let n=s.filter(t=>"remainder"===t.options.method);if(0!==r){if(0===n.length){let t=o,{newTransaction:n}=nb(h,e.id);(a=nd(n)).subtransactions[t].amount=r}else{let t=Math.round(r/n.length),e=-1;n.forEach(n=>{let o=n.options.splitIndex;a.subtransactions[o].amount=t,r-=t,e=Math.max(e,o)}),a.subtransactions[e].amount-=r}a=nd(a)}}return a.subtransactions=a.subtransactions.slice(1),a}class p_{actions;conditions;conditionsOp;id;stage;constructor({id:t,stage:e,conditionsOp:r,conditions:n,actions:o,fieldTypes:a}){this.id=t,this.stage=e,this.conditionsOp=r,this.conditions=n.map(t=>new pp(t.op,t.field,t.value,t.options,a)),this.actions=o.map(t=>new py(t.op,t.field,t.value,t.options,a))}evalConditions(t){if(0===this.conditions.length)return!1;let e="or"===this.conditionsOp?"some":"every";return this.conditions[e](e=>e.eval(t))}execActions(t){let e=pm(this.actions,{...t});return Object.keys(e).reduce((r,n)=>(e[n]!==t[n]&&(r[n]=e[n]),r),{})}exec(t){return this.evalConditions(t)?this.execActions(t):null}apply(t){let e=this.exec(t);return Object.assign({},t,e)}getId(){return this.id}serialize(){return{id:this.id,stage:this.stage,conditionsOp:this.conditionsOp,conditions:this.conditions.map(t=>t.serialize()),actions:this.actions.map(t=>t.serialize())}}}class pb{field;method;rules;constructor({field:t,method:e}){this.field=t,this.method=e,this.rules=new Map}getIndex(t){return this.rules.has(t)||this.rules.set(t,new Set),this.rules.get(t)}getIndexForValue(t){return this.getIndex(this.getKey(t)||"*")}getKey(t){return"string"==typeof t&&""!==t?"firstchar"===this.method?t[0].toLowerCase():t.toLowerCase():null}getIndexes(t){let e=t.conditions.find(t=>t.field===this.field),r=[];return e&&("oneOf"===e.op||"is"===e.op||"isNot"===e.op||"notOneOf"===e.op)?"oneOf"===e.op||"notOneOf"===e.op?e.value.forEach(t=>r.push(this.getIndexForValue(t))):r.push(this.getIndexForValue(e.value)):r.push(this.getIndex("*")),r}index(t){this.getIndexes(t).forEach(e=>{e.add(t)})}remove(t){this.getIndexes(t).forEach(e=>{e.delete(t)})}getApplicableRules(t){let e;if(this.field in t){let r=this.getKey(t[this.field]);r&&(e=this.rules.get(r))}return r7(e||new Set,this.rules.get("*")||new Set)}}let pw={is:10,isNot:10,oneOf:9,notOneOf:9,isapprox:5,isbetween:5,gt:1,gte:1,lt:1,lte:1,contains:0,doesNotContain:0,matches:0,hasTags:0};function pE(t){let e=t.conditions.reduce((t,e)=>null==pw[e.op]?(console.log(`Found invalid operation while ranking: ${e.op}`),0):t+pw[e.op],0);return t.conditions.every(t=>"is"===t.op||"isNot"===t.op||"isapprox"===t.op||"oneOf"===t.op||"notOneOf"===t.op)?2*e:e}function pv(t){let e=new Map;return t.forEach(t=>{e.set(t,pE(t))}),[...t].sort((t,r)=>{let n=e.get(t),o=e.get(r);if(n<o)return -1;if(n>o)return 1;{let e=t.getId(),n=r.getId();return e<n?-1:e>n?1:0}})}function pS(t){let e=[],r=[],n=[];for(let o of t)switch(o.stage){case"pre":e.push(o);break;case"post":n.push(o);break;default:r.push(o)}return e=pv(e),r=pv(r),n=pv(n),e.concat(r).concat(n)}function pT(t,e){for(let r=0;r<t.conditions.length;r++){let n=t.conditions[r];if("id"===n.type)switch(n.op){case"is":case"isNot":n.value=e.get(n.rawValue)||n.rawValue,n.unparsedValue=n.value;break;case"oneOf":n.value=n.rawValue.map(t=>e.get(t)||t),n.unparsedValue=[...n.value];break;case"notOneOf":n.value=n.rawValue.map(t=>e.get(t)||t),n.unparsedValue=[...n.value]}}for(let r=0;r<t.actions.length;r++){let n=t.actions[r];"id"===n.type&&"set"===n.op&&(n.value=e.get(n.rawValue)||n.rawValue)}}function pO(t,e,r){let n;o:for(n=0;n<t.length;n++){let o=t[n];for(let t=0;t<o.conditions.length;t++){let n=o.conditions[t];if("id"===n.type&&n.field===e)switch(n.op){case"is":case"isNot":if(r(o,n.value))continue o;break;case"oneOf":for(let t=0;t<n.value.length;t++)if(r(o,n.value[t]))continue o;break;case"notOneOf":for(let t=0;t<n.value.length;t++)if(r(o,n.value[t]))continue o}}for(let t=0;t<o.actions.length;t++){let n=o.actions[t];if("id"===n.type&&n.field===e&&"set"===n.op&&r(o,n.value))break}}}async function pA(t){return lM("SELECT * FROM payees WHERE transfer_acct = ?",[t])}async function pI(t){if(t.payee){let{transfer_acct:e}=await lM("SELECT id, transfer_acct FROM v_payees WHERE id = ?",[t.payee]);return e}return null}async function pN(t,e){let{offbudget:r}=await lM("SELECT offbudget FROM accounts WHERE id = ?",[t.account]),{offbudget:n}=await lM("SELECT offbudget FROM accounts WHERE id = ?",[e]);return r===n&&(await cc({id:t.id,category:null}),!0)}async function pD(t,e){if(t.is_parent)return null;let{id:r}=await lM("SELECT id FROM payees WHERE transfer_acct = ?",[t.account]);if(t.parent_id){let e=await lM(`
        SELECT p.id, p.transfer_acct FROM v_transactions t
        LEFT JOIN payees p ON p.id = t.payee
        WHERE t.id = ?
      `,[t.parent_id]);if(e.transfer_acct&&e.id!==t.payee)return await cc({id:t.id,payee:null}),{id:t.id,payee:null}}let n=await cl({account:e,amount:-t.amount,payee:r,date:t.date,transfer_id:t.id,notes:t.notes||null,schedule:t.schedule,cleared:!1});await cc({id:t.id,transfer_id:n});let o=await pN(t,e);return{id:t.id,transfer_id:n,...o?{category:null}:{}}}async function pR(t){let e=await cs(t.transfer_id);return e&&(e.is_child?await cc({id:t.transfer_id,transfer_id:null,payee:null}):await cf({id:t.transfer_id})),await cc({id:t.id,transfer_id:null}),{id:t.id,transfer_id:null}}async function pC(t,e){let r=await pA(t.account);if(await cc({id:t.transfer_id,account:e,payee:r.id,date:t.date,notes:t.notes,amount:-t.amount,schedule:t.schedule}),await pN(t,e))return{id:t.id,category:null}}async function pM(t){let e=await pI(t);if(e)return pD(t,e)}async function px(t){t.transfer_id&&await pR(t)}async function pk(t){let e=await pI(t);return t.is_parent?pR(t):e&&!t.transfer_id?pD(t,e):!e&&t.transfer_id?pR(t):e&&t.transfer_id?pC(t,e):void 0}async function pL(t){let e=a_(t,"parent_id"),r=await lC(`SELECT id FROM v_transactions_internal WHERE ${e}`),n=new Set(t);for(let t of r)n.add(t.id);return[...n]}async function pF(t){return am((t,e)=>lW("transactions",t,e),t,t=>`id = '${t}'`,t=>`SELECT * FROM v_transactions_internal WHERE ${t}`)}async function pP({added:t,deleted:e,updated:r,learnCategories:n=!1,detectOrphanPayees:o=!0,runTransfers:a=!0}){let s,u=[],l=r?r.map(t=>t.id):[],c=e?await pL(e.map(t=>t.id)):[],f=new Set,d=await lC("SELECT * FROM accounts WHERE tombstone = 0");if(r){let t=r.filter(t=>t.payee).map(t=>t.id),e=await pF(t);for(let t=0;t<e.length;t++)f.add(e[t].payee)}await ln(async()=>{t&&(u=await Promise.all(t.map(async t=>cl(t)))),e&&await Promise.all(c.map(async t=>{await cf({id:t})})),r&&await Promise.all(r.map(async t=>{t.account&&1===d.find(e=>e.id===t.account).offbudget&&(t.category=null),await cc(t)}))});let p=await pF(u),h=await pF(l),y=await pF(c),g=p,m=h;if(a&&await ln(async()=>{await Promise.all(p.map(t=>pM(t))),s=(await Promise.all(h.map(t=>pk(t)))).filter(Boolean),await Promise.all(y.map(t=>px(t)))}),n){let e=new Set([...t?t.filter(t=>t.category).map(t=>t.id):[],...r?r.filter(t=>t.category).map(t=>t.id):[]]);await p9(p.concat(h).filter(t=>e.has(t.id)))}if(o&&r){let t=r.map(t=>t.payee).filter(Boolean);if(t.length>0){let e=new Set(await ct()),r=[...f].filter(t=>e.has(t));r.length>0&&i_("orphaned-payees",{orphanedIds:r,updatedPayeeIds:t})}}return{added:g,updated:a?s:m}}function pB(){c=new Map,d=new pb({field:"imported_payee",method:"firstchar"}),p=new pb({field:"payee"})}function pU(t){return Object.fromEntries(Object.entries(t).map(t=>[t[1],t[0]]))}let pj=ac.views.transactions.fields,pW=pU(ac.views.transactions.fields);function pH(t){return{...t,field:pW[t.field]||t.field}}function pz(t){return{...t,field:pj[t.field]||t.field}}function pV(t){let e;try{e="string"==typeof t?JSON.parse(t):t}catch(t){throw new n2("internal","Cannot parse rule json")}if(!Array.isArray(e))throw new n2("internal","Rule json must be an array");return e}function p$(t){return t?pV(t).map(t=>pH(t)):[]}function pq(t){return JSON.stringify(t.map(t=>pz(t)))}let pG={validate(t,{update:e}={}){if(of("rules",t,["conditions","actions"],e),(!e||"stage"in t)&&"pre"!==t.stage&&"post"!==t.stage&&null!==t.stage)throw Error("Invalid rule stage: "+t.stage);if((!e||"conditionsOp"in t)&&!["and","or"].includes(t.conditionsOp))throw Error("Invalid rule conditionsOp: "+t.conditionsOp);return t},toJS(t){let{conditions:e,conditions_op:r,actions:n,...o}=t;return{...o,conditionsOp:r,conditions:p$(e),actions:p$(n)}},fromJS(t){let{conditions:e,conditionsOp:r,actions:n,...o}=t;return r&&(o.conditions_op=r),Array.isArray(e)&&(o.conditions=pq(e)),Array.isArray(n)&&(o.actions=pq(n)),o}};function pY(t){let e;try{e=new p_({...pG.toJS(t),fieldTypes:cE})}catch(t){if(console.warn("Invalid rule",t),t instanceof n2)return null;throw t}return pT(e,cA()),e}async function pK(){pB();let t=await lC(`
    SELECT * FROM rules
      WHERE conditions IS NOT NULL AND actions IS NOT NULL AND tombstone = 0
  `);for(let e=0;e<t.length;e++){let r=t[e];("cleanup"===r.stage||"modify"===r.stage)&&(r.stage="pre");let n=pY(r);n&&(c.set(n.id,n),d.index(n),p.index(n))}f&&f(),f=u3(p0)}function pZ(){return[...c.values()]}async function pJ(t){return t=pG.validate(t),lP("rules",pG.fromJS(t))}async function pX(t){return t=pG.validate(t,{update:!0}),lF("rules",pG.fromJS(t))}async function pQ(t){return!await lM("SELECT id FROM schedules WHERE rule = ?",[t])&&(await lU("rules",t),!0)}function p0(t,e){e.forEach((t,e)=>{"rules"===e&&t.forEach(t=>{let e=c.get(t.id);if(1===t.tombstone){let e=c.get(t.id);e&&(c.delete(e.getId()),d.remove(e),p.remove(e))}else{let r=pY(t);r&&(e&&(d.remove(e),p.remove(e)),c.set(t.id,r),d.index(r),p.index(r))}})}),[...e.keys()].find(t=>-1!==t.indexOf("mapping"))&&pZ().forEach(t=>{pT(t,cA())})}function p1(t){let e={...t},r=pS(r7(d.getApplicableRules(t),p.getApplicableRules(t)));for(let t=0;t<r.length;t++)e=r[t].apply(e);return e}function p2(t,{recurDateBounds:e=100}={}){let r=[];return{filters:(t=t.map(t=>{if(t instanceof pp)return t;try{return new pp(t.op,t.field,t.value,t.options,cE)}catch(t){return r.push(t.type||"internal"),console.log("conditionsToAQL: invalid condition: "+t.message),null}}).filter(Boolean)).map(t=>{let{type:r,field:n,op:o,value:a,options:s}=t,u=t=>"number"===r?t.value:t,l=(t,e,n)=>{if("number"===r){if(s){if(s.outflow)return{$and:[{amount:{$lt:0}},{[t]:{$transform:"$neg",[e]:n}}]};if(s.inflow)return{$and:[{amount:{$gt:0}},{[t]:{[e]:n}}]}}return{amount:{[e]:n}}}return"string"===r?{[t]:{$transform:"$lower",[e]:n}}:"date"===r?{[t]:{[e]:n.date}}:{[t]:{[e]:n}}};switch(o){case"isapprox":case"is":if("date"===r){if("recur"===a.type)return{$or:a.schedule.occurrences({take:e}).toArray().map(t=>rM(t.date)).map(t=>"isapprox"===o?{$and:[{date:{$gte:rH(t,2)}},{date:{$lte:rW(t,2)}}]}:{date:t})};if("isapprox"===o){let t=rD(a.date),e=rW(t,2);return{$and:[{date:{$gte:rH(t,2)}},{date:{$lte:e}}]}}switch(a.type){case"date":return{date:a.date};case"month":return{$and:[{date:{$gte:a.date+"-00"}},{date:{$lte:a.date+"-99"}}]};case"year":return{$and:[{date:{$gte:a.date+"-00-00"}},{date:{$lte:a.date+"-99-99"}}]}}}else if("number"===r){let t=a.value;if("isapprox"===o){let e=cS(t);return{$and:[l(n,"$gte",t-e),l(n,"$lte",t+e)]}}return l(n,"$eq",t)}else if("string"===r&&""===a)return{$or:[l(n,"$eq",null),l(n,"$eq","")]};return l(n,"$eq",a);case"isNot":return l(n,"$ne",a);case"isbetween":let[c,f]=cv(a.num1,a.num2);return{[n]:[{$gte:c},{$lte:f}]};case"contains":return l("id"===r?n+".name":n,"$like","%"+a+"%");case"matches":return l("id"===r?n+".name":n,"$regexp",a);case"doesNotContain":return l("id"===r?n+".name":n,"$notlike","%"+a+"%");case"oneOf":let d=a;if(0===d.length)return{id:null};return{$or:d.map(t=>l(n,"$eq",t))};case"hasTags":return{$and:a.split(/(?<!#)(#[\w\d\p{Emoji}-]+)(?=\s|$)/gu).filter(t=>t.startsWith("#")).map(t=>l(n,"$regexp",RegExp(`(^|\\s)${t}(\\s|$)`).source))};case"notOneOf":let p=a;if(0===p.length)return{id:null};return{$and:p.map(t=>l(n,"$ne",t))};case"gt":return l(n,"$gt",u(a));case"gte":return l(n,"$gte",u(a));case"lt":return l(n,"$lt",u(a));case"lte":return l(n,"$lte",u(a));case"true":return l(n,"$eq",!0);case"false":return l(n,"$eq",!1);default:throw Error("Unhandled operator: "+o)}}),errors:r}}async function p6(t,e){let r=e.map(t=>{if(t instanceof py)return t;try{if("set-split-amount"===t.op)return new py(t.op,null,t.value,t.options,cE);if("link-schedule"===t.op||"prepend-notes"===t.op||"append-notes"===t.op)return new py(t.op,null,t.value,null,cE);return new py(t.op,t.field,t.value,t.options,cE)}catch(t){return console.log("Action error",t),null}}).filter(Boolean);return r.length!==e.length?null:pP({updated:t.flatMap(t=>nm(pm(r,t)))})}function p4(t){let e=new Set;return pO(pZ(),"payee",(r,n)=>{n===t&&e.add(r)}),pS([...e])}function*p3(t,e,r,{condValue:n,actionValue:o}){let a=pZ();for(let s=0;s<a.length;s++){let u=a[s];u.stage===t&&1===u.actions.length&&"set"===u.actions[0].op&&u.actions[0].field===r&&(void 0===o||u.actions[0].value===o)&&1===u.conditions.length&&("is"===u.conditions[0].op||"isNot"===u.conditions[0].op)&&u.conditions[0].field===e&&(void 0===n||u.conditions[0].value===n)&&(yield u.serialize())}return null}function*p8(t,e,r,{condValue:n,actionValue:o}){let a=pZ();for(let s=0;s<a.length;s++){let u=a[s];u.stage===t&&1===u.actions.length&&"set"===u.actions[0].op&&u.actions[0].field===r&&(null==o||u.actions[0].value===o)&&1===u.conditions.length&&("oneOf"===u.conditions[0].op||"oneOf"===u.conditions[0].op)&&u.conditions[0].field===e&&(null==n||-1!==u.conditions[0].value.indexOf(n))&&(yield u.serialize())}return null}async function p5(t,e){let r=p8("pre","imported_payee","payee",{actionValue:e}).next().value;if(!r)return pJ(new p_({stage:"pre",conditionsOp:"and",conditions:[{op:"oneOf",field:"imported_payee",value:t}],actions:[{op:"set",field:"payee",value:e}],fieldTypes:cE}).serialize());{let e=r.conditions[0],n=[...r7(new Set(e.value),new Set(t.filter(t=>""!==t)))],o={...r,conditions:[{...e,value:n}]};return await pX(o),r.id}}function p7(t){let e=new Map;t.forEach(t=>{t.category&&e.set(t.category,(e.get(t.category)||0)+1)});let r=t.reduce((t,r)=>{let n=e.get(r.category);return!t||n>t.score?{score:n,category:r.category}:t},null);return r.score>=3?r.category:null}async function p9(t){if(0===t.length)return;let e=new Set(t.map(t=>t.payee)),r=new Set(t.map(t=>t.id)),n=null;for(let e=0;e<t.length;e++)(null===n||t[e].date<n)&&(n=t[e].date);n=rH(n,180);let o=r1(await lC(`SELECT t.* FROM v_transactions t
     LEFT JOIN accounts a ON a.id = t.account
     WHERE date >= ? AND date <= ? AND is_parent = 0 AND a.closed = 0
     ORDER BY date DESC`,[od(n),od(rW(rk(),180))]),"payee"),a=new Map;for(let t of e)if(t){let e=(o.get(t)||[]).slice(0,5);if(e.find(t=>r.has(t.id))){let r=p7(e);r&&a.set(t,r)}}await ln(async()=>{for(let[t,e]of a.entries()){let r=[...p3(null,"payee","category",{condValue:t})];if(r.length>0)for(let t of r){let r=t.actions[0];r.value!==e&&await pX({...t,actions:[{...r,value:e}]})}else{let r=new p_({stage:null,conditionsOp:"and",conditions:[{op:"is",field:"payee",value:t}],actions:[{op:"set",field:"category",value:e}],fieldTypes:cE});await pJ(r.serialize())}}})}function ht(t,e){return{type:"BankSyncError",category:t,code:e}}function he(t,e){let{subtransactions:r,...n}=nd({...t,is_parent:!0,subtransactions:e.map((e,r)=>nf(t,{...e,sort_order:0-r}))});return[n,...r]}async function hr(t,e,r,n,o,a=!0){let s=await t5("user-token");if(!s)return;console.log("Pulling transactions from GoCardless");let u=await sZ(s2().GOCARDLESS_SERVER+"/transactions",{userId:t,key:e,requisitionId:n,accountId:r,startDate:o,includeBalance:a},{"X-ACTUAL-TOKEN":s});if(u.error_code)throw ht(u.error_type,u.error_code);if(!a)return console.log("Response:",u),{transactions:u.transactions.all};{let{transactions:{all:t},balances:e,startingBalance:r}=u;return console.log("Response:",u),{transactions:t,accountBalance:e,startingBalance:r}}}async function hn(t,e){let r=await t5("user-token");if(!r)return;console.log("Pulling transactions from SimpleFin");let n=await sZ(s2().SIMPLEFIN_SERVER+"/transactions",{accountId:t,startDate:e},{"X-ACTUAL-TOKEN":r},6e4);if(n.error_code)throw ht(n.error_type,n.error_code);let{transactions:{all:o},balances:a,startingBalance:s}=n;return console.log("Response:",n),{transactions:o,accountBalance:a,startingBalance:s}}async function hi(t,e,r){if(null==t.payee&&e){let t=r.get(e.toLowerCase());if(null!=(t=t||await ce(e)))return t.id;{let t={id:K(),name:e};return r.set(e.toLowerCase(),t),t.id}}return t.payee}async function ho(t,e,{rawPayeeName:r=!1}={}){let n=new Map,o=[];for(let a of t){if(null==a.date)throw Error("`date` is required when adding a transaction");let{payee_name:t,subtransactions:s,...u}=a;a=u;let l=t;if(l){let t=l.trim();l=""===t?null:r?t:cw(t)}a.imported_payee=a.imported_payee||l,a.imported_payee&&(a.imported_payee=a.imported_payee.trim()),a.account=e,a.payee=await hi(a,l,n),o.push({payee_name:l,subtransactions:s?s.map(t=>({...t,account:e})):null,trans:a})}return{normalized:o,payeesToCreate:n}}async function ha(t,e){let r=new Map,n=[];for(let o of t){if(o.amount||(o.amount=o.transactionAmount.amount),null==o.date)throw Error("`date` is required when adding a transaction");if(null==o.payeeName)throw Error("`payeeName` is required when adding a transaction");o.imported_payee=o.imported_payee||o.payeeName,o.imported_payee&&(o.imported_payee=o.imported_payee.trim()),o.account=e,o.payee=await hi(o,o.payeeName,r),o.cleared=!!o.booked;let t=o.remittanceInformationUnstructured||(o.remittanceInformationUnstructuredArray||[]).join(", ");n.push({payee_name:o.payeeName,trans:{amount:no(o.amount),payee:o.payee,account:o.account,date:o.date,notes:t.trim().replace("#","##"),imported_id:o.transactionId,imported_payee:o.imported_payee,cleared:o.cleared}})}return{normalized:n,payeesToCreate:r}}async function hs(t,e){let r=new Set(e.map(t=>t.payee));await ln(async()=>{for(let e of t.values())r.has(e.id)&&await l2(e)})}async function hu(t,e,r=!1,n=!0,o=!1){console.log("Performing transaction reconciliation");let a=[],s=[],u=[],l=new Map,{payeesToCreate:c,transactionsStep1:f,transactionsStep2:d,transactionsStep3:p}=await hl(t,e,r,n);for(let{trans:t,subtransactions:e,match:r}of p)if(r&&!t.forceAddTransaction){if(r.reconciled){u.push({transaction:t,ignored:!0});continue}let e={...r,cleared:1===r.cleared,date:op(r.date)},n={imported_id:t.imported_id||null,payee:e.payee||t.payee||null,category:e.category||t.category||null,imported_payee:t.imported_payee||null,notes:e.notes||t.notes||null,cleared:null==t.cleared||t.cleared};if(r0(e,n,Object.keys(n))){if(a.push({id:e.id,...n}),!l.has(e.payee)){let t=await l1(e.payee);l.set(e.payee,t?.name)}e.payee_name=l.get(e.payee),e.amount=na(e.amount),u.push({transaction:t,existing:e})}else u.push({transaction:t,ignored:!0});if(e.is_parent&&e.cleared!==n.cleared)for(let t of(await lC("SELECT id FROM v_transactions WHERE parent_id = ?",[e.id])))a.push({id:t.id,cleared:n.cleared})}else{let{forceAddTransaction:r,...n}=t,o={...n,id:K(),category:t.category||null,cleared:null==t.cleared||t.cleared};e&&e.length>0?s.push(...he(o,e)):s.push(o)}return o||(await hs(c,[...s,...a]),await pP({added:s,updated:a})),console.log("Debug data for the operations:",{transactionsStep1:f,transactionsStep2:d,transactionsStep3:p,added:s,updated:a,updatedPreview:u}),{added:s.map(t=>t.id),updated:a.map(t=>t.id),updatedPreview:u}}async function hl(t,e,r=!1,n=!0){console.log("Performing transaction reconciliation matching");let o=new Set,a=r?ha:ho,{normalized:s,payeesToCreate:u}=await a(e,t),l=[];for(let{payee_name:e,trans:r,subtransactions:a}of s){let s=p1(r),u=null,c=null;if(s.imported_id&&(u=await lM("SELECT * FROM v_transactions WHERE imported_id = ? AND account = ?",[s.imported_id,t]))&&o.add(u.id),!u){let e=od(rH(s.date,7)),r=od(rW(s.date,7));c=(c=n?await lC(`SELECT id, is_parent, date, imported_id, payee, imported_payee, category, notes, reconciled, cleared, amount
          FROM v_transactions
          WHERE
            -- If both ids are set, and we didn't match earlier then skip dedup
            (imported_id IS NULL OR ? IS NULL)
            AND date >= ? AND date <= ? AND amount = ?
            AND account = ?`,[s.imported_id||null,e,r,s.amount||0,t]):await lC(`SELECT id, is_parent, date, imported_id, payee, imported_payee, category, notes, reconciled, cleared, amount
          FROM v_transactions
          WHERE date >= ? AND date <= ? AND amount = ? AND account = ?`,[e,r,s.amount||0,t])).sort((t,e)=>Math.abs(tI(tC(s.date),tC(op(t.date))))>Math.abs(tI(tC(s.date),tC(op(e.date))))?1:-1)}l.push({payee_name:e,trans:s,subtransactions:s.subtransactions||a,match:u,fuzzyDataset:c})}let c=l.map(t=>{if(!t.match&&t.fuzzyDataset){let e=t.fuzzyDataset.find(e=>!o.has(e.id)&&t.trans.payee===e.payee);if(e)return o.add(e.id),{...t,match:e}}return t}),f=c.map(t=>{if(!t.match&&t.fuzzyDataset){let e=t.fuzzyDataset.find(t=>!o.has(t.id));if(e)return o.add(e.id),{...t,match:e}}return t});return{payeesToCreate:u,transactionsStep1:l,transactionsStep2:c,transactionsStep3:f}}async function hc(t,e,{runTransfers:r=!0,learnCategories:n=!1}={}){let o;let a=[],{normalized:s,payeesToCreate:u}=await ho(e,t,{rawPayeeName:!0});for(let{trans:e,subtransactions:r}of s){let n=p1(e),o={id:K(),...n,account:t,cleared:null==n.cleared||n.cleared},s=o.subtransactions||r;s&&s.length>0?a.push(...he(o,s)):a.push(o)}return await hs(u,a),r||n?o=(await pP({added:a,learnCategories:n,runTransfers:r})).added.map(t=>t.id):await ln(async()=>{o=await Promise.all(a.map(async t=>cl(t)))}),o}async function hf(t,e,r,n,o){let a=await lM("SELECT * FROM v_transactions WHERE account = ? ORDER BY date DESC LIMIT 1",[r]),s=await lL("accounts",r),u=!s.account_sync_source;if(a){let a;let l=op((await lM("SELECT date FROM v_transactions WHERE account = ? ORDER BY date ASC LIMIT 1",[r])).date),c=rM(tJ([rD(rH(rk(),90)),rD(l)]));if("simpleFin"===s.account_sync_source)a=await hn(n,c);else if("goCardless"===s.account_sync_source)a=await hr(t,e,n,o,c,!1);else throw Error(`Unrecognized bank-sync provider: ${s.account_sync_source}`);let{transactions:f}=a;if(0===f.length)return{added:[],updated:[]};let d=f.map(t=>({...t,account:r}));return id(async()=>await hu(r,d,!0,u))}{let a;let l=rH(rk(),90);"simpleFin"===s.account_sync_source?a=await hn(n,l):"goCardless"===s.account_sync_source&&(a=await hr(t,e,n,o,l,!0));let{transactions:c}=a,f=a.startingBalance;if("simpleFin"===s.account_sync_source){let t=a.startingBalance;f=c.reduce((t,e)=>t-parseInt(e.transactionAmount.amount.replace(".","")),t)}let d=c[c.length-1],p=c.length>0?d.date:rk(),h=await cp();return id(async()=>{let t=await cl({account:r,amount:f,category:0===s.offbudget?h.category:null,payee:h.id,date:p,cleared:!0,starting_balance_flag:!0}),e=await hu(r,c,!0,u);return{...e,added:[t,...e.added]}})}}let hd=0;function hp(){return(hd+=.45)>1&&(hd=0),hd}let hh=rI?hp:Math.random;function hy(t){return t[Math.floor(hh()*t.length)%t.length]}function hg(t,e){return t+(e-t)*hh()}function hm(t,e){return Math.round(hg(t,e))}function h_(t,e){let r=t[0];for(let n=0;n<t.length;n++)t[n][e]<r[e]&&(r=t[n]);return r}function hb(t){return t.find(t=>"Starting Balances"===t.name).id}function hw(t,e){let r=t.find(t=>"Deposit"===t.name),n=t.filter(t=>"Deposit"!==t.name&&"Starting Balance"!==t.name),o=e.find(t=>!t.is_income),a=e.find(t=>t.is_income),s=o.categories.filter(t=>-1!==["Food","Restaurants","Entertainment","Clothing","General","Gift","Medical"].indexOf(t.name));return{incomePayee:r,expensePayees:n.filter(t=>!t.bill),incomeGroup:a,expenseCategories:s,billCategories:e.find(t=>"Bills"===t.name).categories,billPayees:n.filter(t=>t.bill)}}async function hE(t,e,r,n){let{incomePayee:o,expensePayees:a,incomeGroup:s,expenseCategories:u,billCategories:l,billPayees:c}=hw(r,n),f=hm(100,200),d=[];for(let t=0;t<f;t++){let r,n,l;n="Deposit"===(r=.09>hh()?o:hy(a)).name?s.categories.find(t=>"Income"===t.name):hy(u),l="Deposit"===r.name?hm(5e4,7e4):hm(0,.05>hh()?-8e3:-700);let c=rH(rk(),Math.floor(t/3)),f={id:K(),amount:l,payee:r.id,account:e.id,date:c,category:n.id};if(d.push(f),.2>hh()){let t=Math.round(f.amount/3),n=()=>r===o?s.categories.find(t=>"Income"===t.name).id:hy(u).id;f.subtransactions=[{id:K(),date:c,account:e.id,amount:t,category:n()},{id:K(),date:c,account:e.id,amount:t,category:n()},{id:K(),date:c,account:e.id,amount:f.amount-2*t,category:n()}]}}let p=rY(rC(d[d.length-1].date),rx()),h=rk();for(let t of p){let r=rW(t,12);rz(r,h)&&d.push({amount:-1e4,payee:c.find(t=>t.name.toLowerCase().includes("power")).id,account:e.id,date:r,category:l.find(t=>"Power"===t.name).id}),rz(r=rW(t,18),h)&&d.push({amount:-9e3,payee:c.find(t=>t.name.toLowerCase().includes("water")).id,account:e.id,date:r,category:l.find(t=>"Water"===t.name).id}),rz(r=rW(t,2),h)&&d.push({amount:-12e4,payee:c.find(t=>t.name.toLowerCase().includes("housy")).id,account:e.id,date:r,category:l.find(t=>"Mortgage"===t.name).id}),rz(r=rW(t,20),h)&&d.push({amount:-6e3,payee:c.find(t=>t.name.toLowerCase().includes("internet")).id,account:e.id,date:r,category:l.find(t=>"Internet"===t.name).id}),rz(r=rW(t,23),h)&&d.push({amount:-7500,payee:c.find(t=>t.name.toLowerCase().includes("t-mobile")).id,account:e.id,date:r,category:l.find(t=>"Cell"===t.name).id})}let y=null;return d.forEach(t=>{(null==y||t.date<y)&&(y=t.date)}),d.unshift({amount:1e5,payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:y,category:hb(s.categories),starting_balance_flag:!0}),hc(e.id,d)}async function hv(t,e,r,n){let{incomePayee:o,expensePayees:a,incomeGroup:s,expenseCategories:u}=hw(r,n),l=hm(20,40),c=[];for(let t=0;t<l;t++){let r,n;n="Deposit"===(r=.04>hh()?o:hy(a)).name?s.categories.find(t=>"Income"===t.name):hy(u);let l="Deposit"===r.name?hm(5e4,7e4):hm(0,-1e4);c.push({amount:l,payee:r.id,account:e.id,date:rH(rk(),2*t),category:n.id})}c.unshift({amount:hm(9e4,12e4),payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:c[c.length-1].date,category:hb(s.categories),starting_balance_flag:!0}),await t["transactions-batch-update"]({added:c,fastMode:!0})}async function hS(t,e,r,n){let{incomePayee:o,incomeGroup:a}=hw(r,n),s=hm(10,30),u=[];for(let t=0;t<s;t++){let t=o,r=a.categories.find(t=>"Income"===t.name),n=hm(1e4,2e4);u.push({amount:n,payee:t.id,account:e.id,date:rH(rk(),hm(10,360)),category:r.id})}u.unshift({amount:hm(1e4,2e4),payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:h_(u,"date").date,category:hb(a.categories),starting_balance_flag:!0}),await t["transactions-batch-update"]({added:u,fastMode:!0})}async function hT(t,e,r,n){let{incomePayee:o,expensePayees:a,incomeGroup:s,expenseCategories:u}=hw(r,n),l=hm(15,40),c=[];for(let t=0;t<l;t++){let r;let n=(r=.3>hh()?o:hy(a))===o?s.categories.find(t=>"Income"===t.name):hy(u),l=r===o?hm(1e4,8e4):hm(-1e4,-2e3);c.push({amount:l,payee:r.id,account:e.id,date:rH(rk(),5*t),category:n.id})}c.unshift({amount:3e4,payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:c[c.length-1].date,category:hb(s.categories),starting_balance_flag:!0}),await t["transactions-batch-update"]({added:c,fastMode:!0})}async function hO(t,e,r,n){let{incomePayee:o,incomeGroup:a}=hw(r,n),s=hm(7,10),u=hm(1e5,2e5),l=a.categories.find(t=>"Income"===t.name),c=[{amount:1e4*hm(-3e3,-3500),payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:rj(rk(),s)+"-02",category:hb(a.categories),starting_balance_flag:!0}];for(let t=0;t<s;t++){let r=o;c.push({amount:u,payee:r.id,account:e.id,date:rj(rk(),t)+"-02",category:l.id,starting_balance_flag:!0})}await t["transactions-batch-update"]({added:c,fastMode:!0})}async function hA(t,e,r,n){let{incomePayee:o,incomeGroup:a}=hw(r,n),s=hm(3,6),u=a.categories.find(t=>"Income"===t.name),l=[{id:K(),amount:1e4*hm(3250,3700),payee:r.find(t=>"Starting Balance"===t.name).id,account:e.id,date:rj(rk(),s)+"-02",category:hb(a.categories),starting_balance_flag:!0}];for(let t=0;t<s;t++){let r=o,n=1e4*hm(4,9);l.push({id:K(),amount:n,payee:r.id,account:e.id,date:rj(rk(),t)+"-02",category:u.id})}await t["transactions-batch-update"]({added:l,fastMode:!0})}async function hI(t,e,r){let n=t.find(t=>t.name="Bank of America"),o=(await lM(`SELECT * FROM v_transactions t LEFT JOIN accounts a ON t.account = a.id
       WHERE a.offbudget = 0 AND t.is_child = 0 ORDER BY date ASC LIMIT 1`)).date,a=(await lM(`SELECT * FROM v_transactions t LEFT JOIN accounts a ON t.account = a.id
       WHERE a.id = ? AND a.offbudget = 0 AND t.is_child = 0 ORDER BY date ASC LIMIT 1`,[n.id])).date,s=rY(rC(op(o)),rx());function u(t){for(let e of r){let r=e.categories.find(e=>e.name===t);if(r)return r}}function l(t,e,r){return st({month:t,category:e.id,amount:r})}function c(t,e){let r=aX(rZ(t),`sum-amount-${e.id}`);r<0&&l(t,e,-r)}await id(()=>ln(async()=>{for(let t of s)t>=rC(op(a))?(l(t,u("Food"),4e4),l(t,u("Restaurants"),3e4),l(t,u("Entertainment"),1e4),l(t,u("Clothing"),3e3),l(t,u("General"),5e4),l(t,u("Gift"),7500),l(t,u("Medical"),1e4),l(t,u("Cell"),7500),l(t,u("Internet"),6e3),l(t,u("Mortgage"),12e4),l(t,u("Water"),9e3),l(t,u("Power"),1e4)):(c(t,u("Food")),c(t,u("Restaurants")),c(t,u("Entertainment")),c(t,u("Clothing")),c(t,u("General")),c(t,u("Gift")),c(t,u("Medical")),c(t,u("Cell")),c(t,u("Internet")),c(t,u("Mortgage")),c(t,u("Water")),c(t,u("Power")))})),await a1(),await id(()=>ln(async()=>{let t=0;for(let e of s)if(e>=rC(op(a))&&e<=rx()){let r=aX(rZ(e),"to-budget")-t;r-403e3>0?(l(e,u("Savings"),r-403e3),sr(e,403e3),t+=r-403e3):r>0&&sr(e,r)}})),await a1();let f=aX(rZ(rx()),"to-budget");f<0&&await hc(n.id,[{amount:-f,category:u("Income").id,date:rx()+"-01"}]),await a1()}async function hN(t){uX("import"),await lO("PRAGMA journal_mode = OFF"),await lT("DELETE FROM categories;"),await lT("DELETE FROM category_groups");let e=[{name:"Bank of America"},{name:"Ally Savings"},{name:"Capital One Checking"},{name:"HSBC"},{name:"Vanguard 401k",offBudget:!0},{name:"Mortgage",offBudget:!0},{name:"House Asset",offBudget:!0},{name:"Roth IRA",offBudget:!0}];await id(async()=>{for(let r of e)r.id=await t["account-create"](r)});let r=[{name:"Starting Balance"},{name:"Kroger"},{name:"Publix"},{name:"Home Depot"},{name:"Movies"},{name:"Online store"},{name:"Deposit"},{name:"Dominion Power",bill:!0},{name:"Extra Watery",bill:!0},{name:"Housy House",bill:!0},{name:"Fast Internet",bill:!0},{name:"T-mobile",bill:!0}],n=[];await id(()=>ln(async()=>{for(let e of r){let r=await t["payee-create"]({name:e.name});n.push({id:r,name:e.name,...e})}}));let o=[{name:"Usual Expenses",categories:[{name:"Savings"},{name:"Medical"},{name:"Gift"},{name:"General"},{name:"Clothing"},{name:"Entertainment"},{name:"Restaurants"},{name:"Food"}]},{name:"Bills",categories:[{name:"Power"},{name:"Water"},{name:"Mortgage"},{name:"Internet"},{name:"Cell"}]},{name:"Income",is_income:!0,categories:[{name:"Income",is_income:!0},{name:"Misc",is_income:!0},{name:"Starting Balances",is_income:!0}]}],a=[];await id(async()=>{for(let e of o){let r=await t["category-group-create"]({name:e.name,isIncome:e.is_income});for(let n of(a.push({...e,id:r,categories:[]}),e.categories)){let e=await t["category-create"]({...n,isIncome:n.is_income?1:0,groupId:r});a[a.length-1].categories.push({...n,id:e})}}});let s=(await ic(t["get-categories"])).grouped;uX("import"),await id(()=>ln(async()=>{for(let r of e)"Bank of America"===r.name?await hE(t,r,n,s):"Capital One Checking"===r.name||"HSBC"===r.name?await hv(t,r,n,s):"Ally Savings"===r.name?await hT(t,r,n,s):"Vanguard 401k"===r.name||"Roth IRA"===r.name?await hS(t,r,n,s):"Mortgage"===r.name?await hO(t,r,n,s):"House Asset"===r.name?await hA(t,r,n,s):(console.error("Unknown account name for test budget: ",r.name),await hv(t,r,n,s))})),uX("import");let u=e.find(t=>t.name="Bank of America"),{data:l}=await aA(ad("transactions").filter({account:u.id}).calculate({$sum:"$amount"}).serialize());if(l<0){let{data:e}=await aA(ad("transactions").filter({account:u.id,amount:{$gt:0}}).limit(1).select(["id","amount"]).serialize()),r=e[0];await ic(t["transaction-update"],{...r,amount:r.amount+-l+hm(1e4,2e4)})}uX("disabled"),await aK(_),await sH(),await a1(),await id(()=>ln(async()=>{let r=e.find(t=>"Bank of America"===t.name);await ic(t["schedule/create"],{schedule:{name:"Phone bills",posts_transaction:!1},conditions:[{op:"is",field:"payee",value:n.find(t=>"Dominion Power"===t.name).id},{op:"is",field:"account",value:r.id},{op:"is",field:"date",value:{start:rk(),frequency:"monthly",patterns:[],skipWeekend:!1,weekendSolveMode:"after"}},{op:"isapprox",field:"amount",value:-12e3}]}),await ic(t["schedule/create"],{schedule:{name:"Internet bill",posts_transaction:!1},conditions:[{op:"is",field:"payee",value:n.find(t=>"Fast Internet"===t.name).id},{op:"is",field:"account",value:r.id},{op:"is",field:"date",value:rH(rk(),1)},{op:"isapprox",field:"amount",value:-14e3}]}),await ic(t["schedule/create"],{schedule:{name:"Wedding",posts_transaction:!1},conditions:[{op:"is",field:"date",value:{start:rH(rk(),3),frequency:"monthly",patterns:[],skipWeekend:!1,weekendSolveMode:"after"}},{op:"is",field:"amount",value:-27e5}]}),await ic(t["schedule/create"],{schedule:{name:"Utilities",posts_transaction:!1},conditions:[{op:"is",field:"account",value:r.id},{op:"is",field:"date",value:{start:rW(rk(),1),frequency:"monthly",patterns:[],skipWeekend:!1,weekendSolveMode:"after"}},{op:"is",field:"amount",value:-19e4}]})})),await hI(e,n,s)}function hD(){return"true"===String({}.REACT_APP_NETLIFY)}function hR(){return!1}function hC(){return hD()||hR()}var hM=__webpack_require__(7565),hx=__webpack_require__.n(hM);async function hk(t,e,r,n){let o=e.reduce((t,{id:e,name:r})=>(t[e]=r,t),{}),a=r.reduce((t,{name:e,categories:r})=>(r.forEach(r=>t[r.id]=`${e}: ${r.name}`),t),{}),s=n.reduce((t,{id:e,name:r})=>(t[e]=r,t),{}),u=t.map(({account:t,date:e,payee:r,notes:n,category:u,amount:l,cleared:c,reconciled:f})=>({Account:o[t],Date:e,Payee:s[r],Notes:n,Category:a[u],Amount:null==l?0:na(l),Cleared:c,Reconciled:f}));return hx()(u,{header:!0})}async function hL(t){let{data:e}=await aA(t.select([{Id:"id"},{Account:"account.name"},{Date:"date"},{Payee:"payee.name"},{ParentId:"parent_id"},{IsParent:"is_parent"},{IsChild:"is_child"},{SortOrder:"sort_order"},{Notes:"notes"},{Category:"category.name"},{Amount:"amount"},{Cleared:"cleared"},{Reconciled:"reconciled"}]).options({splits:"all"})),r=new Map,n=new Map;for(let t of e)if(t.IsChild){let e=r.get(t.ParentId)||0;e++,n.set(t.Id,e),r.set(t.ParentId,e)}let o=e.map(t=>({Account:t.Account,Date:t.Date,Payee:t.Payee,Notes:t.IsParent?"(SPLIT INTO "+r.get(t.Id)+") "+(t.Notes||""):t.IsChild?"(SPLIT "+n.get(t.Id)+" OF "+r.get(t.ParentId)+") "+(t.Notes||""):t.Notes,Category:t.Category,Amount:t.IsParent?0:null==t.Amount?0:na(t.Amount),Split_Amount:t.IsParent?na(t.Amount):0,Cleared:!0===t.Reconciled?"Reconciled":!0===t.Cleared?"Cleared":"Not cleared"}));return hx()(o,{header:!0})}async function hF(t,e){let r=await lM("SELECT id, bank_id, name FROM banks WHERE bank_id = ?",[e]);if(r)return r;let n={id:K(),bank_id:e,name:t.name};return await lP("banks",n),n}var hP=__webpack_require__(6241),hB=__webpack_require__.n(hP),hU=__webpack_require__(5055);function hj(t){return t.replace(/&/g,"&#038;").replace(/&amp;/g,"&#038;").replace(/>\s+</g,"><").replace(/\s+</g,"<").replace(/>\s+/g,">").replace(/\.(?=[^<>]*>)/g,"").replace(/<(\w+?)>([^<]+)/g,"<$1>$2</<added>$1>").replace(/<\/<added>(\w+?)>(<\/\1>)?/g,"</$1>")}function hW(t){return t?.replace(/&amp;/g,"&").replace(/&#038;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"')}async function hH(t){return await (0,hU.parseStringPromise)(t,{explicitArray:!1})}function hz(t){let e=t?.OFX;return e?.CREDITCARDMSGSRSV1!=null?h$(e):e?.INVSTMTMSGSRSV1!=null?hq(e):hV(e)}function hV(t){let e=t?.BANKMSGSRSV1;return hG(e?.STMTTRNRS).flatMap(t=>{let e=t?.STMTRS,r=e?.BANKTRANLIST;return hG(r?.STMTTRN)})}function h$(t){let e=t?.CREDITCARDMSGSRSV1;return hG(e?.CCSTMTTRNRS).flatMap(t=>{let e=t?.CCSTMTRS,r=e?.BANKTRANLIST;return hG(r?.STMTTRN)})}function hq(t){let e=t?.INVSTMTMSGSRSV1;return hG(e?.INVSTMTTRNRS).flatMap(t=>{let e=t?.INVSTMTRS,r=e?.INVTRANLIST;return hG(r?.INVBANKTRAN?.flatMap(t=>t?.STMTTRN))})}function hG(t){return Array.isArray(t)?t:void 0===t?[]:[t]}function hY(t){let e=t.DTPOSTED,r=e?new Date(Number(e.substring(0,4)),Number(e.substring(4,6))-1,Number(e.substring(6,8))):null;return{amount:t.TRNAMT,type:t.TRNTYPE,fitId:t.FITID,date:rM(r),name:hW(t.NAME),memo:hW(t.MEMO)}}async function hK(t){let e=t.split("<OFX>",2),r=e[0].split(/\r?\n/),n={};r.forEach(t=>{if(t){let e=t.split(/:/,2);n[e[0]]=e[1]}});let o=`<OFX>${e[1]}`,a=null;try{a=await hH(o)}catch(e){let t=hj(o);a=await hH(t)}return{headers:n,transactions:hz(a).map(hY)}}function hZ(t,e={}){let r=t.split("\n"),n=r.shift(),o=/!Type:([^$]*)$/.exec(n.trim()),a={dateFormat:e.dateFormat,transactions:[]},s=a.transactions,u={};if(!o||!o.length)throw Error("File does not appear to be a valid qif file: "+n);a.type=o[1];let l={};for(;n=r.shift();){if("^"===(n=n.trim())){s.push(u),u={};continue}switch(n[0]){case"D":u.date=n.substring(1);break;case"T":u.amount=n.substring(1);break;case"N":u.number=n.substring(1);break;case"M":u.memo=n.substring(1);break;case"A":u.address=(u.address||[]).concat(n.substring(1));break;case"P":u.payee=n.substring(1).replace(/&amp;/g,"&");break;case"L":let t=n.substring(1).split(":");u.category=t[0],void 0!==t[1]&&(u.subcategory=t[1]);break;case"C":u.clearedStatus=n.substring(1);break;case"S":let e=n.substring(1).split(":");l.category=e[0],void 0!==e[1]&&(l.subcategory=e[1]);break;case"E":l.description=n.substring(1);break;case"$":l.amount=parseFloat(n.substring(1)),u.division instanceof Array||(u.division=[]),u.division.push(l),l={};break;default:throw Error("Unknown Detail Code: "+n[0])}}return Object.keys(u).length&&s.push(u),a}function hJ(t,e){let r=[];for(let n in t)t.hasOwnProperty(n)&&(n===e&&(Array.isArray(t[n])?r=r.concat(t[n]):r.push(t[n])),"object"==typeof t[n]&&(r=r.concat(hJ(t[n],e))));return r}function hX(t,e){if(t?.RltdPties){let r=hJ(e?t.RltdPties.Cdtr:t.RltdPties.Dbtr,"Nm");return r.length>0?r[0]:null}return null}function hQ(t){if(t?.RmtInf){let e=t.RmtInf.Ustrd;return Array.isArray(e)?e.join(" "):e}return null}function h0(t){let e=Number(t);return isNaN(e)?null:e}function h1(t){return t?"DtTm"in t?t.DtTm.slice(0,10):t?.Dt:null}async function h2(t){let e=hJ(await (0,hU.parseStringPromise)(t,{explicitArray:!1}),"Ntry"),r=[];for(let t of e){let e=t.AcctSvcrRef,n=h0(t.Amt?._),o="DBIT"===t.CdtDbtInd,a=h1(t.ValDt)||h1(t.BookgDt);if(Array.isArray(t.NtryDtls?.TxDtls))t.NtryDtls.TxDtls.forEach(t=>{let e=hX(t,o),n=hQ(t),s=hJ(t,"Amt"),u=s.length>0?h0(s[0]._):null;r.push({amount:o?-u:u,date:a,payee_name:e,imported_payee:e,notes:n})});else{let s,u;(s=hX(t.NtryDtls?.TxDtls,o))||!t.AddtlNtryInf||(s=t.AddtlNtryInf),(u=hQ(t.NtryDtls?.TxDtls))||!t.AddtlNtryInf||t.AddtlNtryInf===s||(u=t.AddtlNtryInf),s||u||!t.NtryRef||(u=t.NtryRef),s&&u&&s.includes(u)&&(u=null);let l={amount:o?-n:n,date:a,payee_name:s,imported_payee:s,notes:u};e&&(l.imported_id=e),r.push(l)}}return r.filter(t=>null!=t.date&&null!=t.amount)}async function h6(t,e={}){let r=[],n=t.match(/\.[^.]*$/);if(n)switch(n[0].toLowerCase()){case".qif":return h3(t);case".csv":case".tsv":return h4(t,e);case".ofx":case".qfx":return h8(t,e);case".xml":return h5(t)}return r.push({message:"Invalid file type",internal:""}),{errors:r,transactions:[]}}async function h4(t,e){let r;let n=[],o=await oo(t);e.skipLines>0&&(o=o.split(/\r?\n/).slice(e.skipLines).join("\r\n"));try{r=hB()(o,{columns:e?.hasHeaderRow,bom:!0,delimiter:e?.delimiter||",",quote:'"',trim:!0,relax_column_count:!0,skip_empty_lines:!0})}catch(t){return n.push({message:"Failed parsing: "+t.message,internal:t.message}),{errors:n,transactions:[]}}return{errors:n,transactions:r}}async function h3(t){let e;let r=[],n=await oo(t);try{e=hZ(n)}catch(t){return r.push({message:"Failed parsing: doesnt look like a valid QIF file.",internal:t.stack}),{errors:r,transactions:[]}}return{errors:[],transactions:e.transactions.map(t=>({amount:null!=t.amount?ns(t.amount):null,date:t.date,payee_name:t.payee,imported_payee:t.payee,notes:t.memo||null})).filter(t=>null!=t.date&&null!=t.amount)}}async function h8(t,e){let r;let n=[],o=await oo(t);try{r=await hK(o)}catch(t){return n.push({message:"Failed importing file",internal:t.stack}),{errors:n}}let a=e.fallbackMissingPayeeToMemo;return{errors:n,transactions:r.transactions.map(t=>({amount:t.amount,imported_id:t.fitId,date:t.date,payee_name:t.name||(a?t.memo:null),imported_payee:t.name||(a?t.memo:null),notes:(t.name||!a)&&t.memo||null}))}}async function h5(t){let e;let r=[],n=await oo(t);try{e=await h2(n)}catch(t){return console.error(t),r.push({message:"Failed importing file",internal:t.stack}),{errors:r}}return{errors:r,transactions:e}}function h7({reason:t,meta:e,fileName:r}){switch(t){case"network":case"download-failure":return"Downloading the file failed. Check your network connection.";case"not-zip-file":case"invalid-zip-file":case"invalid-meta-file":return"Downloaded file is invalid, sorry! Visit https://actualbudget.org/contact/ for support.";case"decrypt-failure":return"Unable to decrypt file "+(r||"(unknown)")+". To change your key, first download this file with the proper password.";case"out-of-sync-migrations":return"This budget cannot be loaded with this version of the app. Make sure the app is up-to-date.";default:let n=e&&e.fileId?`, fileId: ${e.fileId}`:"";return`Something went wrong trying to download that file, sorry! Visit https://actualbudget.org/contact/ for support. (reason: ${t}${n})`}}function h9({reason:t}){switch(t){case"network":return"Unable to connect to the server. We need to access the server to get some information about your keys.";case"old-key-style":return"This file is encrypted with an old unsupported key style. Recreate the key on a device where the file is available, or use an older version of Actual to download it.";case"decrypt-failure":return"Unable to decrypt file with this password. Please try again.";default:return"Something went wrong trying to create a key, sorry! Visit https://actualbudget.org/contact/ for support."}}function yt(t,e){return"out-of-sync-migrations"===t||"out-of-sync-data"===t?"This budget cannot be loaded with this version of the app.":"budget-not-found"===t?`Budget ${e} not found. Check the id of your budget in the Advanced section of the settings page.`:`We had an unknown problem opening ${e}.`}function ye(t){return t.message||"We had an unknown problem syncing the account."}let yr={...oh,toExternal:t=>({id:t.id,name:t.name,offbudget:!!t.offbudget,closed:!!t.closed}),fromExternal(t){let e={...t};return"offbudget"in t&&(e.offbudget=t.offbudget?1:0),"closed"in t&&(e.closed=t.closed?1:0),e}},yn={...oy,toExternal:t=>({id:t.id,name:t.name,is_income:!!t.is_income,hidden:!!t.hidden,group_id:t.cat_group}),fromExternal(t){let{group_id:e,...r}=t;return"group_id"in t&&(r.cat_group=t.group_id),r}},yi={...og,toExternal:t=>({id:t.id,name:t.name,is_income:!!t.is_income,hidden:!!t.hidden,categories:t.categories?.map(yn.toExternal)||[]}),fromExternal(t){let e={...t};return"categories"in t&&(e.categories=t.categories.map(yn.fromExternal)),e}},yo={...om,toExternal:t=>({id:t.id,name:t.name,transfer_acct:t.transfer_acct}),fromExternal:t=>t},ya={toExternal:t=>t.deleted?null:{cloudFileId:t.fileId,state:"remote",groupId:t.groupId,name:t.name,encryptKeyId:t.encryptKeyId,hasKey:t.hasKey}},ys={toExternal:t=>t},yu=!1;function yl(t){return(...e)=>id(async()=>{let r=tp().timestamp.toString(),n=await t(...e),o=await lC("SELECT DISTINCT dataset FROM messages_crdt WHERE timestamp > ?",[r]);return ib()>1&&i_("sync-event",{type:"success",tables:o.map(t=>t.dataset)}),n},{undoDisabled:!0})}let yc={};async function yf(t){if(!t.match(/^\d{4}-\d{2}$/))throw n6("Invalid month format, use YYYY-MM: "+t);if(!yu){let{start:e,end:r}=await yc["get-budget-bounds"]();if(!rG(e,r).includes(t))throw n6("No budget exists for month: "+t)}}async function yd(t,e){if(null==e)throw n6(`${t}: category id is required`);let r=await lM("SELECT is_income FROM categories WHERE id = ?",[e]);if(!r)throw n6(`${t}: category ${e} does not exist`);if(0!==r.is_income)throw n6(`${t}: category ${e} is not an expense category`)}function yp(){if(!(aF()||{}).id)throw n6("No budget file is open")}let yh=null;function yy(t){let e=Object.assign({},t,yc);return yc=e,e}yc["api/batch-budget-start"]=async function(){if(yh)throw n6("Cannot start a batch process: batch already started");yu?lR(()=>new Promise((t,e)=>{yh={resolve:t,reject:e}})):ln(()=>new Promise((t,e)=>{yh={resolve:t,reject:e}}))},yc["api/batch-budget-end"]=async function(){if(!yh)throw n6("Cannot end a batch process: no batch started");yh.resolve(),yh=null},yc["api/load-budget"]=async function({id:t}){let{id:e}=aF()||{};if(e!==t){i_("start-load");let{error:e}=await yc["load-budget"]({id:t});if(e)throw i_("show-budgets"),Error(yt(e,t));i_("finish-load")}},yc["api/download-budget"]=async function({syncId:t,password:e}){let r;let{id:n}=aF()||{};n&&await yc["close-budget"]();let o=(await yc["get-budgets"]()).find(e=>e.groupId===t);if(!o){let e=await yc["get-remote-files"]();if(!e)throw Error("Could not get remote files");let n=e.find(e=>e.groupId===t);if(!n)throw Error(`Budget ${t} not found. Check the sync id of your budget in the Advanced section of the settings page.`);r=n}let a=r||o;if(a.encryptKeyId){if(!e)throw Error(`File ${a.name} is encrypted. Please provide a password.`);let t=await yc["key-test"]({fileId:r?r.fileId:o.cloudFileId,password:e});if(t.error)throw Error(h9(t.error))}if(o){await yc["load-budget"]({id:o.id});let t=await yc["sync-budget"]();if(t.error)throw Error(yt(t.error,o.id));return}let s=await yc["download-budget"]({fileId:r.fileId});if(s.error)throw console.log("Full error details",s.error),Error(h7(s.error));await yc["load-budget"]({id:s.id})},yc["api/get-budgets"]=async function(){let t=await yc["get-budgets"](),e=await yc["get-remote-files"]()||[];return[...t.map(t=>ys.toExternal(t)),...e.map(t=>ya.toExternal(t)).filter(t=>t)]},yc["api/sync"]=async function(){let{id:t}=aF(),e=await yc["sync-budget"]();if(e.error)throw Error(yt(e.error,t))},yc["api/bank-sync"]=async function(t){let{errors:e}=await yc["accounts-bank-sync"]({id:t?.accountId}),[r]=e;if(r)throw Error(ye(r))},yc["api/start-import"]=async function({budgetName:t}){await yc["close-budget"](),await yc["create-budget"]({budgetName:t,avoidUpload:!0}),await lT("DELETE FROM categories WHERE is_income = 0"),await lT("DELETE FROM category_groups WHERE is_income = 0"),uX("import"),i_("start-import"),yu=!0},yc["api/finish-import"]=async function(){yp(),az().markCacheDirty();let{id:t}=aF();await yc["close-budget"](),await yc["load-budget"]({id:t}),await yc["get-budget-bounds"](),await a1(),await uV().catch(()=>{}),i_("finish-import"),yu=!1},yc["api/abort-import"]=async function(){if(yu){yp();let{id:t}=aF();await yc["close-budget"](),await yc["delete-budget"]({id:t}),i_("show-budgets")}yu=!1},yc["api/query"]=async function({query:t}){return yp(),aA(t)},yc["api/budget-months"]=async function(){yp();let{start:t,end:e}=await yc["get-budget-bounds"]();return rG(t,e)},yc["api/budget-month"]=async function({month:t}){yp(),await yf(t);let e=await lq(),r=rZ(t);function n(t){let e=az().getCellValue(r,t);return""===e?0:e}return{month:t,incomeAvailable:n("available-funds"),lastMonthOverspent:n("last-month-overspent"),forNextMonth:n("buffered"),totalBudgeted:n("total-budgeted"),toBudget:n("to-budget"),fromLastMonth:n("from-last-month"),totalIncome:n("total-income"),totalSpent:n("total-spent"),totalBalance:n("total-leftover"),categoryGroups:e.map(t=>t.is_income?{...yi.toExternal(t),received:n("total-income"),categories:t.categories.map(t=>({...yn.toExternal(t),received:n(`sum-amount-${t.id}`)}))}:{...yi.toExternal(t),budgeted:n(`group-budget-${t.id}`),spent:n(`group-sum-amount-${t.id}`),balance:n(`group-leftover-${t.id}`),categories:t.categories.map(t=>({...yn.toExternal(t),budgeted:n(`budget-${t.id}`),spent:n(`sum-amount-${t.id}`),balance:n(`leftover-${t.id}`),carryover:n(`carryover-${t.id}`)}))})}},yc["api/budget-set-amount"]=yl(async function({month:t,categoryId:e,amount:r}){return yp(),yc["budget/budget-amount"]({month:t,category:e,amount:r})}),yc["api/budget-set-carryover"]=yl(async function({month:t,categoryId:e,flag:r}){return yp(),await yf(t),await yd("budget-set-carryover",e),yc["budget/set-carryover"]({startMonth:t,category:e,flag:r})}),yc["api/budget-hold-for-next-month"]=yl(async function({month:t,amount:e}){if(yp(),await yf(t),e<=0)throw n6("Amount to hold needs to be greater than 0");return yc["budget/hold-for-next-month"]({month:t,amount:e})}),yc["api/budget-reset-hold"]=yl(async function({month:t}){return yp(),await yf(t),yc["budget/reset-hold"]({month:t})}),yc["api/transactions-export"]=async function({transactions:t,categoryGroups:e,payees:r}){return yp(),yc["transactions-export"]({transactions:t,categoryGroups:e,payees:r})},yc["api/transactions-import"]=yl(async function({accountId:t,transactions:e,isPreview:r=!1}){return yp(),yc["transactions-import"]({accountId:t,transactions:e,isPreview:r})}),yc["api/transactions-add"]=yl(async function({accountId:t,transactions:e,runTransfers:r=!1,learnCategories:n=!1}){return yp(),await hc(t,e,{runTransfers:r,learnCategories:n}),"ok"}),yc["api/transactions-get"]=async function({accountId:t,startDate:e,endDate:r}){yp();let{data:n}=await aA(ad("transactions").filter({$and:[t&&{account:t},e&&{date:{$gte:e}},r&&{date:{$lte:r}}].filter(Boolean)}).select("*").options({splits:"grouped"}));return n},yc["api/transaction-update"]=yl(async function({id:t,fields:e}){yp();let{data:r}=await aA(ad("transactions").filter({id:t}).select("*").options({splits:"grouped"})),n=ny(r);if(0===n.length)return[];let{diff:o}=nw(n,{id:t,...e});return yc["transactions-batch-update"](o).updated}),yc["api/transaction-delete"]=yl(async function({id:t}){yp();let{data:e}=await aA(ad("transactions").filter({id:t}).select("*").options({splits:"grouped"})),r=ny(e);if(0===r.length)return[];let{diff:n}=nE(r,t);return yc["transactions-batch-update"](n).deleted}),yc["api/accounts-get"]=async function(){return yp(),(await cr()).map(t=>yr.toExternal(t))},yc["api/account-create"]=yl(async function({account:t,initialBalance:e=null}){return yp(),yc["account-create"]({name:t.name,offBudget:t.offbudget,closed:t.closed,balance:null!=e?na(e):null})}),yc["api/account-update"]=yl(async function({id:t,fields:e}){return yp(),ci({id:t,...yr.fromExternal(e)})}),yc["api/account-close"]=yl(async function({id:t,transferAccountId:e,transferCategoryId:r}){return yp(),yc["account-close"]({id:t,transferAccountId:e,categoryId:r})}),yc["api/account-reopen"]=yl(async function({id:t}){return yp(),yc["account-reopen"]({id:t})}),yc["api/account-delete"]=yl(async function({id:t}){return yp(),yc["account-close"]({id:t,forced:!0})}),yc["api/account-balance"]=yl(async function({id:t,cutoff:e=new Date}){return yp(),yc["account-balance"]({id:t,cutoff:e})}),yc["api/categories-get"]=async function({grouped:t}={}){yp();let e=await yc["get-categories"]();return t?e.grouped.map(yi.toExternal):e.list.map(yn.toExternal)},yc["api/category-groups-get"]=async function(){return yp(),(await yc["get-category-groups"]()).map(yi.toExternal)},yc["api/category-group-create"]=yl(async function({group:t}){return yp(),yc["category-group-create"]({name:t.name})}),yc["api/category-group-update"]=yl(async function({id:t,fields:e}){return yp(),yc["category-group-update"]({id:t,...yi.fromExternal(e)})}),yc["api/category-group-delete"]=yl(async function({id:t,transferCategoryId:e}){return yp(),yc["category-group-delete"]({id:t,transferId:e})}),yc["api/category-create"]=yl(async function({category:t}){return yp(),yc["category-create"]({name:t.name,groupId:t.group_id,isIncome:t.is_income,hidden:t.hidden})}),yc["api/category-update"]=yl(async function({id:t,fields:e}){return yp(),yc["category-update"]({id:t,...yn.fromExternal(e)})}),yc["api/category-delete"]=yl(async function({id:t,transferCategoryId:e}){return yp(),yc["category-delete"]({id:t,transferId:e})}),yc["api/common-payees-get"]=async function(){return yp(),(await yc["common-payees-get"]()).map(yo.toExternal)},yc["api/payees-get"]=async function(){return yp(),(await yc["payees-get"]()).map(yo.toExternal)},yc["api/payee-create"]=yl(async function({payee:t}){return yp(),yc["payee-create"]({name:t.name})}),yc["api/payee-update"]=yl(async function({id:t,fields:e}){return yp(),yc["payees-batch-change"]({updated:[{id:t,...yo.fromExternal(e)}]})}),yc["api/payee-delete"]=yl(async function({id:t}){return yp(),yc["payees-batch-change"]({deleted:[{id:t}]})}),yc["api/payees-merge"]=yl(async function({targetId:t,mergeIds:e}){return yp(),yc["payees-merge"]({targetId:t,mergeIds:e})}),yc["api/rules-get"]=async function(){return yp(),yc["rules-get"]()},yc["api/payee-rules-get"]=async function({id:t}){return yp(),yc["payees-get-rules"]({id:t})},yc["api/rule-create"]=yl(async function({rule:t}){yp();let e=await yc["rule-add"](t);if("error"in e)throw n6("Failed creating a new rule",e.error);return e}),yc["api/rule-update"]=yl(async function({rule:t}){yp();let e=await yc["rule-update"](t);if("error"in e)throw n6("Failed updating the rule",e.error);return e}),yc["api/rule-delete"]=yl(async function(t){return yp(),yc["rule-delete"](t)});let yg="db.latest.sqlite",ym=null;async function y_(t){let e=iH(i$(t),"backups"),r=[];await oe(e)&&(r=(r=await ot(e)).filter(t=>t.match(/\.sqlite$/)));let n=await Promise.all(r.map(async t=>{let r=await oc(iH(e,t));return{id:t,date:new Date(r)}}));return n.sort((t,e)=>t.date<e.date?1:t.date>e.date?-1:0),n}async function yb(t){let e=i$(t);return await oe(iH(e,yg))?{id:yg,date:null,isLatest:!0}:null}async function yw(t){let e=await y_(t),r=await yb(t);return r&&e.unshift(r),e.map(t=>({...t,date:t.date?ru(t.date,"yyyy-MM-dd H:mm"):null}))}async function yE(t){let e=t.reduce((t,e)=>{let r=ru(e.date,"yyyy-MM-dd");return t[r]=t[r]||[],t[r].push(e),t},{}),r=[];for(let t of Object.keys(e)){let n=e[t],o=t===rk();for(let t of n.slice(o?3:1))r.push(t.id)}let n=t.filter(t=>!r.includes(t.id));return r.concat(n.slice(10).map(t=>t.id))}async function yv(t){let e=i$(t);await oe(iH(e,yg))&&await os(iH(i$(t),yg));let r=iH(e,"backups",`${K()}.sqlite`);await oe(iH(e,"backups"))||await or(iH(e,"backups")),await oi(iH(e,"db.sqlite"),r);let n=iP(r);for(let r of(await iC(n,"DELETE FROM messages_crdt"),await iC(n,"DELETE FROM messages_clock"),iB(n),await yE(await y_(t))))await os(iH(e,"backups",r));i_("backups-updated",await yw(t))}async function yS(t,e){let r=i$(t);if(await oe(iH(r,yg))||(await oi(iH(r,"db.sqlite"),iH(r,yg)),await oi(iH(r,"metadata.json"),iH(r,"metadata.latest.json")),yO(),yT(t),await ax(t)),e===yg){console.log("Reverting backup"),await oi(iH(r,yg),iH(r,"db.sqlite")),await oi(iH(r,"metadata.latest.json"),iH(r,"metadata.json")),await os(iH(r,yg)),await os(iH(r,"metadata.latest.json"));try{await uV()}catch(t){}aL()}else{console.log("Loading backup",e),await ax(t),await ak({groupId:null,lastSyncedTimestamp:null,lastUploaded:null});try{await uV()}catch(t){}aL(),await oi(iH(r,"backups",e),iH(r,"db.sqlite"))}}function yT(t){ym&&clearInterval(ym),ym=setInterval(async()=>{console.log("Making backup"),await yv(t)},9e5)}function yO(){clearInterval(ym),ym=null}var yA=__webpack_require__(5070);function yI({month:t}){return yD(t)}async function yN(t,e,r,n){let o=rZ(t),a=[],s=parseInt(t.replace("-","")),u=e.length;for(;u>0;){let l=e[0].group,c=e.filter(t=>t.group===l),f=r.filter(t=>t.group===l),d=n.filter(t=>t.group===l),p=0;if(f.length>0||d.length>0){for(let e=0;e<c.length;e++){let r=await a2(o,`leftover-${c[e].category}`),n=await a2(o,`budget-${c[e].category}`);await st({category:c[e].category,month:t,amount:n-r})}for(let t=0;t<f.length;t++)p+=f[t].weight;for(let e=0;e<d.length;e++){let r=await a2(o,"to-budget"),n=await a2(o,`leftover-${d[e].category}`),a=await a2(o,`budget-${d[e].category}`),u=a+Math.abs(n),l=d[e].category,c=await lM("SELECT carryover FROM zero_budgets WHERE month = ? and category = ?",[s,l]);null===c&&(c={carryover:0}),n<0&&Math.abs(n)<=r&&!d[e].category.is_income&&0===c.carryover?await st({category:d[e].category,month:t,amount:u}):n<0&&!d[e].category.is_income&&0===c.carryover&&Math.abs(n)>r&&await st({category:d[e].category,month:t,amount:a+r})}let e=await a2(o,"to-budget");for(let r=0;r<f.length;r++){let n=await a2(o,`budget-${f[r].category}`)+Math.round(f[r].weight/p*e);await st({category:f[r].category,month:t,amount:n})}}else a.push(l+" has no matching sink categories.");u=(e=e.filter(t=>t.group!==l)).length}return a}async function yD(t){let e=0,r=0,n=0,o=[],a=[],s=[],u=[],l=parseInt(t.replace("-","")),c=await yC(),f=await lC("SELECT * FROM v_categories WHERE tombstone = 0"),d=rZ(t),p=[],h=[],y=[];for(let t=0;t<f.length;t++){let e=f[t],r=c[e.id];r&&(r.filter(t=>"source"===t.type&&null!==t.group).length>0&&p.push({category:e.id,group:r.filter(t=>"source"===t.type&&null!==t.group)[0].group}),r.filter(t=>"sink"===t.type&&null!==t.group).length>0&&h.push({category:e.id,group:r.filter(t=>"sink"===t.type&&null!==t.group)[0].group,weight:r.filter(t=>"sink"===t.type&&null!==t.group)[0].weight}),r.filter(t=>null===t.type&&null!==t.group).length>0&&y.push({category:e.id,group:r[0].group}))}let g=await yN(t,p,h,y);a.splice(1,0,...g);for(let o=0;o<f.length;o++){let p=f[o],h=c[p.id];if(h){if(h.filter(t=>"source"===t.type&&null===t.group).length>0){let r=await a2(d,`leftover-${p.id}`),n=await a2(d,`budget-${p.id}`);r>=0?(await st({category:p.id,month:t,amount:n-r}),await se({category:p.id,month:t,goal:n-r,long_goal:0}),e+=1):a.push(p.name+" does not have available funds.");let o=await lM("SELECT carryover FROM zero_budgets WHERE month = ? and category = ?",[l,p.id]);null!==o&&1===o.carryover&&u.push({cat:p,temp:h})}h.filter(t=>"sink"===t.type&&null===t.group).length>0&&(s.push({cat:p,temp:h}),r+=1,n+=h.filter(t=>"sink"===t.type)[0].weight)}}for(let e=0;e<f.length;e++){let r=f[e],n=await a2(d,"to-budget"),o=await a2(d,`leftover-${r.id}`),a=await a2(d,`budget-${r.id}`),s=a+Math.abs(o),u=r.id,c=await lM("SELECT carryover FROM zero_budgets WHERE month = ? and category = ?",[l,u]);null===c&&(c={carryover:0}),o<0&&Math.abs(o)<=n&&!r.is_income&&0===c.carryover?await st({category:r.id,month:t,amount:s}):o<0&&!r.is_income&&0===c.carryover&&Math.abs(o)>n&&await st({category:r.id,month:t,amount:a+n})}let m=await a2(d,"to-budget");m<=0&&a.push("Global: No funds are available to reallocate.");for(let e=0;e<s.length;e++){let r=await a2(d,`budget-${s[e].cat.id}`),o=s[e].cat.id,a=r+Math.round(s[e].temp.filter(t=>"sink"===t.type)[0].weight/n*m);if(e===s.length-1){let t=await a2(d,"to-budget");a>t&&(a=r+t)}await st({category:o,month:t,amount:a})}if(0===e)return o.length?{type:"error",sticky:!0,message:"There were errors interpreting some templates:",pre:o.join("\n\n")}:a.length?{type:"warning",message:"Global: Funds not available:",pre:a.join("\n\n")}:{type:"message",message:"All categories were up to date."};{let t=`Successfully returned funds from ${e} ${1===e?"source":"sources"} and funded ${r} sinking ${1===r?"fund":"funds"}.`;return o.length?{sticky:!0,message:`${t} There were errors interpreting some templates:`,pre:o.join("\n\n")}:a.length?{type:"warning",message:"Global: Funds not available:",pre:a.join("\n\n")}:{type:"message",message:t}}}let yR="#cleanup ";async function yC(){let t={},e=await lC(`SELECT * FROM notes WHERE lower(note) like '%${yR}%'`);for(let r=0;r<e.length;r++){let n=e[r].note.split("\n"),o=[];for(let t=0;t<n.length;t++){let e=n[t].trim();if(!e.toLowerCase().startsWith(yR))continue;let r=e.slice(yR.length);try{let t=(0,yA.parse)(r);o.push(t)}catch(t){o.push({type:"error",line:e,error:t})}}o.length&&(t[e[r].id]=o)}return t}async function yM(t,e,r,n,o){let a=0;if(!t.amount)return n.push("Number of months to average is not valid"),{to_budget:o,errors:n};{let n=0;for(let o=1;o<=t.amount;o++){let t=rZ(rj(e,o));n+=await a2(t,`sum-amount-${r.id}`)}a=n/t.amount}return{to_budget:o+=-Math.round(a),errors:n}}async function yx(t,e,r,n,o,a,s,u){if(a3())u.push("by templates are not supported in Report budgets");else{let u=0,l=`${t[n].month}-01`,c=rB(l,e),f="by"===r.type?r.repeat:12*(r.repeat||1);for(;c<0&&f;)l=rF(l,f),c=rB(t[n].month,e);0===n&&(o=a),(o=no(t[n].amount)-o)>=0?(u=o,o=0):(u=0,o=Math.abs(o)),s+=c>=0?Math.round(u/(c+1)):0}return{to_budget:s,errors:u,remainder:o}}async function yk(t,e,r,n,o,a){let s=t.percent,u=0;if("all income"===t.category.toLowerCase()){if(t.previous){let t=rZ(rF(e,-1));u=await a2(t,"total-income")}else u=await a2(n,"total-income")}else if("available funds"===t.category.toLowerCase())u=r;else{let r=(await l$()).find(e=>e.is_income&&e.name.toLowerCase()===t.category.toLowerCase());if(!r)return a.push(`Could not find category ${t.category}`),{to_budget:o,errors:a};if(t.previous){let t=rZ(rF(e,-1));u=await a2(t,`sum-amount-${r.id}`)}else u=await a2(n,`sum-amount-${r.id}`)}return{to_budget:o+=Math.max(0,Math.round(s/100*u)),errors:a}}async function yL(t,e,r,n){return r>=0&&((n+=0===r?Math.round(t.weight):Math.round(r*t.weight))>=e?n=e:e-n==1&&(n+=1)),{to_budget:n}}function yF(t,e,r){let n;let o=0,a=t[t.length-1]+1;for(let t=0;t<e.length;t++){let s=r[e[t].id];if(s)for(let t=0;t<s.length;t++)"remainder"===s[t].type&&(s[t].priority=a,o+=s[t].weight,n=!0)}return{remainder_found:n,remainder_priority:a,remainder_weight_total:o}}function yP(t){tO(1,arguments);var e=tA(t).getDay();return 0===e||6===e}function yB(t){return tO(1,arguments),tA(t).getDay()}function yU(t,e){tO(2,arguments);var r=e-yB(t);return r<=0&&(r+=7),rd(t,r)}function yj(t){return tO(1,arguments),yU(t,1)}function yW(t,e){tO(2,arguments);var r=yB(t)-e;return r<=0&&(r+=7),r_(t,r)}function yH(t){return tO(1,arguments),yW(t,5)}var yz=__webpack_require__(251),yV=__webpack_require__.n(yz);function y$(t,e){var r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function yq(t,e){tO(2,arguments);var r=tA(t),n=tA(e),o=y$(r,n),a=Math.abs(rm(r,n));r.setDate(r.getDate()-o*a);var s=Number(y$(r,n)===-o),u=o*(a-s);return 0===u?0:u}function yG(t,e){return tO(2,arguments),rp(t,-tR(e))}function yY(t){return tO(1,arguments),tA(t).getDate()}function yK(t,e){return tO(2,arguments),rc(t,12*tR(e))}function yZ(t,e){return tO(2,arguments),yK(t,-tR(e))}function yJ(t){return new dh({rrules:cD(t)}).occurrences({take:3}).toArray().map(t=>t.date)}async function yX(t,e){let{data:r}=await aA(ad("transactions").filter({account:e,schedule:null,"payee.transfer_acct":null,$and:[{date:{$gte:r_(t,2)}},{date:{$lte:rd(t,2)}}]}).select("*").options({splits:"none"}));return r}function yQ(t,e){return 1/(Math.abs(yq(rD(t),rD(e)))+1)}function y0(t,e){let r=(t=[...t].reverse())[0],n=t.slice(1),o=[];for(let a of r.transactions){let s=cS(a.amount),u=a.payee,l=n.map(t=>{let e=t.transactions.find(t=>t.amount>=a.amount-s&&t.amount<=a.amount+s);return(e=e&&e.payee===u?e:null)?{trans:e,rank:yQ(t.date,e.date)}:null});if(-1!==l.indexOf(null))continue;let c=l.reduce((t,e)=>t+e.rank,yQ(r.date,a.date)),f=l.reduce((t,e)=>t&&e.trans.amount===a.amount,!0);o.push({rank:c,amount:a.amount,account:a.account,payee:a.payee,date:e,exactDate:c===t.length,exactAmount:f})}return o}async function y1(t,e,r,n){let o=[];for(let a=0;a<e;a++){let e;let s=rd(t,a);if("function"==typeof r){if(!1===(e=r(s)))continue}else e={...r,start:s};e.start=rM(e.start);let u=[];for(let t of yJ(e))u.push({date:rM(t),transactions:await yX(t,n)});o=o.concat(y0(u,e))}return o}async function y2(t,e){return y1(yG(rD(t),4),14,{frequency:"weekly"},e)}async function y6(t,e){return y1(yG(rD(t),7),14,{frequency:"weekly",interval:2},e)}async function y4(t,e){return y1(rf(rD(t),4),62,t=>!(yY(t)>28)&&{start:t,frequency:"monthly"},e)}async function y3(t,e){let r=await y1(rf(rD(t),3),1,{frequency:"monthly",patterns:[{type:"day",value:-1}]},e),n=await y1(rf(rD(t),4),1,{frequency:"monthly",patterns:[{type:"day",value:-1}]},e);return r.concat(n)}async function y8(t,e){return y1(yG(rD(t),8),14,t=>{let e=ru(new Date,"iiii").slice(0,2).toUpperCase();return{start:t,frequency:"monthly",patterns:[{type:e,value:1},{type:e,value:3}]}},e)}async function y5(t,e){return y1(rf(rD(t),8),14,t=>{let e=ru(new Date,"iiii").slice(0,2).toUpperCase();return{start:t,frequency:"monthly",patterns:[{type:e,value:2},{type:e,value:4}]}},e)}async function y7(t){let e=t._conditions,r=e.find(t=>"date"===t.field).value;for(;;){let t=r;switch((r={...t}).frequency){case"weekly":r.start=rM(yG(rD(r.start),r.interval||1));break;case"monthly":r.start=rM(rf(rD(r.start),r.interval||1));break;case"yearly":r.start=rM(yZ(rD(r.start),r.interval||1));break;default:throw Error("findStartDate: invalid frequency")}let{filters:n,errors:o}=p2(e.map(t=>"date"===t.field?{...t,value:r}:t),{recurDateBounds:1});if(o.length>0){r=null;break}let{data:a}=await aA(ad("transactions").filter({$and:n}).select("*"));if(0===a.length){r=t;break}}return r?{...t,date:r,_conditions:e.map(t=>"date"===t.field?{...t,value:r}:t)}:t}async function y9(){let{data:t}=await aA(ad("accounts").filter({closed:!1}).select("*")),e=[];for(let r of t){let t=await lM("SELECT * FROM v_transactions WHERE account = ? AND parent_id IS NULL ORDER BY date DESC LIMIT 1",[r.id]);if(t){let n=op(t.date);e=e.concat(await y2(n,r.id),await y6(n,r.id),await y4(n,r.id),await y3(n,r.id),await y8(n,r.id),await y5(n,r.id))}}let r=[...r2(e,"payee").entries()].map(([,t])=>{t.sort((t,e)=>e.rank-t.rank);let e=t[0];return{id:K(),account:e.account,payee:e.payee,date:e.date,amount:e.amount,_conditions:[{op:"is",field:"account",value:e.account},{op:"is",field:"payee",value:e.payee},{op:e.exactDate?"is":"isapprox",field:"date",value:e.date},{op:e.exactAmount?"is":"isapprox",field:"amount",value:e.amount}]}}),n=[];for(let t of r)n.push(await y7(t));return n}function gt(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function ge(t,e){let r=cR(t),n=cR(e),o=gt(Object.values(r),Object.values(n)),a=t.map(t=>{let e=o.find(e=>t===e[0]);return e&&e[1]?e[1]:t}),s=o.filter(t=>null==t[0]&&null!=t[1]).map(t=>t[1]);return a.concat(s)}function gr(t,e=new Date(rk()),r=!1){e=ry(e);let n=new pp(t.op,"date",t.value,null,new Map(Object.entries({date:"date"}))).getValue();if("date"===n.type)return n.date;if("recur"===n.type){let t=n.schedule.occurrences({start:e,take:1}).toArray();if(0===t.length&&(t=n.schedule.occurrences({reverse:!0,take:1}).toArray()),t.length>0){let e=t[0].date;return n.schedule.data.skipWeekend&&!r&&(e=gb(e,n.schedule.data.weekendSolve)),rM(e)}}return null}async function gn(t){if(null==t)throw Error("Schedule not attached to a rule");let{data:e}=await aA(ad("schedules").filter({id:t}).calculate("rule"));return pZ().find(t=>t.id===e)}async function gi(t){let{data:e}=await aA(ad("schedules").filter({id:t}).calculate("rule"));e&&await lU("rules",e);let r=await pJ({stage:null,conditionsOp:"and",conditions:[{op:"isapprox",field:"date",value:rk()},{op:"isapprox",field:"amount",value:0}],actions:[{op:"link-schedule",value:t}]});return await lV("schedules",{id:t,rule:r}),pZ().find(t=>t.id===r)}async function go({id:t,start:e,conditions:r,reset:n}){if(null==r){let e=await gn(t);if(null==e)throw Error("No rule found for schedule");r=e.serialize().conditions}let{date:o}=cR(r),{data:a}=await aA(ad("schedules").filter({id:t}).calculate("next_date"));if(o){let r=gr(o,e?e(a):new Date);if(r!==a){let e=await lM("SELECT id, base_next_date_ts FROM schedules_next_date WHERE schedule_id = ?",[t]);await lF("schedules_next_date",n?{id:e.id,base_next_date:od(r),base_next_date_ts:Date.now()}:{id:e.id,local_next_date:od(r),local_next_date_ts:e.base_next_date_ts})}}}async function ga(t,e){let r=await lM("SELECT id from schedules WHERE tombstone = 0 AND name = ?",[t]);return null!=r&&(!e||r.id!==e)}async function gs({schedule:t=null,conditions:e=[]}={}){let r=t?.id||K(),{date:n}=cR(e);if(null==n)throw Error("A date condition is required to create a schedule");if(null==n.value)throw Error("Date is required");let o=gr(n),a=o?od(o):null;if(t){if(t.name){if(await ga(t.name,r))throw Error("Cannot create schedules with the same name")}else t.name=null}let s=await pJ({stage:null,conditionsOp:"and",conditions:e,actions:[{op:"link-schedule",value:r}]}),u=Date.now();return await lP("schedules_next_date",{schedule_id:r,local_next_date:a,local_next_date_ts:u,base_next_date:a,base_next_date_ts:u}),await lz("schedules",{...t,id:r,rule:s}),r}async function gu({schedule:t,conditions:e,resetNextDate:r}){let n;if(t.rule)throw Error("You cannot change the rule of a schedule");if(e){let{date:r}=cR(e);if(r&&null==r.value)throw Error("Date is required");null==(n=await gn(t.id))&&(n=await gi(t.id))}await ln(async()=>{if(e){let o=n.serialize().conditions,a=ge(o,e);await pX({id:n.id,conditions:a});let s=({type:t,...e})=>e;!r&&yV()(o.find(t=>"account"===t.field),o.find(t=>"account"===t.field))&&yV()(s(o.find(t=>"date"===t.field)||{}),s(a.find(t=>"date"===t.field)||{}))||await go({id:t.id,conditions:a,reset:!0})}else r&&await go({id:t.id,reset:!0});await lV("schedules",t)})}async function gl({id:t}){let{data:e}=await aA(ad("schedules").filter({id:t}).calculate("rule"));await ln(async()=>{await lU("rules",e),await lU("schedules",t)})}async function gc({id:t}){return go({id:t,start:t=>rd(rD(t),1)})}function gf(){return y9()}async function gd({config:t,count:e}){let r=cD(t);try{return new dh({rrules:r}).occurrences({start:ry(new Date),take:e}).toArray().map(e=>t.skipWeekend?gb(e.date,t.weekendSolveMode):e.date).map(t=>rM(t))}catch(e){throw n5(t),e}}function gp(t){let{actions:e,conditions:r}=t instanceof p_?t.serialize():pG.toJS(t);if(e&&e.find(t=>"link-schedule"===t.op)){let t=e.find(t=>"link-schedule"===t.op).value;if(t){let e=cR(r),n=r.findIndex(t=>t===e.payee),o=r.findIndex(t=>t===e.account),a=r.findIndex(t=>t===e.amount),s=r.findIndex(t=>t===e.date);lT("INSERT OR REPLACE INTO schedules_json_paths (schedule_id, payee, account, amount, date) VALUES (?, ?, ?, ?, ?)",[t,-1===n?null:`$[${n}]`,-1===o?null:`$[${o}]`,-1===a?null:`$[${a}]`,-1===s?null:`$[${s}]`])}}}function gh(){return lD(()=>{pZ().forEach(t=>{gp(t)})}),u3(gy)}function gy(t,e){e.forEach((t,e)=>{"rules"===e&&t.forEach(t=>{gp(t)})})}async function gg({id:t}){let{data:e}=await aA(ad("schedules").filter({id:t}).select("*")),r=e[0];if(null==r||null==r._account)return;let n={payee:r._payee,account:r._account,amount:cC(r._amount),date:r.next_date,schedule:r.id,cleared:!1};n.account&&await hc(n.account,[n])}async function gm(t){let{data:e}=await aA(ad("schedules").filter({completed:!1,"_account.closed":!1}).select("*")),{data:r}=await aA(cN(e)),n=new Set(r.filter(Boolean).map(t=>t.schedule)),o=[],a=!1;for(let r of e){let e=cI(r.next_date,r.completed,n.has(r.id));if("paid"===e){if(r._date){if(r._date.frequency)try{await go({id:r.id})}catch(t){}else r._date<rk()&&await gu({schedule:{id:r.id,completed:!0}})}}else("due"===e||"missed"===e)&&r.posts_transaction&&r._account&&(t?(await gg({id:r.id}),a=!0):o.push(r._payee))}o.length>0?i_("schedules-offline",{payees:o}):a&&i_("sync-event",{type:"success",tables:["transactions"],syncDisabled:"false"})}let g_=s$();function gb(t,e){if(yP(t)){if("after"===e)return yj(t);if("before"===e)return yH(t);throw Error("Unknown weekend solve mode, this should not happen!")}return t}async function gw(t,e,r){let n=[],o=[];for(let a=0;a<t.length;a++){let{id:s,completed:u}=await lM("SELECT * FROM schedules WHERE name = ? AND tombstone = 0",[t[a].name]),l=await gn(s),{date:c,amount:f}=cR(l.serialize().conditions),d="isbetween"===f.op?Math.round(f.value.num1+f.value.num2)/2:f.value,{amount:p,subtransactions:h}=l.execActions({amount:d,category:r.id,subtransactions:[]}),y=h?.filter(t=>t.category===r.id),g=(r.is_income?1:-1)*(y?.length?y.reduce((t,e)=>t+e.amount,0):p??d),m=gr(c,rN(e)),_=c.value.interval?c.value.interval:1,b=c.value.frequency,w=Object(c.value)===c.value&&"frequency"in c.value,E=rB(m,e);if(E<0)o.push(`Schedule ${t[a].name} is in the Past.`);else if(n.push({target:g,next_date_string:m,target_interval:_,target_frequency:b,num_months:E,completed:u,full:null!==t[a].full&&t[a].full,repeat:w,name:t[a].name}),u)o.push(`Schedule ${n[a].name} is not active during the month in question.`);else if(w){let t=0,r=rF(e,n[n.length-1].num_months+1),o=gr(c,rN(e),!0),a=c.value.skipWeekend?rM(gb(rN(o),c.value.weekendSolveMode)):o;for(;a<r;){t+=-g;let e=o;if(o=gr(c,rN(rW(o,1)),!0),a=c.value.skipWeekend?rM(gb(rN(o),c.value.weekendSolveMode)):o,!rU(o,e))break}n[n.length-1].target=-t}}return{t:n.filter(t=>0===t.completed),errors:o}}async function gE(t){let e=0,r=t.filter(t=>0===t.num_months);for(let t=0;t<r.length;t++)e+=r[t].target;return e}async function gv(t,e,r){let n=0;for(let o=0;o<t.length;o++){e=0===o?t[o].target-r:t[o].target-e;let a=0;e>=0?(a=e,e=0):(a=0,e=Math.abs(e)),n+=a/(t[o].num_months+1)}return n}async function gS(t){let e=0;for(let r=0;r<t.length;r++)e+=t[r].target/t[r].target_interval;return e}async function gT(t){let e=0;for(let r=0;r<t.length;r++)e+=t[r].target;return e}async function gO(t,e,r,n,o,a,s,u,l){if(!t){t=!0;let c=e.filter(t=>"schedule"===t.type),f=await gw(c,r,l);u=u.concat(f.errors);let d=t=>t.full||"monthly"===t.target_frequency&&1===t.target_interval&&0===t.num_months||"weekly"===t.target_frequency&&t.target_interval>=0&&0===t.num_months||"daily"===t.target_frequency||a3(),p=f.t.filter(d),h=f.t.filter(t=>!d(t)).sort((t,e)=>t.next_date_string.localeCompare(e.next_date_string)),y=await gE(p),g=await gT(h),m=await gS(h);if(n>=g+y)s+=Math.round(y+m);else{let t=await gv(h,o,a);0===h.length?s+=Math.round(y+t)-a:s+=Math.round(y+t)}}return{to_budget:s,errors:u,remainder:o,scheduleFlag:t}}async function gA(t,e,r,n,o,a,s){if(null!=t.limit){if(e)return r.push(`More than one up to limit found.`),{to_budget:a,errors:r,limit:n,limitCheck:e,hold:o};e=!0,n=no(t.limit.amount),o=t.limit.hold}let u=0;return{to_budget:a+=u=null!=t.monthly?no(t.monthly):n-s,errors:r,limit:n,limitCheck:e,hold:o}}async function gI(t,e,r,n,o,a){let s=`${t.from}-01`,u=`${t.month}-01`,l=e,c=!0;for(let t=s;rB(r,t)>0;t=rF(t,1)){let e=rZ(rJ(t,"yyyy-MM"));if(c){let t=await a2(e,`sum-amount-${a.id}`);l=await a2(e,`leftover-${a.id}`)-t,c=!1}else l+=await a2(e,`budget-${a.id}`)}let f=rB(u,rN(r)),d=no(t.amount),p=0;return f<0?(o.push(`${t.month} is in the past.`),{to_budget:n,errors:o}):{to_budget:n=p=0===f?d-l:Math.round((d-l)/(f+1)),errors:o}}async function gN(t,e,r,n,o,a,s){let u=no(t.amount),l=null!=t.weeks?Math.round(t.weeks):1;if(null!=t.limit){if(e>0)return s.push(`More than one up to limit found.`),{to_budget:a,errors:s,limit:e,limitCheck:r,hold:n};r=!0,e=no(t.limit.amount),n=t.limit.hold}let c=t.starting,f=rF(o,1);for(;c<f;)c>=o&&(a+=u),c=rP(c,l);return{to_budget:a,errors:s,limit:e,limitCheck:r,hold:n}}g_.method("schedule/create",ia(ut(gs))),g_.method("schedule/update",ia(ut(gu))),g_.method("schedule/delete",ia(ut(gl))),g_.method("schedule/skip-next-date",ia(ut(gc))),g_.method("schedule/post-transaction",ia(ut(gg))),g_.method("schedule/force-run-service",ia(()=>gm(!0))),g_.method("schedule/discover",gf),g_.method("schedule/get-upcoming-dates",gd),g_.service(gh),g_.events.on("sync",({type:t})=>{if(("success"===t||"error"===t||"unauthorized"===t)&&aF()){let{lastScheduleRun:e}=aF();e!==rk()&&(id(()=>gm("success"===t)),ak({lastScheduleRun:rk()}))}});var gD=__webpack_require__(4939);async function gR(){await lk(`
      UPDATE categories
      SET goal_def = NULL
      WHERE id NOT IN (SELECT n.id
                       FROM notes n
                       WHERE lower(note) LIKE '%${gx}%'
                          OR lower(note) LIKE '%${gk}%')
    `)}async function gC(){return await lC(`
      SELECT c.id AS id, c.name as name, n.note AS note
      FROM notes n
             JOIN categories c ON n.id = c.id
      WHERE c.id = n.id
        AND (lower(note) LIKE '%${gx}%'
        OR lower(note) LIKE '%${gk}%')
    `)}async function gM(){return await lC("SELECT id, rule, active, completed, posts_transaction, tombstone, name from schedules WHERE name NOT NULL AND tombstone = 0")}let gx="#template",gk="#goal";async function gL(){for(let{id:t,templates:e}of(await gP())){let r=JSON.stringify(e);await lF("categories",{id:t,goal_def:r})}await gR()}async function gF(){let t=await gP(),e=(await gM()).map(({name:t})=>t),r=[];return(t.forEach(({id:t,name:n,templates:o})=>{o.forEach(o=>{"error"===o.type?r.push(`${n}: ${o.line}`):"schedule"!==o.type||e.includes(o.name)||r.push(`${t}: Schedule ${o.name} does not exist`)})}),r.length)?{sticky:!0,message:"There were errors interpreting some templates:",pre:r.join("\n\n")}:{type:"message",message:"All templates passed! "}}async function gP(){let t=[];return(await gC()).forEach(({id:e,name:r,note:n})=>{if(!n)return;let o=[];n.split("\n").forEach(t=>{let e=t.trim();if(e.startsWith(gx)||e.startsWith(gk))try{let t=(0,gD.parse)(e);o.push(t)}catch(e){o.push({type:"error",directive:"error",line:t,error:e.message})}}),o.length&&t.push({id:e,name:r,templates:o})}),t}let gB="#template";async function gU({month:t}){await gL();let e=await gY(null,"template"),r=await gY(null,"goal"),n=await gK(t,!1,e);return await gZ(r,t),n}async function gj({month:t}){await gL();let e=await gY(null,"template"),r=await gY(null,"goal"),n=await gK(t,!0,e);return await gZ(r,t),n}async function gW({month:t,category:e}){let r=await lC("SELECT * FROM v_categories WHERE id = ?",[e]);await gL();let n=await gY(r[0],"template"),o=await gY(r[0],"goal"),a=await gK(t,!0,n,r[0]);return await gZ(o,t,r[0]),a}function gH(){return gF()}async function gz(){return await lC(`
    SELECT categories.* FROM categories
    INNER JOIN category_groups on categories.cat_group = category_groups.id
    WHERE categories.tombstone = 0 AND categories.hidden = 0
    AND category_groups.hidden = 0
    `)}function gV(t){let e=t[0].priority,r=!1;for(let n=1;n<t.length;n++)t[n].priority!==e&&(e=Math.min(e,t[n].priority),r=!0);return{lowPriority:e,errorNotice:r}}async function g$({month:t,templateBudget:e}){await ln(async()=>{e.forEach(e=>{st({category:e.category,month:t,amount:e.amount})})})}async function gq({month:t,idealTemplate:e}){await ln(async()=>{e.forEach(e=>{se({category:e.category,goal:e.amount,month:t,long_goal:0})})})}async function gG(t,e){let r=[];r=null===e?await gz():e,await ln(async()=>{for(let e=0;e<r.length;e++)se({category:r[e].id,goal:null,month:t,long_goal:null})})}async function gY(t,e){let r=await lC("SELECT * FROM categories WHERE goal_def IS NOT NULL"),n=[];for(let t=0;t<r.length;t++)n[r[t].id]=JSON.parse(r[t].goal_def);if(t){let r=[];return void 0!==n[t.id]?r[t.id]=n[t.id].filter(t=>t.directive===e):r[t.id]=void 0,r}{let t=await gz(),r=[];for(let o=0;o<t.length;o++){let a=t[o].id;n[a]&&(r[a]=n[a],r[a]=r[a].filter(t=>t.directive===e))}return r}}async function gK(t,e,r,n){let o=0,a=[],s=[],u=[],l=[],c=[],f=[];n?c[0]=n:c=await gz();for(let n=0;n<c.length;n++){let o=c[n],a=await a2(rZ(t),`budget-${o.id}`),s=r[o.id];if(s)for(let t=0;t<s.length;t++)null!=s[t].priority&&l.push(s[t].priority);a&&(e?s?.length>0&&u.push({category:o.id}):f.push(n))}for(let t=f.length-1;t>=0;t--)c.splice(f[t],1);await g$({month:t,templateBudget:u}),await gG(t,c);let{remainder_found:d,remainder_priority:p,remainder_weight_total:h}=yF(l=l.sort(function(t,e){return t-e}).filter((t,e,r)=>r.indexOf(t)===e),c,r);d&&l.push(p);let y=rZ(t),g=await a2(y,"to-budget"),m=a3()?await a2(y,"total-saved"):await a2(y,"to-budget");for(let e=0;e<l.length;e++){let n=l[e],u=[],f=1;n===p&&d&&(f=await a2(y,"to-budget")/h);for(let e=0;e<c.length;e++){let l=c[e],d=r[l.id];if(d){let e=!1,r=!1,c=0;if(d.filter(t=>("schedule"===t.type||"by"===t.type)&&t.priority===n).length>0){d=d.filter(t=>t.priority===n&&("schedule"!==t.type||"by"!==t.type)||"schedule"===t.type||"by"===t.type);let{lowPriority:t,errorNotice:o}=await gV(d);e=(c=t)!==n,r=!0,!e&&o&&a.push(l.name+": Schedules and By templates should all have the same priority.  Using priority "+c)}if(!e&&(r||(d=d.filter(t=>t.priority===n)),d.length>0)){a=a.concat(d.filter(t=>"error"===t.type).map(({line:t,error:e})=>[l.name+": "+e.message,t," ".repeat(gB.length+e.location.start.offset)+"^"].join("\n")));let e=await a2(y,`budget-${l.id}`),{amount:r,errors:c}=await gJ(l,d,t,f,g,m,e),h=r;null!=h&&(o++,n!==p&&(s.filter(t=>t.category===l.id).length>0?s.filter(t=>t.category===l.id)[0].amount+=h:s.push({category:l.id,amount:h})),h<=m||!n?u.push({category:l.id,amount:h+e}):h>m&&m>=0&&(h=m,a.push("Insufficient funds."),u.push({category:l.id,amount:h+e})),m-=h),null!=c&&(a=a.concat(c.map(t=>`${l.name}: ${t}`)))}}}await g$({month:t,templateBudget:u})}if(await gq({month:t,idealTemplate:s}),0===o)return a.length?{type:"error",sticky:!0,message:"There were errors interpreting some templates:",pre:a.join("\n\n")}:{type:"message",message:"All categories were up to date."};{let t=`Successfully applied ${o} templates.`;return a.length?{sticky:!0,message:`${t} There were errors interpreting some templates:`,pre:a.join("\n\n")}:{type:"message",message:t}}}async function gZ(t,e,r){let n=[];r?n[0]=r:n=await gz();for(let r=0;r<n.length;r++){let o=n[r].id,a=t[o];a?.length>0&&await se({month:e,category:o,goal:no(a[0].amount),long_goal:1})}}async function gJ(t,e,r,n,o,a,s){let u=`${r}-01`,l=[],c=await lC("SELECT name from schedules WHERE name NOT NULL AND tombstone = 0");c=c.map(t=>t.name);let f=!1;(e=e.filter(t=>{switch(t.type){case"by":case"spend":let e,r=`${t.month}-01`,n=rB(r,u),o=t.annual?12*(t.repeat||1):t.repeat;for("spend"===t.type&&(e=`${t.from}-01`);n<0&&o;)r=rF(r,o),e&&(e=rF(e,o)),n=rB(r,u);if(n<0)return l.push(`${t.month} is in the past.`),!1;t.month=rJ(r,"yyyy-MM"),e&&(t.from=rJ(e,"yyyy-MM"));break;case"schedule":if(!c.includes(t.name))return l.push(`Schedule ${t.name} does not exist`),null}return!0})).length>1&&(e=e.sort((t,e)=>"by"!==t.type||t.annual?"schedule"===t.type||"schedule"===e.type?t.priority-e.priority:t.type.localeCompare(e.type):rB(`${t.month}-01`,`${e.month}-01`)));let d=rZ(r),p=await a2(d,`sum-amount-${t.id}`),h=await a2(d,`leftover-${t.id}`),y=h-p-s,g=0,m=0,_=!1,b=!1,w=0;for(let s=0;s<e.length;s++){let c=e[s];switch(c.type){case"simple":{let t=await gA(c,b,l,m,_,g,y);g=t.to_budget,l=t.errors,m=t.limit,b=t.limitCheck,_=t.hold;break}case"by":{let t=await yx(e,u,c,s,w,y,g,l);g=t.to_budget,l=t.errors,w=t.remainder;break}case"week":{let t=await gN(c,m,b,_,u,g,l);g=t.to_budget,l=t.errors,m=t.limit,b=t.limitCheck,_=t.hold;break}case"spend":{let e=await gI(c,y,u,g,l,t);g=e.to_budget,l=e.errors;break}case"percentage":{let t=await yk(c,r,o,d,g,l);g=t.to_budget,l=t.errors;break}case"schedule":{let r=await gO(f,e,u,h,w,y,g,l,t);g=r.to_budget,l=r.errors,w=r.remainder,f=r.scheduleFlag;break}case"remainder":g=(await yL(c,a,n,g)).to_budget;break;case"average":{let e=await yM(c,u,t,l,g);g=e.to_budget,l=e.errors;break}case"error":return{errors:l}}}b&&(_&&h>m?g=0:g+h>m&&(g=m-h));let E=t.name+": "+na(y);return console.log(E+=" + "+na(g)+" = "+na(y+g)+" "+e.map(t=>t.line).join("\n")),{amount:g,errors:l}}let gX=s$();gX.method("budget/budget-amount",ia(ut(st))),gX.method("budget/copy-previous-month",ia(ut(si))),gX.method("budget/copy-single-month",ia(ut(so))),gX.method("budget/set-zero",ia(ut(sa))),gX.method("budget/set-3month-avg",ia(ut(ss))),gX.method("budget/set-n-month-avg",ia(ut(su))),gX.method("budget/check-templates",ia(ut(gH))),gX.method("budget/apply-goal-template",ia(ut(gU))),gX.method("budget/overwrite-goal-template",ia(ut(gj))),gX.method("budget/apply-single-template",ia(ut(gW))),gX.method("budget/cleanup-goal-template",ia(ut(yI))),gX.method("budget/hold-for-next-month",ia(ut(sl))),gX.method("budget/reset-hold",ia(ut(sc))),gX.method("budget/cover-overspending",ia(ut(sf))),gX.method("budget/transfer-available",ia(ut(sd))),gX.method("budget/cover-overbudgeted",ia(ut(sp))),gX.method("budget/transfer-category",ia(ut(sh))),gX.method("budget/set-carryover",ia(ut(sy)));var gQ=__webpack_require__(6379),g0=__webpack_require__.n(gQ);let g1=[{type:"net-worth-card",width:8,height:2,x:0,y:0,meta:null},{type:"cash-flow-card",width:4,height:2,x:8,y:0,meta:null}],g2={validate(t,{update:e}={}){if(of("Report",t,["conditionsOp"],e),(!e||"conditionsOp"in t)&&!["and","or"].includes(t.conditionsOp))throw new n0("Invalid filter conditionsOp: "+t.conditionsOp);return t},toJS:t=>({id:t.id,name:t.name,startDate:t.start_date,endDate:t.end_date,isDateStatic:1===t.date_static,dateRange:t.date_range,mode:t.mode,groupBy:t.group_by,interval:t.interval,balanceType:t.balance_type,showEmpty:1===t.show_empty,showOffBudget:1===t.show_offbudget,showHiddenCategories:1===t.show_hidden,showUncategorized:1===t.show_uncategorized,includeCurrentInterval:1===t.include_current,graphType:t.graph_type,conditions:t.conditions,conditionsOp:t.conditions_op}),fromJS:t=>({id:t.id,name:t.name,start_date:t.startDate,end_date:t.endDate,date_static:t.isDateStatic?1:0,date_range:t.dateRange,mode:t.mode,group_by:t.groupBy,interval:t.interval,balance_type:t.balanceType,show_empty:t.showEmpty?1:0,show_offbudget:t.showOffBudget?1:0,show_hidden:t.showHiddenCategories?1:0,show_uncategorized:t.showUncategorized?1:0,include_current:t.includeCurrentInterval?1:0,graph_type:t.graphType,conditions:t.conditions,conditions_op:t.conditionsOp})};async function g6(t,e,r){let n=await lM("SELECT id from custom_reports WHERE tombstone = 0 AND name = ?",[t]);return null!==n&&(!!r||n.id!==e)}async function g4(t){let e=K(),r={...t,id:e};if(!r.name)throw Error("Report name is required");if(await g6(r.name,r.id??"",!0))throw Error("There is already a filter named "+r.name);return await lz("custom_reports",g2.fromJS(r)),e}async function g3(t){if(!t.name)throw Error("Report name is required");if(!t.id)throw Error("Report recall error");if(await g6(t.name,t.id,!1))throw Error("There is already a filter named "+t.name);await lV("custom_reports",g2.fromJS(t))}async function g8(t){await lU("custom_reports",t)}let g5=s$();function g7(t){return"custom-report"===t.type}g5.method("report/create",ia(ut(g4))),g5.method("report/update",ia(ut(g3))),g5.method("report/delete",ia(ut(g8)));let g9={validate(t){if(of("Dashboard",t,["version","widgets"]),!Array.isArray(t.widgets))throw new n0("Invalid dashboard.widgets data type: it must be an array of widgets.");t.widgets.forEach((t,e)=>{if(of(`Dashboard widget #${e}`,t,["type","x","y","width","height",...g7(t)?["meta"]:[]]),!Number.isInteger(t.x))throw new n0(`Invalid widget.${e}.x data-type for value ${t.x}.`);if(!Number.isInteger(t.y))throw new n0(`Invalid widget.${e}.y data-type for value ${t.y}.`);if(!Number.isInteger(t.width))throw new n0(`Invalid widget.${e}.width data-type for value ${t.width}.`);if(!Number.isInteger(t.height))throw new n0(`Invalid widget.${e}.height data-type for value ${t.height}.`);if(!["net-worth-card","cash-flow-card","spending-card","custom-report"].includes(t.type))throw new n0(`Invalid widget.${e}.type value ${t.type}.`);g7(t)&&g2.validate(t.meta)})}};async function mt(t){let{data:e}=await aA(ad("dashboard").filter({id:{$oneof:t.map(({id:t})=>t)}}).select("*")),r=new Map(e.map(t=>[t.id,t]));await Promise.all(t.filter(t=>!g0()(r.get(t.id)??{},t)).map(t=>lF("dashboard",t)))}async function me(t){await lV("dashboard",t)}async function mr(){await ln(async()=>{await Promise.all([lj("dashboard"),...g1.map(t=>lz("dashboard",t))])})}async function mn(t){if(!("x"in t)&&!("y"in t)){let e=await lM("SELECT x, y, width, height FROM dashboard WHERE tombstone = 0 ORDER BY y DESC, x DESC");if(e){let r=e.x+e.width+t.width;t.x=r>12?0:e.x+e.width,t.y=e.y+(r>12?e.height:0)}else t.x=0,t.y=0}await lz("dashboard",t)}async function mi(t){await lU("dashboard",t)}async function mo({filepath:t}){try{if(!await oe(t))throw Error(`File not found at the provided path: ${t}`);let e=await oo(t),r=JSON.parse(e);g9.validate(r);let n=await lC("SELECT id from custom_reports"),o=new Set(n.map(({id:t})=>t));return await ln(async()=>{await Promise.all([lj("dashboard"),...r.widgets.map(t=>lz("dashboard",{type:t.type,width:t.width,height:t.height,x:t.x,y:t.y,meta:g7(t)?{id:t.meta.id}:null})),...r.widgets.filter(g7).filter(({meta:t})=>!o.has(t.id)).map(({meta:t})=>lz("custom_reports",g2.fromJS(t))),...r.widgets.filter(g7).filter(({meta:t})=>o.has(t.id)).map(({meta:t})=>lV("custom_reports",{...Object.fromEntries(Object.entries(g2.fromJS(t)).map(([t,e])=>[t,e??null])),tombstone:!1}))])}),{status:"ok"}}catch(t){if(t instanceof Error&&(t.message="Error importing file: "+t.message,n8(t)),t instanceof SyntaxError)return{error:"json-parse-error"};if(t instanceof n0)return{error:"validation-error",message:t.message};return{error:"internal-error"}}}let ma=s$();ma.method("dashboard-update",ia(ut(mt))),ma.method("dashboard-update-widget",ia(ut(me))),ma.method("dashboard-reset",ia(ut(mr))),ma.method("dashboard-add-widget",ia(ut(mn))),ma.method("dashboard-remove-widget",ia(ut(mi))),ma.method("dashboard-import",ia(ut(mo)));let ms={validate(t,{update:e}={}){if(of("transaction_filters",t,["conditions"],e),(!e||"conditionsOp"in t)&&!["and","or"].includes(t.conditionsOp))throw Error("Invalid filter conditionsOp: "+t.conditionsOp);return t},toJS(t){let{conditions:e,conditions_op:r,...n}=t;return{...n,conditionsOp:r,conditions:p$(e)}},fromJS(t){let{conditionsOp:e,...r}=t;return e&&(r.conditions_op=e),r}};async function mu(t,e,r){let n=await lM("SELECT id from transaction_filters WHERE tombstone = 0 AND name = ?",[t]);return null!==n&&(!!r||n.id!==e)}function ml(t,e,r){let{conditions:n,conditionsOp:o}=t,a=null;return(e.some(t=>!(1!==n.length&&t.conditionsOp!==o||t.tombstone||t.conditions.length!==n.length||n.some(e=>!t.conditions.some(t=>e.value===t.value&&e.op===t.op&&e.field===t.field&&mc(e.options,t.options))))&&(a=t,!0)),r)?!!a&&a.name:!!a&&a.id!==t.id&&a.name}function mc(t,e){let r=t??{},n=e??{},o=Object.keys(r),a=Object.keys(n);return o.length===a.length&&o.every(t=>r[t]===n[t])}async function mf(t){let e=K(),r={id:e,conditions:t.state.conditions,conditionsOp:t.state.conditionsOp,name:t.state.name};if(r.name){if(await mu(r.name,r.id,!0))throw Error("There is already a filter named "+r.name)}else throw Error("Filter name is required");if(r.conditions.length>0){let e=ml(r,t.filters,!0);if(e)throw Error("Duplicate filter warning: conditions already exist. Filter name: "+e)}else throw Error("Conditions are required");return await lz("transaction_filters",ms.fromJS(r)),e}async function md(t){let e={id:t.state.id,conditions:t.state.conditions,conditionsOp:t.state.conditionsOp,name:t.state.name};if(e.name){if(await mu(e.name,e.id,!1))throw Error("There is already a filter named "+e.name)}else throw Error("Filter name is required");if(e.conditions.length>0){let r=ml(e,t.filters,!1);if(r)throw Error("Duplicate filter warning: conditions already exist. Filter name: "+r)}else throw Error("Conditions are required");await lV("transaction_filters",ms.fromJS(e))}async function mp(t){await lU("transaction_filters",t)}let mh=s$();async function my(t,e){let r;await _R["close-budget"]();try{({id:r}=await uz({cloudFileId:null,groupId:null},e))}catch(t){if("FileDownloadError"===t.type)return{error:t.reason};throw t}let n=await iP(iH(i$(r),"db.sqlite"));iM(n,`
          DELETE FROM kvcache;
          DELETE FROM kvcache_key;
        `),iB(n),await _R["load-budget"]({id:r}),await _R["get-budget-bounds"](),await a1(),await uV().catch(()=>{})}function mg(t,e,r,n,o,a,s){try{var u=t[a](s),l=u.value}catch(t){r(t);return}u.done?e(l):Promise.resolve(l).then(n,o)}function mm(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function s(t){mg(a,n,o,s,u,"next",t)}function u(t){mg(a,n,o,s,u,"throw",t)}s(void 0)})}}function m_(t,e){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return l([t,e])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function mb(t,e){return h(t,e)}function mw(t){return mE.apply(this,arguments)}function mE(){return(mE=mm(function(t){return m_(this,function(e){switch(e.label){case 0:return[4,mb("api/batch-budget-start")];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,,4,6]),[4,t()];case 3:return e.sent(),[3,6];case 4:return[4,mb("api/batch-budget-end")];case 5:return e.sent(),[7];case 6:return[2]}})})).apply(this,arguments)}function mv(t,e,r){return mb("api/budget-set-amount",{month:t,categoryId:e,amount:r})}function mS(t,e,r){return mb("api/budget-set-carryover",{month:t,categoryId:e,flag:r})}function mT(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.learnCategories,o=void 0!==n&&n,a=r.runTransfers;return mb("api/transactions-add",{accountId:t,transactions:e,learnCategories:o,runTransfers:void 0!==a&&a})}function mO(){return mb("api/accounts-get")}function mA(t,e){return mb("api/account-create",{account:t,initialBalance:e})}function mI(t){return mb("api/category-group-create",{group:t})}function mN(){return mb("api/categories-get",{grouped:!1})}function mD(t){return mb("api/category-create",{category:t})}function mR(){return mb("api/payees-get")}function mC(t){return mb("api/payee-create",{payee:t})}function mM(t){return Math.round(100*t)}mh.method("filter-create",ia(mf)),mh.method("filter-update",ia(md)),mh.method("filter-delete",ia(ut(mp)));var mx=__webpack_require__(3859),mk=__webpack_require__.n(mx);async function mL(t,e){return Promise.all(nu(t.accounts,"sortableIndex").map(async t=>{if(!t.isTombstone){let r=await mA({name:t.accountName,offbudget:!t.onBudget,closed:!!t.hidden});e.set(t.entityId,r)}}))}async function mF(t,e){let r=nu(t.masterCategories,"sortableIndex");await Promise.all(r.map(async t=>{if("OUTFLOW"===t.type&&!t.isTombstone&&t.subCategories&&t.subCategories.some(t=>!t.isTombstone)){let r=await mI({name:t.name,is_income:!1});if(e.set(t.entityId,r),t.note&&h("notes-save",{id:r,note:t.note}),t.subCategories){let r=nu(t.subCategories,"sortableIndex");for(let n of(r.reverse(),r))if(!n.isTombstone){let r=n.name;if("Hidden Categories"===t.name){let t=r.split(" ` ");t.pop(),r=t.join("/").trim()}let o=await mD({name:r,group_id:e.get(n.masterCategoryId)});e.set(n.entityId,o),n.note&&h("notes-save",{id:o,note:n.note})}}}}))}async function mP(t,e){for(let r of t.payees)if(!r.isTombstone){let t=await mC({name:r.name,category:e.get(r.autoFillCategoryId)||null,transfer_acct:e.get(r.targetAccountId)||null});e.set(r.entityId,t)}}async function mB(t,e){let r=(await mN()).find(t=>"Income"===t.name).id,n=await mO(),o=await mR();function a(t){return null==t||"Category/__Split__"===t?null:"Category/__ImmediateIncome__"===t||"Category/__DeferredIncome__"===t?r:e.get(t)}function s(t){let e=n.find(e=>e.id===t);if(!e)throw Error("Could not find account for transaction when importing");return e.offbudget}for(let r of t.transactions)if(e.set(r.entityId,K()),r.subTransactions)for(let t of r.subTransactions)e.set(t.entityId,K());let u=r2(t.transactions,"accountId");await Promise.all([...u.keys()].map(async r=>{let n=u.get(r).map(n=>{if(n.isTombstone)return null;function u(r){let n=e.get(r.transferTransactionId)||null,a=null,s=null;return n?a=o.find(t=>t.transfer_acct===e.get(r.targetAccountId)).id:(a=e.get(r.payeeId),s=t.payees.find(t=>t.entityId===r.payeeId)?.name),{transfer_id:n,payee:a,imported_payee:s}}return{id:e.get(n.entityId),amount:mM(n.amount),category:s(e.get(r))?null:a(n.categoryId),date:n.date,notes:n.memo||null,cleared:"Cleared"===n.cleared||"Reconciled"===n.cleared,reconciled:"Reconciled"===n.cleared,...u(n),subtransactions:n.subTransactions&&n.subTransactions.map(t=>({id:e.get(t.entityId),amount:mM(t.amount),category:a(t.categoryId),notes:t.memo||null,...u(t)}))}}).filter(t=>t);await mT(e.get(r),n,{learnCategories:!0})}))}function mU(t,e){let r=[...e];return t.masterCategories.forEach(t=>{t.subCategories&&t.subCategories.forEach(t=>{r.find(e=>e.categoryId===t.entityId)||r.push({budgeted:0,categoryId:t.entityId})})}),r}async function mj(t,e){let r=nu(t.monthlyBudgets,"month");await mw(async()=>{for(let n of r){let r=mU(t,n.monthlySubCategoryBudgets.filter(t=>!t.isTombstone));await Promise.all(r.map(async t=>{let r=mM(t.budgeted),o=e.get(t.categoryId),a=rC(n.month);o&&(await mv(a,o,r),"AffectsBuffer"===t.overspendingHandling?await mS(a,o,!1):"Confined"===t.overspendingHandling&&await mS(a,o,!0))}))}})}function mW(t){return t.split(",").reduce((t,e)=>{let[r,n]=e.split("-");return t+parseInt(n)},0)}function mH(t,e){let r=e.map(e=>{let r;let n=t.readFile(e).toString("utf8");try{r=JSON.parse(n)}catch(t){return null}return r.hasFullKnowledge?{deviceGUID:r.deviceGUID,shortName:r.shortDeviceId,recentness:mW(r.knowledge)}:null}).filter(t=>t);return(r=nu(r,"recentness"))[r.length-1].deviceGUID}async function mz(t){let e=new Map;console.log("Importing Accounts..."),await mL(t,e),console.log("Importing Categories..."),await mF(t,e),console.log("Importing Payees..."),await mP(t,e),console.log("Importing Transactions..."),await mB(t,e),console.log("Importing Budgets..."),await mj(t,e),console.log("Setting up...")}function mV(t){let e=mk()(t);if(!/\.zip/.test(e))return null;let r=(e=e.replace(/\.zip$/,"").replace(/.ynab4$/,"")).match(/([^/~]+)[^/]*$/);return r?r[1]:null}function m$(t,e){let r=t.filter(t=>t.entryName===e);if(0===r.length)throw Error("Could not find file: "+e);if(r.length>=2)throw Error("File name matches multiple files: "+e);return r[0]}function mq(...t){return t.slice(1).reduce((t,e)=>t+"/"+e.replace(/^\//,""),t[0].replace(/\/$/,""))}function mG(t){let e;let r=new(uL())(t),n=r.getEntries(),o="",a=n[0].entryName.match(/([^/]*\.ynab4)/);a&&(o=a[1]+"/");let s=JSON.parse(r.readFile(m$(n,o+"Budget.ymeta")).toString("utf8")),u=mq(o,s.relativeDataFolderName),l=mH(r,n.filter(t=>t.entryName.startsWith(mq(u,"devices")))),c=mq(u,l,"Budget.yfull");try{e=r.readFile(m$(n,c)).toString("utf8")}catch(t){throw console.log(t),Error("Error reading Budget.yfull file")}try{return JSON.parse(e)}catch(t){throw Error("Error parsing Budget.yfull file")}}function mY(t){return Math.round(t/10)}function mK(t,e){return Promise.all(t.accounts.map(async t=>{if(!t.deleted){let r=await mA({name:t.name,offbudget:!t.on_budget,closed:t.closed});e.set(t.id,r)}}))}async function mZ(t,e){let r=m3(await mN(),"Income"),n=["To be Budgeted","Inflow: Ready to Assign"];function o(e){return e.category_group_id===m3(t.category_groups,"Internal Master Category")?n.some(t=>m6(e.name,t))?"income":"internal":e.category_group_id===m3(t.category_groups,"Credit Card Payments")?"creditCard":e.category_group_id===m3(t.category_groups,"Income")?"income":void 0}for(let n of t.category_groups)if(!n.deleted){let a;for(let s of(m6(n.name,"Internal Master Category")||m6(n.name,"Credit Card Payments")||m6(n.name,"Income")||(a=await mI({name:n.name,is_income:!1}),e.set(n.id,a)),m6(n.name,"Income")&&(a=r,e.set(n.id,a)),t.categories.filter(t=>t.category_group_id===n.id).reverse()))if(!s.deleted)switch(o(s)){case"income":{let t=r;e.set(s.id,t);break}case"creditCard":case"internal":break;default:{let t=await mD({name:s.name,group_id:a});e.set(s.id,t)}}}}function mJ(t,e){return Promise.all(t.payees.map(async t=>{if(!t.deleted){let r=await mC({name:t.name});e.set(t.id,r)}}))}async function mX(t,e){let r=await mR(),n=await mN(),o=m3(n,"Income"),a=m3(n,"Starting Balances"),s=m3(t.payees,"Starting Balance"),u=r2(t.transactions,"account_id"),l=r2(t.subtransactions,"transaction_id"),c=new Map(r.filter(t=>t?.transfer_acct).map(t=>[t.transfer_acct,t])),f=new Map,d=[],p=[],h=new Map,y=new Map;for(let r of t.subtransactions)e.set(r.id,K()),r.transfer_account_id&&(d.push(r),p.push(r.transaction_id));for(let r of t.transactions){if(e.set(r.id,K()),r.transfer_account_id&&!r.transfer_transaction_id){let t=r.account_id+"#"+r.transfer_account_id;f.has(t)?f.get(t).push(r):f.set(t,[r])}p.includes(r.id)&&(h.set(r.id,r.account_id),y.set(r.id,r.date))}let g=d.reduce((t,e)=>{let r=e.transfer_account_id+"#"+h.get(e.transaction_id);return t.has(r)?t.get(r).push(e):t.set(r,[e]),t},new Map),m=(t,e)=>{let r="date"in t?t.date:y.get(t.transaction_id),n="date"in e?e.date:y.get(e.transaction_id),o="date"in t?t.amount:-t.amount,a="date"in e?e.amount:-e.amount;return r>n?1:r<n?-1:o>a?1:o<a?-1:t.memo>e.memo?1:t.memo<e.memo?-1:0},_=new Map;f.forEach((t,r)=>{let n=g.get(r);if(n){t.sort(m),n.sort(m);let r=0,o=0;do switch(m(t[r],n[o])){case 0:_.set(t[r].id,e.get(n[o].id)),_.set(n[o].id,e.get(t[r].id)),r++,o++;break;case -1:r++;break;case 1:o++}while(r<t.length&&o<n.length)}}),await Promise.all([...u.keys()].map(async r=>{let n=u.get(r).map(r=>{if(r.deleted)return null;let n=l.get(r.id),u={id:e.get(r.id),account:e.get(r.account_id),date:r.date,amount:mY(r.amount),category:e.get(r.category_id)||null,cleared:["cleared","reconciled"].includes(r.cleared),reconciled:"reconciled"===r.cleared,notes:r.memo||null,imported_id:r.import_id||null,transfer_id:e.get(r.transfer_transaction_id)||_.get(r.id)||null,subtransactions:n?n.map(t=>({id:e.get(t.id),amount:mY(t.amount),category:e.get(t.category_id)||null,notes:t.memo,transfer_id:_.get(t.id)||null,payee:null,imported_payee:null})):null,payee:null,imported_payee:null},f=(r,n)=>{if(r.transfer_account_id){let t=e.get(r.transfer_account_id);n.payee=c.get(t)?.id}else n.payee=e.get(r.payee_id),n.imported_payee=t.payees.find(t=>!t.deleted&&t.id===r.payee_id)?.name};return f(r,u),u.subtransactions&&n.forEach(t=>{let r=u.subtransactions.find(r=>r.id===e.get(t.id));f(t,r)}),r.payee_id===s&&e.get(r.category_id)===o&&(u.category=a,u.payee=null),u}).filter(t=>t);await mT(e.get(r),n,{learnCategories:!0})}))}async function mQ(t,e){let r=nu(t.months,"month"),n=m3(t.category_groups,"Internal Master Category"),o=m3(t.category_groups,"Credit Card Payments");await mw(async()=>{for(let t of r){let r=rC(t.month);await Promise.all(t.categories.map(async t=>{let a=e.get(t.id),s=Math.round(t.budgeted/10);a&&t.category_group_id!==n&&t.category_group_id!==o&&await mv(r,a,s)}))}})}async function m0(t){let e=new Map;console.log("Importing Accounts..."),await mK(t,e),console.log("Importing Categories..."),await mZ(t,e),console.log("Importing Payees..."),await mJ(t,e),console.log("Importing Transactions..."),await mX(t,e),console.log("Importing Budgets..."),await mQ(t,e),console.log("Setting up...")}function m1(t){let e=JSON.parse(t.toString());return e.data&&(e=e.data),e.budget&&(e=e.budget),e}function m2(t,e){return e.budget_name||e.name}function m6(t,e){return 0===t.localeCompare(e,void 0,{sensitivity:"base"})}function m4(t,e){return t.find(t=>m6(t.name,e))}function m3(t,e){return m4(t,e)?.id}let m8={ynab4:b,ynab5:w};async function m5(t,e,r){if("actual"===t)return my(e,r);let n=m8[t];try{let o,a;try{o=n.parseFile(r),a=n.getBudgetName(e,o)}catch(t){console.error("failed to parse file",t)}if(!a)return{error:"not-"+t};try{await _R["api/start-import"]({budgetName:a})}catch(t){return console.error("failed to start import",t),{error:"unknown"}}await n.doImport(o)}catch(t){return await _R["api/abort-import"](),console.error("failed to run import",t),{error:"unknown"}}await _R["api/finish-import"]()}let m7=s$();function m9(t){function e(t,e){let r=t.map(t=>{try{e(t)}catch(t){if(t instanceof n2)return console.warn("Invalid rule",t),t.type;throw t}return null});return r.filter(t=>"string"==typeof t).length?r:null}let r=e(t.conditions,t=>new pp(t.op,t.field,t.value,t.options,cE)),n=e(t.actions,t=>"set-split-amount"===t.op?new py(t.op,null,t.value,t.options,cE):"link-schedule"===t.op?new py(t.op,null,t.value,null,cE):"prepend-notes"===t.op||"append-notes"===t.op?new py(t.op,null,t.value,null,cE):new py(t.op,t.field,t.value,t.options,cE));return r||n?{conditionErrors:r,actionErrors:n}:null}m7.method("notes-save",async({id:t,note:e})=>{await lF("notes",{id:t,note:e})});let _t=s$();function _e(t,e){e.forEach((t,e)=>{if("transactions"===e){let e=[];t.forEach(t=>{if(1===t.isChild&&null==t.parent_id&&t.id.includes("/")){let r=t.id.split("/")[0];e.push({dataset:"transactions",row:t.id,column:"parent_id",value:r,timestamp:tE.send()})}}),e.length>0&&u7(e)}})}_t.method("rule-validate",async function(t){return{error:m9(t)}}),_t.method("rule-add",ia(async function(t){let e=m9(t);return e?{error:e}:{id:await pJ(t),...t}})),_t.method("rule-update",ia(async function(t){let e=m9(t);return e?{error:e}:(await pX(t),t)})),_t.method("rule-delete",ia(async function(t){return pQ(t)})),_t.method("rule-delete-all",ia(async function(t){let e=!1;return await ln(async()=>{for(let r of t)!1===await pQ(r)&&(e=!0)}),{someDeletionsFailed:e}})),_t.method("rule-apply-actions",ia(ut(async function({transactions:t,actions:e}){return p6(t,e)}))),_t.method("rule-add-payee-rename",ia(async function({fromNames:t,to:e}){return p5(t,e)})),_t.method("rules-get",async function(){return pS(pZ()).map(t=>t.serialize())}),_t.method("rule-get",async function({id:t}){let e=pZ().find(e=>e.id===t);return e?e.serialize():null}),_t.method("rules-run",async function({transaction:t}){return p1(t)});let _r=null;function _n(){_i(),_r=u3(_e)}function _i(){_r&&(_r(),_r=null)}let _o=s$();_o.method("tools/fix-split-transactions",async()=>{let t=await lC(`
    SELECT t.*, p.payee AS parentPayee FROM v_transactions_internal t
    LEFT JOIN v_transactions_internal p ON t.parent_id = p.id
    WHERE t.is_child = 1 AND t.payee IS NULL AND p.payee IS NOT NULL
  `);await id(async()=>{let e=t.map(t=>({id:t.id,payee:t.parentPayee}));await pP({updated:e})});let e=await lC(`
    SELECT t.id, p.cleared FROM v_transactions_internal t
    LEFT JOIN v_transactions_internal p ON t.parent_id = p.id
    WHERE t.is_child = 1 AND t.cleared != p.cleared
  `);await id(async()=>{let t=e.map(t=>({id:t.id,cleared:1===t.cleared}));await pP({updated:t})});let r=await lC(`
    SELECT t.* FROM v_transactions_internal t
    LEFT JOIN v_transactions_internal p ON t.parent_id = p.id
    WHERE t.is_child = 1 AND t.tombstone = 0 AND (p.tombstone = 1 OR p.id IS NULL)
  `);return await id(async()=>{let t=r.map(t=>({id:t.id,tombstone:1}));await pP({updated:t})}),{numBlankPayees:t.length,numCleared:e.length,numDeleted:r.length}});var _a=__webpack_require__(2568),_s=__webpack_require__.n(_a);let _u=iZ,_l={1632571489012:async function(t){function e(t){return null!=t.expr?t.expr:t.cachedValue}t.execQuery(`
CREATE TABLE zero_budget_months
  (id TEXT PRIMARY KEY,
   buffered INTEGER DEFAULT 0);

CREATE TABLE zero_budgets
  (id TEXT PRIMARY KEY,
   month INTEGER,
   category TEXT,
   amount INTEGER DEFAULT 0,
   carryover INTEGER DEFAULT 0);

CREATE TABLE reflect_budgets
  (id TEXT PRIMARY KEY,
   month INTEGER,
   category TEXT,
   amount INTEGER DEFAULT 0,
   carryover INTEGER DEFAULT 0);

CREATE TABLE notes
  (id TEXT PRIMARY KEY,
   note TEXT);

CREATE TABLE kvcache (key TEXT PRIMARY KEY, value TEXT);
CREATE TABLE kvcache_key (id INTEGER PRIMARY KEY, key REAL);
`);let r=t.runQuery("SELECT * FROM spreadsheet_cells WHERE name LIKE 'budget%!budget-%'",[],!0);t.transaction(()=>{r.forEach(r=>{let n=r.name.match(/^(budget-report|budget)(\d+)!budget-(.+)$/);if(null==n){console.log("Warning: invalid budget month name",r.name);return}let o=n[1],a=n[2].slice(0,4)+"-"+n[2].slice(4),s=parseInt(n[2]),u=n[3],l=parseInt(e(r));isNaN(l)&&(l=0);let c=r.name.split("!")[0],f=t.runQuery("SELECT * FROM spreadsheet_cells WHERE name = ?",[`${c}!carryover-${u}`],!0),d="budget-report"===o?"reflect_budgets":"zero_budgets";t.runQuery(`INSERT INTO ${d} (id, month, category, amount, carryover) VALUES (?, ?, ?, ?, ?)`,[`${a}-${u}`,s,u,l,f.length>0&&"true"===e(f[0])?1:0])})});let n=t.runQuery("SELECT * FROM spreadsheet_cells WHERE name LIKE 'budget%!buffered'",[],!0);t.transaction(()=>{n.forEach(r=>{let n=r.name.match(/^budget(\d+)!buffered$/);if(n){let o=n[1].slice(0,4)+"-"+n[1].slice(4),a=parseInt(e(r));isNaN(a)&&(a=0),t.runQuery("INSERT INTO zero_budget_months (id, buffered) VALUES (?, ?)",[o,a])}})});let o=t.runQuery("SELECT * FROM spreadsheet_cells WHERE name LIKE 'notes!%'",[],!0),a=t=>{try{let e=JSON.parse(t);return e&&""!==e?e:null}catch(t){return null}};t.transaction(()=>{o.forEach(r=>{let n=a(e(r));if(n){let[,e]=r.name.split("!");t.runQuery("INSERT INTO notes (id, note) VALUES (?, ?)",[e,n])}})}),t.execQuery(`
    DROP TABLE spreadsheet_cells;
    ANALYZE;
    VACUUM;
  `)},1722717601e3:async function(t){let e=await t.runQuery("SELECT id FROM categories WHERE tombstone = 0",[],!0);for(let r of(await t.runQuery("SELECT id, selected_categories, conditions FROM custom_reports WHERE tombstone = 0 AND selected_categories IS NOT NULL",[],!0))){let n=r.conditions?JSON.parse(r.conditions):[],o=(r.selected_categories?JSON.parse(r.selected_categories):[]).map(({id:t})=>t);!e.find(({id:t})=>!o.includes(t))||n.find(({field:t})=>"category"===t)||await t.runQuery("UPDATE custom_reports SET conditions = ? WHERE id = ?",[JSON.stringify([...n,{field:"category",op:"oneOf",value:o,type:"id"}]),r.id])}await t.runQuery("UPDATE custom_reports SET selected_categories = NULL WHERE tombstone = 0")},1722804019e3:async function(t){t.transaction(()=>{t.execQuery(`
      CREATE TABLE dashboard
        (id TEXT PRIMARY KEY,
         type TEXT,
         width INTEGER,
         height INTEGER,
         x INTEGER,
         y INTEGER,
         meta TEXT,
         tombstone INTEGER DEFAULT 0);

      INSERT INTO dashboard (id, type, width, height, x, y)
      VALUES
        ('${K()}','net-worth-card', 8, 2, 0, 0),
        ('${K()}', 'cash-flow-card', 4, 2, 8, 0);
    `),t.runQuery("SELECT id FROM custom_reports WHERE tombstone = 0 ORDER BY name COLLATE NOCASE ASC",[],!0).forEach((e,r)=>{t.runQuery("INSERT INTO dashboard (id, type, width, height, x, y, meta) VALUES (?, ?, ?, ?, ?, ?, ?)",[K(),"custom-report",4,2,4*r%12,2+2*Math.floor(r/3),JSON.stringify({id:e.id})])})})}};function _c(t){return parseInt(t.match(/^(\d)+/)[0])}async function _f(t){let e=1685375406832,r=1688749527273;(await _d(t)).includes(e)&&(await iC(t,"DELETE FROM __migrations__ WHERE id = ?",[e]),await iC(t,"INSERT INTO __migrations__ (id) VALUES (?)",[r]))}async function _d(t){return(await iC(t,"SELECT * FROM __migrations__ ORDER BY id ASC",[],!0)).map(t=>t.id)}async function _p(t){return(await ot(t)).filter(t=>t.match(/(\.sql|\.js)$/)).sort((t,e)=>{let r=_c(t),n=_c(e);return r<n?-1:r>n?1:0})}function _h(t,e){return e.filter(e=>{let r=_c(e);return -1===t.indexOf(r)})}async function _y(t,e){let r={runQuery:(e,r,n)=>iC(t,e,r,n),execQuery:e=>iM(t,e),transaction:e=>ik(t,e)};if(null==_l[e])throw Error("Could not find JS migration code to run for "+e);return(0,_l[e])(r,()=>K())}async function _g(t,e){try{await iM(t,e)}catch(t){throw console.log("Error applying sql:",e),t}}async function _m(t,e,r){let n=await oo(iH(r,e));e.match(/\.js$/)?await _y(t,_c(e)):await _g(t,n),await iC(t,"INSERT INTO __migrations__ (id) VALUES (?)",[_c(e)])}function __(t,e){for(let r=0;r<t.length;r++)if(r>=e.length||t[r]!==_c(e[r]))throw console.error("Database is out of sync with migrations:",{appliedIds:t,available:e}),Error("out-of-sync-migrations")}async function _b(t){await _f(t);let e=await _d(t),r=await _p(_u);__(e,r);let n=_h(e,r);for(let e of n)await _m(t,e,_u);return n}async function _w(){await _b(lv())}async function _E(){let t="view-hash",{value:e}=await lM("SELECT value FROM __meta__ WHERE key = ?",[t])||{},r=as(al,ac),n=_s()(r);e!==n&&(await lO(r),await lT("INSERT OR REPLACE INTO __meta__ (key, value) VALUES (?, ?)",[t,n]))}async function _v(){await _w(),await _E()}async function _S(t){let e="My Finances",r=1,n=e;for(;t.find(t=>t.name===n);)n=`${e} ${r}`,r++;return n}async function _T(t){let e=t.replace(/( |[^A-Za-z0-9])/g,"-")+"-"+K().slice(0,7),r=0,n=i$(e);for(;await oe(n);)r++,n=i$(e+r.toString());return r>0&&(e+=r.toString()),e}var _O=__webpack_require__(8764).Buffer,_A=__webpack_require__(4155);let _I="_demo-budget",_N="_test-budget";function _D({names:t}){i_("cells-changed",t.map(t=>{let e=az()._getNode(t);return{name:e.name,value:e.value}}))}let _R={};_R.undo=ia(async function(){return ur()}),_R.redo=ia(function(){return ui()}),_R["transactions-batch-update"]=ia(async function({added:t,deleted:e,updated:r,learnCategories:n}){return s9(async()=>await pP({added:t,updated:r,deleted:e,learnCategories:n}))}),_R["transaction-add"]=ia(async function(t){return await _R["transactions-batch-update"]({added:[t]}),{}}),_R["transaction-update"]=ia(async function(t){return await _R["transactions-batch-update"]({updated:[t]}),{}}),_R["transaction-delete"]=ia(async function(t){return await _R["transactions-batch-update"]({deleted:[t]}),{}}),_R["transactions-parse-file"]=async function({filepath:t,options:e}){return h6(t,e)},_R["transactions-export"]=async function({transactions:t,accounts:e,categoryGroups:r,payees:n}){return hk(t,e,r,n)},_R["transactions-export-query"]=async function({query:t}){return hL(new af(t))},_R["get-categories"]=async function(){return{grouped:await lq(),list:await l$()}},_R["get-earliest-transaction"]=async function(){let{data:t}=await aA(ad("transactions").options({splits:"none"}).orderBy({date:"asc"}).select("*").limit(1));return t[0]||null},_R["get-budget-bounds"]=async function(){return sH()},_R["rollover-budget-month"]=async function({month:t}){let e=await lq(),r=rZ(t);function n(t){let e=aX(r,t);return{value:""===e?0:e,name:aW(r,t)}}let o=[n("available-funds"),n("last-month-overspent"),n("buffered"),n("total-budgeted"),n("to-budget"),n("from-last-month"),n("total-income"),n("total-spent"),n("total-leftover")];for(let t of e)if(t.is_income)for(let e of(o.push(n("total-income")),t.categories))o.push(n(`sum-amount-${e.id}`));else for(let e of(o=o.concat([n(`group-budget-${t.id}`),n(`group-sum-amount-${t.id}`),n(`group-leftover-${t.id}`)]),t.categories))o=o.concat([n(`budget-${e.id}`),n(`sum-amount-${e.id}`),n(`leftover-${e.id}`),n(`carryover-${e.id}`)]);return o},_R["report-budget-month"]=async function({month:t}){let e=await lq(),r=rZ(t);function n(t){let e=aX(r,t);return{value:""===e?0:e,name:aW(r,t)}}let o=[n("total-budgeted"),n("total-budget-income"),n("total-saved"),n("total-income"),n("total-spent"),n("real-saved"),n("total-leftover")];for(let t of e)for(let e of(o=o.concat([n(`group-budget-${t.id}`),n(`group-sum-amount-${t.id}`),n(`group-leftover-${t.id}`)]),t.categories))o=o.concat([n(`budget-${e.id}`),n(`sum-amount-${e.id}`),n(`leftover-${e.id}`)]),t.is_income||o.push(n(`carryover-${e.id}`));return o},_R["budget-set-type"]=async function({type:t}){if(!aC.includes(t))throw Error("Invalid budget type: "+t);if(t!==aF().budgetType)return ak({budgetType:t})},_R["category-create"]=ia(async function({name:t,groupId:e,isIncome:r,hidden:n}){return s9(async()=>{if(!e)throw n6("Creating a category: groupId is required");return lJ({name:t,cat_group:e,is_income:r?1:0,hidden:n?1:0})})}),_R["category-update"]=ia(async function(t){return s9(async()=>{try{await lX(t)}catch(t){if(t.message.toLowerCase().includes("unique constraint"))return{error:{type:"category-exists"}};throw t}return{}})}),_R["category-move"]=ia(async function({id:t,groupId:e,targetId:r}){return s9(async()=>(await ln(async()=>{await lQ(t,e,r)}),"ok"))}),_R["category-delete"]=ia(async function({id:t,transferId:e}){return s9(async()=>{let r={};return await ln(async()=>{let n=await lM("SELECT is_income FROM categories WHERE id = ?",[t]);if(!n){r={error:"no-categories"};return}let o=e&&await lM("SELECT is_income FROM categories WHERE id = ?",[e]);if(n&&(!e||o)){if(e&&n.is_income!==o.is_income){r={error:"category-type"};return}}else{r={error:"no-categories"};return}0===n.is_income&&e&&await sj([t],e),await l0({id:t},e)}),r})}),_R["get-category-groups"]=async function(){return await lq()},_R["category-group-create"]=ia(async function({name:t,isIncome:e}){return s9(async()=>lG({name:t,is_income:e?1:0}))}),_R["category-group-update"]=ia(async function(t){return s9(async()=>lY(t))}),_R["category-group-move"]=ia(async function({id:t,targetId:e}){return s9(async()=>(await ln(async()=>{await lK(t,e)}),"ok"))}),_R["category-group-delete"]=ia(async function({id:t,transferId:e}){return s9(async()=>{let r=await lC("SELECT id FROM categories WHERE cat_group = ? AND tombstone = 0",[t]);return ln(async()=>{e&&await sj(r.map(t=>t.id),e),await lZ({id:t},e)})})}),_R["must-category-transfer"]=async function({id:t}){return 0!==(await lT(`SELECT count(t.id) as count FROM transactions t
       LEFT JOIN category_mapping cm ON cm.id = t.category
       WHERE cm.transferId = ? AND t.tombstone = 0`,[t],!0))[0].count||[...az().meta().createdMonths].some(e=>{let r=rZ(e),n=az().getCellValue(r,"budget-"+t);return null!=n&&0!==n})},_R["payee-create"]=ia(async function({name:t}){return s9(async()=>l2({name:t}))}),_R["common-payees-get"]=async function(){return l7()},_R["payees-get"]=async function(){return l5()},_R["payees-get-orphaned"]=async function(){return l9()},_R["payees-get-rule-counts"]=async function(){let t={};return pO(pZ(),"payee",(e,r)=>{null==t[r]&&(t[r]=0),t[r]++}),t},_R["payees-merge"]=ia(async function({targetId:t,mergeIds:e}){return s9(async()=>l8(t,e),{targetId:t,mergeIds:e})}),_R["payees-batch-change"]=ia(async function({added:t,deleted:e,updated:r}){return s9(async()=>ln(async()=>{e&&await Promise.all(e.map(t=>l6(t))),t&&await Promise.all(t.map(t=>l2(t))),r&&await Promise.all(r.map(t=>l3(t)))}))}),_R["payees-check-orphaned"]=async function({ids:t}){let e=new Set(await ct());return t.filter(t=>e.has(t))},_R["payees-get-rules"]=async function({id:t}){return p4(t).map(t=>t.serialize())},_R["make-filters-from-conditions"]=async function({conditions:t}){return p2(t)},_R.getCell=async function({sheetName:t,name:e}){let r=["name","value"],n=az()._getNode(aW(t,e));if(!r)return n;{let t={};return r.forEach(e=>{"run"===e?t[e]=n._run?n._run.toString():null:t[e]=n[e]}),t}},_R.getCells=async function({names:t}){return t.map(t=>({value:az()._getNode(t).value}))},_R.getCellNamesInSheet=async function({sheetName:t}){let e=[];for(let r of az().getNodes().keys()){let{sheet:n,name:o}=aj(r);n===t&&e.push(o)}return e},_R.debugCell=async function({sheetName:t,name:e}){let r=az().getNode(aW(t,e));return{...r,_run:r._run&&r._run.toString()}},_R["create-query"]=async function({sheetName:t,name:e,query:r}){return az().createQuery(t,e,r),"ok"},_R.query=async function(t){if(null==t.table)throw Error("query has no table, did you forgot to call `.serialize`?");return aA(t)},_R["account-update"]=ia(async function({id:t,name:e}){return s9(async()=>(await lF("accounts",{id:t,name:e}),{}))}),_R["accounts-get"]=async function(){return cr()},_R["account-balance"]=async function({id:t,cutoff:e}){let{balance:r}=await lM("SELECT sum(amount) as balance FROM transactions WHERE acct = ? AND isParent = 0 AND tombstone = 0 AND date <= ?",[t,od(rM(e))]);return r||0},_R["account-properties"]=async function({id:t}){let{balance:e}=await lM("SELECT sum(amount) as balance FROM transactions WHERE acct = ? AND isParent = 0 AND tombstone = 0",[t]),{count:r}=await lM("SELECT count(id) as count FROM transactions WHERE acct = ? AND tombstone = 0",[t]);return{balance:e||0,numTransactions:r}},_R["gocardless-accounts-link"]=async function({requisitionId:t,account:e,upgradingId:r,offBudget:n}){let o;let a=await hF(e.institution,t);return r?(o=(await lM("SELECT * FROM accounts WHERE id = ?",[r])).id,await lF("accounts",{id:o,account_id:e.account_id,bank:a.id,account_sync_source:"goCardless"})):(o=K(),await lP("accounts",{id:o,account_id:e.account_id,mask:e.mask,name:e.name,official_name:e.official_name,bank:a.id,offbudget:n?1:0,account_sync_source:"goCardless"}),await l2({name:"",transfer_acct:o})),await hf(void 0,void 0,o,e.account_id,a.bank_id),i_("sync-event",{type:"success",tables:["transactions"]}),"ok"},_R["simplefin-accounts-link"]=async function({externalAccount:t,upgradingId:e,offBudget:r}){let n;let o={name:t.institution??"Unknown"},a=await hF(o,t.orgDomain??t.orgId);return e?(n=(await lM("SELECT * FROM accounts WHERE id = ?",[e])).id,await lF("accounts",{id:n,account_id:t.account_id,bank:a.id,account_sync_source:"simpleFin"})):(n=K(),await lP("accounts",{id:n,account_id:t.account_id,name:t.name,official_name:t.name,bank:a.id,offbudget:r?1:0,account_sync_source:"simpleFin"}),await l2({name:"",transfer_acct:n})),await hf(void 0,void 0,n,t.account_id,a.bank_id),await i_("sync-event",{type:"success",tables:["transactions"]}),"ok"},_R["account-create"]=ia(async function({name:t,balance:e,offBudget:r,closed:n}){return s9(async()=>{let o=await cn({name:t,offbudget:r?1:0,closed:n?1:0});if(await l2({name:"",transfer_acct:o}),null!=e&&0!==e){let t=await cp();await cl({account:o,amount:no(e),category:r?null:t.category,payee:t.id,date:rk(),cleared:!0,starting_balance_flag:!0})}return o})}),_R["account-close"]=ia(async function({id:t,transferAccountId:e,categoryId:r,forced:n}){return await _R["account-unlink"]({id:t}),s9(async()=>{let o=await lM("SELECT * FROM accounts WHERE id = ? AND tombstone = 0",[t]);if(!o||1===o.closed)return;let{balance:a,numTransactions:s}=await _R["account-properties"]({id:t});if(0===s)await co({id:t});else if(n){let e=await lT("SELECT id, transfer_id FROM v_transactions WHERE account = ?",[t],!0),{id:r}=await lM("SELECT id FROM payees WHERE transfer_acct = ?",[t]);await ln(async()=>{e.forEach(t=>{t.transfer_id&&cc({id:t.transfer_id,payee:null,transfer_id:null}),cf({id:t.id})}),co({id:t}),l4({id:r})})}else{if(0!==a&&null==e)throw n6("balance is non-zero: transferAccountId is required");if(await lF("accounts",{id:t,closed:1}),0!==a){let{id:n}=await lM("SELECT id FROM payees WHERE transfer_acct = ?",[e]);await _R["transaction-add"]({id:K(),payee:n,amount:-a,account:t,date:rk(),notes:"Closing account",category:r||null})}}})}),_R["account-reopen"]=ia(async function({id:t}){return s9(async()=>{await lF("accounts",{id:t,closed:0})})}),_R["account-move"]=ia(async function({id:t,targetId:e}){return s9(async()=>{await ca(t,e)})});let _C=!1;async function _M(t){let e;try{e=i$(t)}catch(t){return n8(Error("`getBudgetDir` failed in `loadBudget`: "+t.message)),{error:"budget-not-found"}}if(n5({message:"Loading budget "+e}),!await oe(e))return n8(Error("budget directory does not exist")),{error:"budget-not-found"};try{await ax(t),await lb(t)}catch(e){return n5({message:"Error loading budget "+t}),n8(e),await _R["close-budget"](),{error:"opening-budget"}}aF().userId||ak({userId:await t5("user-token")});try{await _v()}catch(r){let e;return console.warn("Error updating",r),r.message.includes("out-of-sync-migrations")?e={error:"out-of-sync-migrations"}:r.message.includes("out-of-sync-data")?e={error:"out-of-sync-data"}:(n8(r),aI.info("Error updating budget "+t,r),console.log("Error updating budget",r),e={error:"loading-budget"}),await _R["close-budget"](),e}await lS(),aF().resetClock&&(tp().timestamp.setNode(tm()),await lT("INSERT OR REPLACE INTO messages_clock (id, clock) VALUES (1, ?)",[ty(tp())]),await ak({resetClock:!1})),aD||aN||yT(t);try{await aG(_,_D)}catch(t){return n8(t),await _R["close-budget"](),{error:"opening-budget"}}return az().meta().budgetType=aF().budgetType,await sH(),await cT(),await pK(),await _n(),await sq.startServices(),s7(),t===_I?uX("disabled"):(s2()?uX("enabled"):uX("disabled"),await t7("lastBudget",t),aN||await u$()),sq.events.emit("load-budget",{id:t}),{}}function _x(){return aN?"/documents":iH("/documents","Actual")}async function _k(){async function t(t){await oe(t)||await or(t)}let e=await t5("document-dir");if(e)try{await t(e)}catch(t){e=null}e||(e=_x()),await t(e),iz(e)}async function _L(t,e){await iI(),await Promise.all([t3(),i7()]),await _k();let r=await t5("encrypt-keys");if(r)try{let t=JSON.parse(r);await Promise.all(Object.keys(t).map(e=>uE(t[e])))}catch(t){throw console.log("Error loading key",t),Error("load-key-error")}let n=await t5("server-self-signed-cert");if(n)try{let t=await oo(n);v().globalAgent.options.ca=[...T().rootCertificates,t]}catch(t){console.error("Unable to add the self signed certificate, removing its reference",t),await t9("server-self-signed-cert")}let o=await t5("server-url");o||await t9("user-token"),s1(o),im(e,sq.handlers),__webpack_require__.g.$query=aA,__webpack_require__.g.$q=ad,t&&(__webpack_require__.g.$send=(t,e)=>ic(sq.handlers[t],e),__webpack_require__.g.$db=_,__webpack_require__.g.$setSyncingMode=uX)}async function _F(t){let e,r;return t?(e=t.dataDir,r=t.serverURL):(e="/",r=({}).ACTUAL_SERVER_URL),await iI(),await Promise.all([t3({persist:!1}),i7()]),iz(e||_A.cwd()),r?(s1(r),t.password&&await ic(_R["subscribe-sign-in"],{password:t.password})):(s1(null),sq.events.on("load-budget",()=>{uX("offline")})),_P}_R["secret-set"]=async function({name:t,value:e}){let r=await t5("user-token");if(!r)return{error:"unauthorized"};try{return await sZ(s2().BASE_SERVER+"/secret",{name:t,value:e},{"X-ACTUAL-TOKEN":r})}catch(t){return console.error(t),{error:"failed"}}},_R["secret-check"]=async function(t){let e=await t5("user-token");if(!e)return{error:"unauthorized"};try{return await sX(s2().BASE_SERVER+"/secret/"+t,{"X-ACTUAL-TOKEN":e})}catch(t){return console.error(t),{error:"failed"}}},_R["gocardless-poll-web-token"]=async function({upgradingAccountId:t,requisitionId:e}){let r=await t5("user-token");if(!r)return{error:"unknown"};let n=Date.now();async function o(a){if(_C)return;if(Date.now()-n>=6e5){a("timeout");return}let s=await sZ(s2().GOCARDLESS_SERVER+"/get-accounts",{upgradingAccountId:t,requisitionId:e},{"X-ACTUAL-TOKEN":r});s?s.error?a("unknown"):a(null,s):setTimeout(()=>o(a),3e3)}return _C=!1,new Promise(t=>{o((e,r)=>{e?t({error:e}):t({data:r})})})},_R["gocardless-status"]=async function(){let t=await t5("user-token");return t?sZ(s2().GOCARDLESS_SERVER+"/status",{},{"X-ACTUAL-TOKEN":t}):{error:"unauthorized"}},_R["simplefin-status"]=async function(){let t=await t5("user-token");return t?sZ(s2().SIMPLEFIN_SERVER+"/status",{},{"X-ACTUAL-TOKEN":t}):{error:"unauthorized"}},_R["simplefin-accounts"]=async function(){let t=await t5("user-token");if(!t)return{error:"unauthorized"};try{return await sZ(s2().SIMPLEFIN_SERVER+"/accounts",{},{"X-ACTUAL-TOKEN":t},6e4)}catch(t){return{error_code:"TIMED_OUT"}}},_R["gocardless-get-banks"]=async function(t){let e=await t5("user-token");return e?sZ(s2().GOCARDLESS_SERVER+"/get-banks",{country:t,showDemo:hC()},{"X-ACTUAL-TOKEN":e}):{error:"unauthorized"}},_R["gocardless-poll-web-token-stop"]=async function(){return _C=!0,"ok"},_R["gocardless-create-web-token"]=async function({upgradingAccountId:t,institutionId:e,accessValidForDays:r}){let n=await t5("user-token");if(!n)return{error:"unauthorized"};try{return await sZ(s2().GOCARDLESS_SERVER+"/create-web-token",{upgradingAccountId:t,institutionId:e,accessValidForDays:r},{"X-ACTUAL-TOKEN":n})}catch(t){return console.error(t),{error:"failed"}}},_R["accounts-bank-sync"]=async function({id:t}){let[[,e],[,r]]=await et(["user-id","user-key"]),n=await lT(`SELECT a.*, b.bank_id as bankId FROM accounts a
         LEFT JOIN banks b ON a.bank = b.id
         WHERE a.tombstone = 0 AND a.closed = 0 ${t?"AND a.id = ?":""}
         ORDER BY a.offbudget, a.sort_order`,t?[t]:[],!0),o=[],a=[],s=[],u=[];for(let t=0;t<n.length;t++){let l=n[t];if(l.bankId)try{console.group("Bank Sync operation for account:",l.name);let{added:t,updated:n}=await hf(e,r,l.id,l.account_id,l.bankId);a=a.concat(t),s=s.concat(n),(t.length>0||n.length>0)&&(u=u.concat(l.id))}catch(t){"BankSyncError"===t.type?o.push({type:"SyncError",accountId:l.id,message:"Failed syncing account "+l.name+".",category:t.category,code:t.code}):t instanceof nJ&&"internal"!==t.reason?o.push({accountId:l.id,message:t.reason?t.reason:`Account ${l.name} is not linked properly. Please link it again.`}):o.push({accountId:l.id,message:"There was an internal error. Please get in touch https://actualbudget.org/contact for support.",internal:t.stack}),t.message="Failed syncing account "+l.name+".",n8(t)}finally{console.groupEnd()}}return u.length>0&&i_("sync-event",{type:"success",tables:["transactions"]}),{errors:o,newTransactions:a,matchedTransactions:s,updatedAccounts:u}},_R["transactions-import"]=ia(function({accountId:t,transactions:e,isPreview:r}){return s9(async()=>{if("string"!=typeof t)throw n6("transactions-import: accountId must be an id");try{return await hu(t,e,!1,!0,r)}catch(t){if(t instanceof n1)return{errors:[{message:t.message}],added:[],updated:[],updatedPreview:[]};throw t}})}),_R["account-unlink"]=ia(async function({id:t}){let{bank:e}=await lM("SELECT bank FROM accounts WHERE id = ?",[t]);if(!e)return"ok";let r="goCardless"===(await lM("SELECT * FROM accounts WHERE id = ?",[t])).account_sync_source;if(await ci({id:t,account_id:null,bank:null,balance_current:null,balance_available:null,balance_limit:null,account_sync_source:null}),!1===r)return;let{count:n}=await lM("SELECT COUNT(*) as count FROM accounts WHERE bank = ?",[e]),o=await t5("user-token");if(!o)return"ok";if(0===n){let{bank_id:t}=await lM("SELECT bank_id FROM banks WHERE id = ?",[e]);try{await sZ(s2().GOCARDLESS_SERVER+"/remove-account",{requisitionId:t},{"X-ACTUAL-TOKEN":o})}catch(t){console.log({error:t})}}return"ok"}),_R["save-global-prefs"]=async function(t){return"maxMonths"in t&&await t7("max-months",""+t.maxMonths),"documentDir"in t&&await oe(t.documentDir)&&await t7("document-dir",t.documentDir),"floatingSidebar"in t&&await t7("floating-sidebar",""+t.floatingSidebar),"theme"in t&&await t7("theme",t.theme),"serverSelfSignedCert"in t&&await t7("server-self-signed-cert",t.serverSelfSignedCert),"ok"},_R["load-global-prefs"]=async function(){let[[,t],[,e],[,r],[,n],[,o]]=await et(["floating-sidebar","max-months","document-dir","encrypt-key","theme"]);return{floatingSidebar:"true"===t,maxMonths:ni(e||""),documentDir:r||_x(),keyId:n&&JSON.parse(n).id,theme:"light"===o||"dark"===o||"auto"===o||"development"===o||"midnight"===o?o:"auto"}},_R["save-prefs"]=async function(t){let{cloudFileId:e}=aF();if(t.budgetName&&e){let r=await t5("user-token");await sZ(s2().SYNC_SERVER+"/update-user-filename",{token:r,fileId:e,name:t.budgetName})}return await ak(t),"ok"},_R["load-prefs"]=async function(){return aF()},_R["sync-reset"]=async function(){return await uK()},_R["sync-repair"]=async function(){await uR()},_R["key-make"]=async function({password:t}){if(!aF())throw Error("user-set-key must be called with file loaded");let e=uw(32).toString("base64"),r=K(),n=await uT({id:r,password:t,salt:e});await uE(n);let o=await ux(n.getId());return await uK({key:n,salt:e,testContent:JSON.stringify({...o,value:o.value.toString("base64")})})},_R["key-test"]=async function({fileId:t,password:e}){let r;let n=await t5("user-token");null==t&&(t=aF().cloudFileId);try{r=await sZ(s2().SYNC_SERVER+"/user-get-key",{token:n,fileId:t})}catch(t){return console.log(t),{error:{reason:"network"}}}let{id:o,salt:a,test:s}=r,u=s;if(null==u)return{error:{reason:"old-key-style"}};u=JSON.parse(u);let l=await uT({id:o,password:e,salt:a});uE(l);try{await ub(_O.from(u.value,"base64"),u.meta)}catch(t){return console.log(t),uv(l),{error:{reason:"decrypt-failure"}}}let c=JSON.parse(await t5("encrypt-keys")||"{}");return c[t]=l.serialize(),await t7("encrypt-keys",JSON.stringify(c)),aF()&&await ak({encryptKeyId:l.getId()}),{}},_R["get-did-bootstrap"]=async function(){return!!await t5("did-bootstrap")},_R["subscribe-needs-bootstrap"]=async function({url:t}={}){let e;try{if(!s2(t))return{bootstrapped:!0,hasServer:!1}}catch(t){return{error:"get-server-failure"}}try{e=await sX(s2(t).SIGNUP_SERVER+"/needs-bootstrap")}catch(t){return{error:"network-failure"}}try{e=JSON.parse(e)}catch(t){return{error:"parse-failure"}}return"error"===e.status?{error:e.reason}:{bootstrapped:e.data.bootstrapped,loginMethod:e.data.loginMethod||"password",hasServer:!0}},_R["subscribe-bootstrap"]=async function({password:t}){let e;try{e=await sZ(s2().SIGNUP_SERVER+"/bootstrap",{password:t})}catch(t){return{error:t.reason||"network-failure"}}return e.token?(await t7("user-token",e.token),{}):{error:"internal"}},_R["subscribe-get-user"]=async function(){if(!s2())return await t5("did-bootstrap")?{offline:!1}:null;let t=await t5("user-token");if(!t)return null;try{let e=await sX(s2().SIGNUP_SERVER+"/validate",{headers:{"X-ACTUAL-TOKEN":t}}),{status:r,reason:n}=JSON.parse(e);if("error"===r){if("unauthorized"===n)return null;return{offline:!0}}return{offline:!1}}catch(t){return console.log(t),{offline:!0}}},_R["subscribe-change-password"]=async function({password:t}){let e=await t5("user-token");if(!e)return{error:"not-logged-in"};try{await sZ(s2().SIGNUP_SERVER+"/change-password",{token:e,password:t})}catch(t){return{error:t.reason||"network-failure"}}return{}},_R["subscribe-sign-in"]=async function({password:t,loginMethod:e}){let r;("string"!=typeof e||null==e)&&(e="password");try{r=await sZ(s2().SIGNUP_SERVER+"/login",{loginMethod:e,password:t})}catch(t){return{error:t.reason||"network-failure"}}if(!r.token)throw Error("login: User token not set");return await t7("user-token",r.token),{}},_R["subscribe-sign-out"]=async function(){return uS(),await er(["user-token","encrypt-keys","lastBudget","readOnly"]),"ok"},_R["get-server-version"]=async function(){let t;if(!s2())return{error:"no-server"};try{let e=await sX(s2().BASE_SERVER+"/info");t=JSON.parse(e).build.version}catch(t){return{error:"network-failure"}}return{version:t}},_R["get-server-url"]=async function(){return s2()&&s2().BASE_SERVER},_R["set-server-url"]=async function({url:t,validate:e=!0}){if(null==t)await t9("user-token");else if(t=t.replace(/\/+$/,""),e){let e=await ic(_R["subscribe-needs-bootstrap"],{url:t});if("error"in e)return{error:e.error}}return await t7("server-url",t),await t7("did-bootstrap",!0),s1(t),{}},_R.sync=async function(){return lf()},_R["get-budgets"]=async function(){let t=await ot(iV());return(await Promise.all(t.map(async t=>{let e=iH(iV(),t,"metadata.json");if(await oe(e)){let r;try{r=JSON.parse(await oo(e))}catch(t){console.log("Error parsing metadata:",t.stack);return}if(t!==_I)return{id:t,...r.cloudFileId?{cloudFileId:r.cloudFileId}:{},...r.encryptKeyId?{encryptKeyId:r.encryptKeyId}:{},...r.groupId?{groupId:r.groupId}:{},name:r.budgetName||"(no name)"}}return null}))).filter(t=>t)},_R["get-remote-files"]=async function(){return uG()},_R["reset-budget-cache"]=ia(async function(){await aZ(_),az().recomputeAll(),await a1()}),_R["upload-budget"]=async function({id:t}={}){if(t){if(aF())throw Error("upload-budget: id given but prefs already loaded");await ax(t)}try{await uV()}catch(t){if(console.log(t),"FileUploadError"===t.type)return{error:t};return n8(t),{error:{reason:"internal"}}}finally{t&&aL()}return{}},_R["download-budget"]=async function({fileId:t}){let e;try{e=await uY(t)}catch(t){if("FileDownloadError"!==t.type)return n8(t),{error:{reason:"internal"}};if("file-exists"===t.reason&&t.meta.id){await ax(t.meta.id);let e=aF().budgetName;aL(),t.meta={...t.meta,name:e}}return{error:t}}let r=e.id;return(await _R["load-budget"]({id:r}),e=await _R["sync-budget"](),await _R["close-budget"](),e.error)?e:{id:r}},_R["sync-budget"]=async function(){return uX("enabled"),await lc()},_R["load-budget"]=async function({id:t}){let e=aF();if(e){if(e.id===t)return{};await _R["close-budget"]()}return await _M(t)},_R["create-demo-budget"]=async function(){return await t7("readOnly",""),_R["create-budget"]({budgetName:"Demo Budget",testMode:!0,testBudgetId:_I})},_R["close-budget"]=async function(){n5({message:"Closing budget"}),await a1(),aY(),la(),await sq.stopServices(),await lw();try{await t7("lastBudget","")}catch(t){}return aL(),yO(),"ok"},_R["delete-budget"]=async function({id:t,cloudFileId:e}){if(e&&await uq(e).catch(()=>{}),t){let e=i$(t);await ol(e)}return"ok"},_R["create-budget"]=async function({budgetName:t,avoidUpload:e,testMode:r,testBudgetId:n}={}){let o;if(r)t=t||"Test Budget",o=n||_N,await oe(i$(o))&&await ol(i$(o));else{if(!t){let e=await _R["get-budgets"]();t=await _S(e)}o=await _T(t)}let a=i$(o);await or(a),await oi(iK,iH(a,"db.sqlite")),await oa(iH(a,"metadata.json"),JSON.stringify(aP(o,t)));let{error:s}=await _M(o);if(s)return console.log("Error creating budget: "+s),{error:s};if(!e&&!r)try{await uV()}catch(t){}return r&&await hN(_R),{}},_R["import-budget"]=async function({filepath:t,type:e}){try{if(!await oe(t))throw Error(`File not found at the provided path: ${t}`);let r=_O.from(await oo(t,"binary"));return await m5(e,t,r)||{}}catch(t){return t.message="Error importing budget: "+t.message,n8(t),{error:"internal-error"}}},_R["export-budget"]=async function(){try{return{data:await uH()}}catch(t){return t.message="Error exporting budget: "+t.message,n8(t),{error:"internal-error"}}},_R["upload-file-web"]=async function({filename:t,contents:e}){return aD?(await oa("/uploads/"+t,e),{}):null},_R["backups-get"]=async function({id:t}){return yw(t)},_R["backup-load"]=async function({id:t,backupId:e}){await yS(t,e)},_R["backup-make"]=async function({id:t}){await yv(t)},_R["get-last-opened-backup"]=async function(){let t=await t5("lastBudget");if(t&&""!==t){let e=i$(t);if(await oe(e))return t}return null},_R["app-focused"]=async function(){aF()&&aF().id&&lf()},_R=yy(_R),O((t,e)=>ic(sq.handlers[t],e)),sq.handlers=_R,sq.combine(g_,gX,ma,m7,_o,mh,g5,_t);let _P={getDataDir:iJ,sendMessage:(t,e)=>i_(t,e),send:async(t,e)=>await ic(sq.handlers[t],e),on:(t,e)=>sq.events.on(t,e),q:ad,db:_}})(),backend=__webpack_exports__})();
//# sourceMappingURL=kcab.worker.750d2daaacbbb60ae065.js.map